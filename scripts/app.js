!function(g,p){"object"==typeof module&&"object"==typeof module.exports?module.exports=g.document?p(g,!0):function(g){if(!g.document)throw Error("jQuery requires a window with a document");return p(g)}:p(g)}("undefined"!=typeof window?window:this,function(g,p){function h(m){var a=m.length,b=k.type(m);return"function"===b||k.isWindow(m)?!1:1===m.nodeType&&a?!0:"array"===b||0===a||"number"==typeof a&&0<a&&a-1 in m}function q(m,a,b){if(k.isFunction(a))return k.grep(m,function(m,d){return!!a.call(m,d,
m)!==b});if(a.nodeType)return k.grep(m,function(m){return m===a!==b});if("string"==typeof a){if(ib.test(a))return k.filter(a,m,b);a=k.filter(a,m)}return k.grep(m,function(m){return 0<=ka.call(a,m)!==b})}function e(m,a){for(;(m=m[a])&&1!==m.nodeType;);return m}function b(m){var a=Ma[m]={};return k.each(m.match(X)||[],function(m,b){a[b]=!0}),a}function c(){J.removeEventListener("DOMContentLoaded",c,!1);g.removeEventListener("load",c,!1);k.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}});
this.expando=k.expando+Math.random()}function d(m,a,b){var d;if(void 0===b&&1===m.nodeType)if(d="data-"+a.replace(jb,"-$1").toLowerCase(),b=m.getAttribute(d),"string"==typeof b){try{b="true"===b?!0:"false"===b?!1:"null"===b?null:+b+""===b?+b:kb.test(b)?k.parseJSON(b):b}catch(c){}Y.set(m,a,b)}else b=void 0;return b}function f(){return!0}function l(){return!1}function s(){try{return J.activeElement}catch(m){}}function w(m,a){return k.nodeName(m,"table")&&k.nodeName(11!==a.nodeType?a:a.firstChild,"tr")?
m.getElementsByTagName("tbody")[0]||m.appendChild(m.ownerDocument.createElement("tbody")):m}function x(m){return m.type=(null!==m.getAttribute("type"))+"/"+m.type,m}function M(m){var a=lb.exec(m.type);return a?m.type=a[1]:m.removeAttribute("type"),m}function u(m,a){for(var b=0,d=m.length;d>b;b++)D.set(m[b],"globalEval",!a||D.get(a[b],"globalEval"))}function C(m,a){var b,d,c,f,l,e;if(1===a.nodeType){if(D.hasData(m)&&(b=D.access(m),d=D.set(a,b),e=b.events))for(c in delete d.handle,d.events={},e)for(b=
0,d=e[c].length;d>b;b++)k.event.add(a,c,e[c][b]);Y.hasData(m)&&(f=Y.access(m),l=k.extend({},f),Y.set(a,l))}}function y(m,a){var b=m.getElementsByTagName?m.getElementsByTagName(a||"*"):m.querySelectorAll?m.querySelectorAll(a||"*"):[];return void 0===a||a&&k.nodeName(m,a)?k.merge([m],b):b}function z(m,a){var b,d=k(a.createElement(m)).appendTo(a.body),c=g.getDefaultComputedStyle&&(b=g.getDefaultComputedStyle(d[0]))?b.display:k.css(d[0],"display");return d.detach(),c}function G(m){var a=J,b=Na[m];return b||
(b=z(m,a),"none"!==b&&b||(va=(va||k("<iframe frameborder='0' width='0' height='0'/>")).appendTo(a.documentElement),a=va[0].contentDocument,a.write(),a.close(),b=z(m,a),va.detach()),Na[m]=b),b}function v(m,a,b){var d,c,f,l,e=m.style;return b=b||wa(m),b&&(l=b.getPropertyValue(a)||b[a]),b&&(""!==l||k.contains(m.ownerDocument,m)||(l=k.style(m,a)),Fa.test(l)&&Oa.test(a)&&(d=e.width,c=e.minWidth,f=e.maxWidth,e.minWidth=e.maxWidth=e.width=l,l=b.width,e.width=d,e.minWidth=c,e.maxWidth=f)),void 0!==l?l+"":
l}function n(m,a){return{get:function(){return m()?void delete this.get:(this.get=a).apply(this,arguments)}}}function B(m,a){if(a in m)return a;for(var b=a[0].toUpperCase()+a.slice(1),d=a,c=Pa.length;c--;)if(a=Pa[c]+b,a in m)return a;return d}function F(m,a,b){return(m=nb.exec(a))?Math.max(0,m[1]-(b||0))+(m[2]||"px"):a}function S(m,a,b,d,c){a=b===(d?"border":"content")?4:"width"===a?1:0;for(var f=0;4>a;a+=2)"margin"===b&&(f+=k.css(m,b+la[a],!0,c)),d?("content"===b&&(f-=k.css(m,"padding"+la[a],!0,
c)),"margin"!==b&&(f-=k.css(m,"border"+la[a]+"Width",!0,c))):(f+=k.css(m,"padding"+la[a],!0,c),"padding"!==b&&(f+=k.css(m,"border"+la[a]+"Width",!0,c)));return f}function Z(m,a,b){var d=!0,c="width"===a?m.offsetWidth:m.offsetHeight,f=wa(m),l="border-box"===k.css(m,"boxSizing",!1,f);if(0>=c||null==c){if(c=v(m,a,f),(0>c||null==c)&&(c=m.style[a]),Fa.test(c))return c;d=l&&(O.boxSizingReliable()||c===m.style[a]);c=parseFloat(c)||0}return c+S(m,a,b||(l?"border":"content"),d,f)+"px"}function L(m,a){for(var b,
d,c,f=[],l=0,e=m.length;e>l;l++)d=m[l],d.style&&(f[l]=D.get(d,"olddisplay"),b=d.style.display,a?(f[l]||"none"!==b||(d.style.display=""),""===d.style.display&&sa(d)&&(f[l]=D.access(d,"olddisplay",G(d.nodeName)))):(c=sa(d),"none"===b&&c||D.set(d,"olddisplay",c?b:k.css(d,"display"))));for(l=0;e>l;l++)d=m[l],d.style&&(a&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=a?f[l]||"":"none"));return m}function E(m,a,b,d,c){return new E.prototype.init(m,a,b,d,c)}function ca(){return setTimeout(function(){na=
void 0}),na=k.now()}function N(m,a){var b,d=0,c={height:m};for(a=a?1:0;4>d;d+=2-a)b=la[d],c["margin"+b]=c["padding"+b]=m;return a&&(c.opacity=c.width=m),c}function I(m,a,b){for(var d,c=(ta[a]||[]).concat(ta["*"]),f=0,k=c.length;k>f;f++)if(d=c[f].call(b,a,m))return d}function t(m,a){var b,d,c,f,l;for(b in m)if(d=k.camelCase(b),c=a[d],f=m[b],k.isArray(f)&&(c=f[1],f=m[b]=f[0]),b!==d&&(m[d]=f,delete m[b]),l=k.cssHooks[d],l&&"expand"in l)for(b in f=l.expand(f),delete m[d],f)b in m||(m[b]=f[b],a[b]=c);
else a[d]=c}function T(m,a,b){var d,c=0,f=xa.length,l=k.Deferred().always(function(){delete e.elem}),e=function(){if(d)return!1;for(var a=na||ca(),a=Math.max(0,g.startTime+g.duration-a),b=1-(a/g.duration||0),c=0,H=g.tweens.length;H>c;c++)g.tweens[c].run(b);return l.notifyWith(m,[g,b,a]),1>b&&H?a:(l.resolveWith(m,[g]),!1)},g=l.promise({elem:m,props:k.extend({},a),opts:k.extend(!0,{specialEasing:{}},b),originalProperties:a,originalOptions:b,startTime:na||ca(),duration:b.duration,tweens:[],createTween:function(a,
b){var d=k.Tween(m,g.opts,a,b,g.opts.specialEasing[a]||g.opts.easing);return g.tweens.push(d),d},stop:function(a){var b=0,c=a?g.tweens.length:0;if(d)return this;for(d=!0;c>b;b++)g.tweens[b].run(1);return a?l.resolveWith(m,[g,a]):l.rejectWith(m,[g,a]),this}});b=g.props;for(t(b,g.opts.specialEasing);f>c;c++)if(a=xa[c].call(g,m,b,g.opts))return a;return k.map(b,I,g),k.isFunction(g.opts.start)&&g.opts.start.call(m,g),k.fx.timer(k.extend(e,{elem:m,anim:g,queue:g.opts.queue})),g.progress(g.opts.progress).done(g.opts.done,
g.opts.complete).fail(g.opts.fail).always(g.opts.always)}function aa(a){return function(b,d){"string"!=typeof b&&(d=b,b="*");var c,f=0,l=b.toLowerCase().match(X)||[];if(k.isFunction(d))for(;c=l[f++];)"+"===c[0]?(c=c.slice(1)||"*",(a[c]=a[c]||[]).unshift(d)):(a[c]=a[c]||[]).push(d)}}function U(a,b,d,c){function f(g){var r;return l[g]=!0,k.each(a[g]||[],function(a,m){var k=m(b,d,c);return"string"!=typeof k||e||l[k]?e?!(r=k):void 0:(b.dataTypes.unshift(k),f(k),!1)}),r}var l={},e=a===Ga;return f(b.dataTypes[0])||
!l["*"]&&f("*")}function P(a,b){var d,c,f=k.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((f[d]?a:c||(c={}))[d]=b[d]);return c&&k.extend(!0,a,c),a}function r(a,b,d,c){var f;if(k.isArray(b))k.each(b,function(b,f){d||ob.test(a)?c(a,f):r(a+"["+("object"==typeof f?b:"")+"]",f,d,c)});else if(d||"object"!==k.type(b))c(a,b);else for(f in b)r(a+"["+f+"]",b[f],d,c)}function da(a){return k.isWindow(a)?a:9===a.nodeType&&a.defaultView}var A=[],V=A.slice,R=A.concat,W=A.push,ka=A.indexOf,ia={},Ha=ia.toString,
ga=ia.hasOwnProperty,O={},J=g.document,k=function(a,b){return new k.fn.init(a,b)},za=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Ca=/^-ms-/,pb=/-([\da-z])/gi,qb=function(a,b){return b.toUpperCase()};k.fn=k.prototype={jquery:"2.1.1",constructor:k,selector:"",length:0,toArray:function(){return V.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:V.call(this)},pushStack:function(a){a=k.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a,b){return k.each(this,
a,b)},map:function(a){return this.pushStack(k.map(this,function(b,d){return a.call(b,d,b)}))},slice:function(){return this.pushStack(V.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&b>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:A.sort,splice:A.splice};k.extend=k.fn.extend=function(){var a,b,d,c,f,l,e=arguments[0]||{},g=1,r=arguments.length,
s=!1;"boolean"==typeof e&&(s=e,e=arguments[g]||{},g++);"object"==typeof e||k.isFunction(e)||(e={});for(g===r&&(e=this,g--);r>g;g++)if(null!=(a=arguments[g]))for(b in a)d=e[b],c=a[b],e!==c&&(s&&c&&(k.isPlainObject(c)||(f=k.isArray(c)))?(f?(f=!1,l=d&&k.isArray(d)?d:[]):l=d&&k.isPlainObject(d)?d:{},e[b]=k.extend(s,l,c)):void 0!==c&&(e[b]=c));return e};k.extend({expando:"jQuery"+("2.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===
k.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!k.isArray(a)&&0<=a-parseFloat(a)},isPlainObject:function(a){return"object"!==k.type(a)||a.nodeType||k.isWindow(a)?!1:a.constructor&&!ga.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){for(var b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ia[Ha.call(a)]||"object":typeof a},globalEval:function(a){var b,
d=eval;(a=k.trim(a))&&(1===a.indexOf("use strict")?(b=J.createElement("script"),b.text=a,J.head.appendChild(b).parentNode.removeChild(b)):d(a))},camelCase:function(a){return a.replace(Ca,"ms-").replace(pb,qb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var c,f=0,l=a.length,k=h(a);if(d)if(k)for(;l>f&&(c=b.apply(a[f],d),!1!==c);f++);else for(f in a){if(c=b.apply(a[f],d),!1===c)break}else if(k)for(;l>f&&(c=b.call(a[f],f,a[f]),!1!==c);f++);
else for(f in a)if(c=b.call(a[f],f,a[f]),!1===c)break;return a},trim:function(a){return null==a?"":(a+"").replace(za,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(h(Object(a))?k.merge(d,"string"==typeof a?[a]:a):W.call(d,a)),d},inArray:function(a,b,d){return null==b?-1:ka.call(b,a,d)},merge:function(a,b){for(var d=+b.length,c=0,f=a.length;d>c;c++)a[f++]=b[c];return a.length=f,a},grep:function(a,b,d){for(var c=[],f=0,l=a.length,k=!d;l>f;f++)d=!b(a[f],f),d!==k&&c.push(a[f]);return c},map:function(a,
b,d){var c,f=0,l=a.length,k=[];if(h(a))for(;l>f;f++)c=b(a[f],f,d),null!=c&&k.push(c);else for(f in a)c=b(a[f],f,d),null!=c&&k.push(c);return R.apply([],k)},guid:1,proxy:function(a,b){var d,c,f;return"string"==typeof b&&(d=a[b],b=a,a=d),k.isFunction(a)?(c=V.call(arguments,2),f=function(){return a.apply(b||this,c.concat(V.call(arguments)))},f.guid=a.guid=a.guid||k.guid++,f):void 0},now:Date.now,support:O});k.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,
b){ia["[object "+b+"]"]=b.toLowerCase()});var qa=function(a){function b(a,m,d,c){var f,l,k,H,e;if((m?m.ownerDocument||m:F)!==C&&R(m),m=m||C,d=d||[],!a||"string"!=typeof a)return d;if(1!==(H=m.nodeType)&&9!==H)return[];if(N&&!c){if(f=xa.exec(a))if(k=f[1])if(9===H){if(l=m.getElementById(k),!l||!l.parentNode)return d;if(l.id===k)return d.push(l),d}else{if(m.ownerDocument&&(l=m.ownerDocument.getElementById(k))&&ka(m,l)&&l.id===k)return d.push(l),d}else{if(f[2])return X.apply(d,m.getElementsByTagName(a)),
d;if((k=f[3])&&z.getElementsByClassName&&m.getElementsByClassName)return X.apply(d,m.getElementsByClassName(k)),d}if(z.qsa&&(!W||!W.test(a))){if(l=f=I,k=m,e=9===H&&a,1===H&&"object"!==m.nodeName.toLowerCase()){H=v(a);(f=m.getAttribute("id"))?l=f.replace(ya,"\\$&"):m.setAttribute("id",l);l="[id='"+l+"'] ";for(k=H.length;k--;)H[k]=l+h(H[k]);k=ra.test(a)&&s(m.parentNode)||m;e=H.join(",")}if(e)try{return X.apply(d,k.querySelectorAll(e)),d}catch(g){}finally{f||m.removeAttribute("id")}}}return aa(a.replace(ha,
"$1"),m,d,c)}function d(){function a(b,d){return m.push(b+" ")>A.cacheLength&&delete a[m.shift()],a[b+" "]=d}var m=[];return a}function c(a){return a[I]=!0,a}function f(a){var m=C.createElement("div");try{return!!a(m)}catch(b){return!1}finally{m.parentNode&&m.parentNode.removeChild(m)}}function l(a,m){for(var b=a.split("|"),d=a.length;d--;)A.attrHandle[b[d]]=m}function k(a,m){var b=m&&a,d=b&&1===a.nodeType&&1===m.nodeType&&(~m.sourceIndex||O)-(~a.sourceIndex||O);if(d)return d;if(b)for(;b=b.nextSibling;)if(b===
m)return-1;return a?1:-1}function e(a){return function(m){return"input"===m.nodeName.toLowerCase()&&m.type===a}}function g(a){return function(m){var b=m.nodeName.toLowerCase();return("input"===b||"button"===b)&&m.type===a}}function r(a){return c(function(m){return m=+m,c(function(b,d){for(var c,f=a([],b.length,m),l=f.length;l--;)b[c=f[l]]&&(b[c]=!(d[c]=b[c]))})})}function s(a){return a&&typeof a.getElementsByTagName!==ia&&a}function t(){}function h(a){for(var m=0,b=a.length,d="";b>m;m++)d+=a[m].value;
return d}function w(a,m,b){var d=m.dir,c=b&&"parentNode"===d,f=L++;return m.first?function(m,b,f){for(;m=m[d];)if(1===m.nodeType||c)return a(m,b,f)}:function(m,b,l){var k,H,e=[E,f];if(l)for(;m=m[d];){if((1===m.nodeType||c)&&a(m,b,l))return!0}else for(;m=m[d];)if(1===m.nodeType||c){if(H=m[I]||(m[I]={}),(k=H[d])&&k[0]===E&&k[1]===f)return e[2]=k[2];if(H[d]=e,e[2]=a(m,b,l))return!0}}}function n(a){return 1<a.length?function(m,b,d){for(var c=a.length;c--;)if(!a[c](m,b,d))return!1;return!0}:a[0]}function x(a,
m,b,d,c){for(var f,l=[],k=0,H=a.length,e=null!=m;H>k;k++)(f=a[k])&&(!b||b(f,d,c))&&(l.push(f),e&&m.push(k));return l}function da(a,m,d,f,l,k){return f&&!f[I]&&(f=da(f)),l&&!l[I]&&(l=da(l,k)),c(function(c,k,e,g){var K,r,s=[],ba=[],t=k.length,h;if(!(h=c)){h=m||"*";for(var Q=e.nodeType?[e]:e,w=[],n=0,da=Q.length;da>n;n++)b(h,Q[n],w);h=w}h=!a||!c&&m?h:x(h,s,a,e,g);Q=d?l||(c?a:t||f)?[]:k:h;if(d&&d(h,Q,e,g),f)for(K=x(Q,ba),f(K,[],e,g),e=K.length;e--;)(r=K[e])&&(Q[ba[e]]=!(h[ba[e]]=r));if(c){if(l||a){if(l){K=
[];for(e=Q.length;e--;)(r=Q[e])&&K.push(h[e]=r);l(null,Q=[],K,g)}for(e=Q.length;e--;)(r=Q[e])&&-1<(K=l?ea.call(c,r):s[e])&&(c[K]=!(k[K]=r))}}else Q=x(Q===k?Q.splice(t,Q.length):Q),l?l(null,k,Q,g):X.apply(k,Q)})}function T(a){var m,b,d,c=a.length,f=A.relative[a[0].type];b=f||A.relative[" "];for(var l=f?1:0,k=w(function(a){return a===m},b,!0),H=w(function(a){return-1<ea.call(m,a)},b,!0),e=[function(a,b,d){return!f&&(d||b!==G)||((m=b).nodeType?k(a,b,d):H(a,b,d))}];c>l;l++)if(b=A.relative[a[l].type])e=
[w(n(e),b)];else{if(b=A.filter[a[l].type].apply(null,a[l].matches),b[I]){for(d=++l;c>d&&!A.relative[a[d].type];d++);return da(1<l&&n(e),1<l&&h(a.slice(0,l-1).concat({value:" "===a[l-2].type?"*":""})).replace(ha,"$1"),b,d>l&&T(a.slice(l,d)),c>d&&T(a=a.slice(d)),c>d&&h(a))}e.push(b)}return n(e)}function y(a,m){var d=0<m.length,f=0<a.length,l=function(c,l,k,e,g){var K,r,s,ba=0,t="0",h=c&&[],Q=[],w=G,n=c||f&&A.find.TAG("*",g),da=E+=null==w?1:Math.random()||.1,mb=n.length;for(g&&(G=l!==C&&l);t!==mb&&null!=
(K=n[t]);t++){if(f&&K){for(r=0;s=a[r++];)if(s(K,l,k)){e.push(K);break}g&&(E=da)}d&&((K=!s&&K)&&ba--,c&&h.push(K))}if(ba+=t,d&&t!==ba){for(r=0;s=m[r++];)s(h,Q,l,k);if(c){if(0<ba)for(;t--;)h[t]||Q[t]||(Q[t]=Y.call(e));Q=x(Q)}X.apply(e,Q);g&&!c&&0<Q.length&&1<ba+m.length&&b.uniqueSort(e)}return g&&(E=da,G=w),h};return d?c(l):l}var q,z,A,u,p,v,M,aa,G,V,U,R,C,P,N,W,B,ca,ka,I="sizzle"+-new Date,F=a.document,E=0,L=0,S=d(),D=d(),Z=d(),J=function(a,m){return a===m&&(U=!0),0},ia="undefined",O=-2147483648,Ha=
{}.hasOwnProperty,ga=[],Y=ga.pop,fa=ga.push,X=ga.push,Ca=ga.slice,ea=ga.indexOf||function(a){for(var m=0,b=this.length;b>m;m++)if(this[m]===a)return m;return-1},ja="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),la="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ja+"))|)[\\x20\\t\\r\\n\\f]*\\]",za=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+
la+")*)|.*)\\)|)",ha=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),na=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,qa=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,sa=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),ta=new RegExp(za),ua=new RegExp("^"+ja+"$"),ma={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+la),
PSEUDO:new RegExp("^"+za),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},va=/^(?:input|select|textarea|button)$/i,wa=/^h\d$/i,Aa=/^[^{]+\{\s*\[native \w/,xa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ra=/[+~]/,ya=/'|\\/g,oa=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),pa=function(a,m,b){a="0x"+m-65536;return a!==a||b?m:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)};try{X.apply(ga=Ca.call(F.childNodes),F.childNodes),ga[F.childNodes.length].nodeType}catch(Ba){X={apply:ga.length?function(a,m){fa.apply(a,Ca.call(m))}:
function(a,m){for(var b=a.length,d=0;a[b++]=m[d++];);a.length=b-1}}}z=b.support={};p=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};R=b.setDocument=function(a){var m,b=a?a.ownerDocument||a:F;a=b.defaultView;return b!==C&&9===b.nodeType&&b.documentElement?(C=b,P=b.documentElement,N=!p(b),a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){R()},!1):a.attachEvent&&a.attachEvent("onunload",function(){R()})),z.attributes=f(function(a){return a.className=
"i",!a.getAttribute("className")}),z.getElementsByTagName=f(function(a){return a.appendChild(b.createComment("")),!a.getElementsByTagName("*").length}),z.getElementsByClassName=Aa.test(b.getElementsByClassName)&&f(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),z.getById=f(function(a){return P.appendChild(a).id=I,!b.getElementsByName||!b.getElementsByName(I).length}),z.getById?(A.find.ID=function(a,
m){if(typeof m.getElementById!==ia&&N){var b=m.getElementById(a);return b&&b.parentNode?[b]:[]}},A.filter.ID=function(a){var m=a.replace(oa,pa);return function(a){return a.getAttribute("id")===m}}):(delete A.find.ID,A.filter.ID=function(a){var m=a.replace(oa,pa);return function(a){return(a=typeof a.getAttributeNode!==ia&&a.getAttributeNode("id"))&&a.value===m}}),A.find.TAG=z.getElementsByTagName?function(a,m){return typeof m.getElementsByTagName!==ia?m.getElementsByTagName(a):void 0}:function(a,m){var b,
d=[],c=0,f=m.getElementsByTagName(a);if("*"===a){for(;b=f[c++];)1===b.nodeType&&d.push(b);return d}return f},A.find.CLASS=z.getElementsByClassName&&function(a,m){return typeof m.getElementsByClassName!==ia&&N?m.getElementsByClassName(a):void 0},B=[],W=[],(z.qsa=Aa.test(b.querySelectorAll))&&(f(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>";a.querySelectorAll("[msallowclip^='']").length&&W.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||
W.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||W.push(":checked")}),f(function(a){var m=b.createElement("input");m.setAttribute("type","hidden");a.appendChild(m).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&W.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||W.push(":enabled",":disabled");a.querySelectorAll("*,:x");
W.push(",.*:")})),(z.matchesSelector=Aa.test(ca=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&f(function(a){z.disconnectedMatch=ca.call(a,"div");ca.call(a,"[s!='']:x");B.push("!=",za)}),W=W.length&&new RegExp(W.join("|")),B=B.length&&new RegExp(B.join("|")),m=Aa.test(P.compareDocumentPosition),ka=m||Aa.test(P.contains)?function(a,m){var b=9===a.nodeType?a.documentElement:a,d=m&&m.parentNode;return a===d||!(!d||1!==d.nodeType||!(b.contains?b.contains(d):
a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,m){if(m)for(;m=m.parentNode;)if(m===a)return!0;return!1},J=m?function(a,m){if(a===m)return U=!0,0;var d=!a.compareDocumentPosition-!m.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(m.ownerDocument||m)?a.compareDocumentPosition(m):1,1&d||!z.sortDetached&&m.compareDocumentPosition(a)===d?a===b||a.ownerDocument===F&&ka(F,a)?-1:m===b||m.ownerDocument===F&&ka(F,m)?1:V?ea.call(V,a)-ea.call(V,m):0:4&d?-1:1)}:function(a,
m){if(a===m)return U=!0,0;var d,c=0;d=a.parentNode;var f=m.parentNode,l=[a],e=[m];if(!d||!f)return a===b?-1:m===b?1:d?-1:f?1:V?ea.call(V,a)-ea.call(V,m):0;if(d===f)return k(a,m);for(d=a;d=d.parentNode;)l.unshift(d);for(d=m;d=d.parentNode;)e.unshift(d);for(;l[c]===e[c];)c++;return c?k(l[c],e[c]):l[c]===F?-1:e[c]===F?1:0},b):C};b.matches=function(a,m){return b(a,null,null,m)};b.matchesSelector=function(a,m){if((a.ownerDocument||a)!==C&&R(a),m=m.replace(sa,"='$1']"),!(!z.matchesSelector||!N||B&&B.test(m)||
W&&W.test(m)))try{var d=ca.call(a,m);if(d||z.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(c){}return 0<b(m,C,null,[a]).length};b.contains=function(a,m){return(a.ownerDocument||a)!==C&&R(a),ka(a,m)};b.attr=function(a,m){(a.ownerDocument||a)!==C&&R(a);var b=A.attrHandle[m.toLowerCase()],b=b&&Ha.call(A.attrHandle,m.toLowerCase())?b(a,m,!N):void 0;return void 0!==b?b:z.attributes||!N?a.getAttribute(m):(b=a.getAttributeNode(m))&&b.specified?b.value:null};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+
a);};b.uniqueSort=function(a){var m,b=[],d=0,c=0;if(U=!z.detectDuplicates,V=!z.sortStable&&a.slice(0),a.sort(J),U){for(;m=a[c++];)m===a[c]&&(d=b.push(c));for(;d--;)a.splice(b[d],1)}return V=null,a};u=b.getText=function(a){var m,b="",d=0;if(m=a.nodeType)if(1===m||9===m||11===m){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)b+=u(a)}else{if(3===m||4===m)return a.nodeValue}else for(;m=a[d++];)b+=u(m);return b};A=b.selectors={cacheLength:50,createPseudo:c,
match:ma,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(oa,pa),a[3]=(a[3]||a[4]||a[5]||"").replace(oa,pa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&
b.error(a[0]),a},PSEUDO:function(a){var m,b=!a[6]&&a[2];return ma.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":b&&ta.test(b)&&(m=v(b,!0))&&(m=b.indexOf(")",b.length-m)-b.length)&&(a[0]=a[0].slice(0,m),a[2]=b.slice(0,m)),a.slice(0,3))}},filter:{TAG:function(a){var m=a.replace(oa,pa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===m}},CLASS:function(a){var m=S[a+" "];return m||(m=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&
S(a,function(a){return m.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==ia&&a.getAttribute("class")||"")})},ATTR:function(a,m,d){return function(c){c=b.attr(c,a);return null==c?"!="===m:m?(c+="","="===m?c===d:"!="===m?c!==d:"^="===m?d&&0===c.indexOf(d):"*="===m?d&&-1<c.indexOf(d):"$="===m?d&&c.slice(-d.length)===d:"~="===m?-1<(" "+c+" ").indexOf(d):"|="===m?c===d||c.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,m,b,d,c){var f="nth"!==a.slice(0,3),l="last"!==a.slice(-4),
k="of-type"===m;return 1===d&&0===c?function(a){return!!a.parentNode}:function(m,b,e){var H,g,K,r,s;b=f!==l?"nextSibling":"previousSibling";var ba=m.parentNode,t=k&&m.nodeName.toLowerCase();e=!e&&!k;if(ba){if(f){for(;b;){for(g=m;g=g[b];)if(k?g.nodeName.toLowerCase()===t:1===g.nodeType)return!1;s=b="only"===a&&!s&&"nextSibling"}return!0}if(s=[l?ba.firstChild:ba.lastChild],l&&e)for(e=ba[I]||(ba[I]={}),H=e[a]||[],r=H[0]===E&&H[1],K=H[0]===E&&H[2],g=r&&ba.childNodes[r];g=++r&&g&&g[b]||(K=r=0)||s.pop();){if(1===
g.nodeType&&++K&&g===m){e[a]=[E,r,K];break}}else if(e&&(H=(m[I]||(m[I]={}))[a])&&H[0]===E)K=H[1];else for(;(g=++r&&g&&g[b]||(K=r=0)||s.pop())&&((k?g.nodeName.toLowerCase()!==t:1!==g.nodeType)||!++K||(e&&((g[I]||(g[I]={}))[a]=[E,K]),g!==m)););return K-=c,K===d||0===K%d&&0<=K/d}}},PSEUDO:function(a,m){var d,f=A.pseudos[a]||A.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[I]?f(m):1<f.length?(d=[a,a,"",m],A.setFilters.hasOwnProperty(a.toLowerCase())?c(function(a,b){for(var d,
c=f(a,m),l=c.length;l--;)d=ea.call(a,c[l]),a[d]=!(b[d]=c[l])}):function(a){return f(a,0,d)}):f}},pseudos:{not:c(function(a){var m=[],b=[],d=M(a.replace(ha,"$1"));return d[I]?c(function(a,m,b,c){var f;b=d(a,null,c,[]);for(c=a.length;c--;)(f=b[c])&&(a[c]=!(m[c]=f))}):function(a,c,f){return m[0]=a,d(m,null,f,b),!b.pop()}}),has:c(function(a){return function(m){return 0<b(a,m).length}}),contains:c(function(a){return function(m){return-1<(m.textContent||m.innerText||u(m)).indexOf(a)}}),lang:c(function(a){return ua.test(a||
"")||b.error("unsupported lang: "+a),a=a.replace(oa,pa).toLowerCase(),function(m){var b;do if(b=N?m.lang:m.getAttribute("xml:lang")||m.getAttribute("lang"))return b=b.toLowerCase(),b===a||0===b.indexOf(a+"-");while((m=m.parentNode)&&1===m.nodeType);return!1}}),target:function(b){var d=a.location&&a.location.hash;return d&&d.slice(1)===b.id},root:function(a){return a===P},focus:function(a){return a===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===
a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var m=a.nodeName.toLowerCase();return"input"===m&&!!a.checked||"option"===m&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!A.pseudos.empty(a)},header:function(a){return wa.test(a.nodeName)},input:function(a){return va.test(a.nodeName)},button:function(a){var m=
a.nodeName.toLowerCase();return"input"===m&&"button"===a.type||"button"===m},text:function(a){var m;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(m=a.getAttribute("type"))||"text"===m.toLowerCase())},first:r(function(){return[0]}),last:r(function(a,m){return[m-1]}),eq:r(function(a,m,b){return[0>b?b+m:b]}),even:r(function(a,m){for(var b=0;m>b;b+=2)a.push(b);return a}),odd:r(function(a,m){for(var b=1;m>b;b+=2)a.push(b);return a}),lt:r(function(a,m,b){for(m=0>b?b+m:b;0<=--m;)a.push(m);
return a}),gt:r(function(a,m,b){for(b=0>b?b+m:b;++b<m;)a.push(b);return a})}};A.pseudos.nth=A.pseudos.eq;for(q in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[q]=e(q);for(q in{submit:!0,reset:!0})A.pseudos[q]=g(q);t.prototype=A.filters=A.pseudos;A.setFilters=new t;v=b.tokenize=function(a,m){var d,c,f,l,k,e,g;if(k=D[a+" "])return m?0:k.slice(0);k=a;e=[];for(g=A.preFilter;k;){d&&!(c=na.exec(k))||(c&&(k=k.slice(c[0].length)||k),e.push(f=[]));d=!1;(c=qa.exec(k))&&(d=c.shift(),f.push({value:d,
type:c[0].replace(ha," ")}),k=k.slice(d.length));for(l in A.filter)!(c=ma[l].exec(k))||g[l]&&!(c=g[l](c))||(d=c.shift(),f.push({value:d,type:l,matches:c}),k=k.slice(d.length));if(!d)break}return m?k.length:k?b.error(a):D(a,e).slice(0)};return M=b.compile=function(a,m){var b,d=[],c=[],f=Z[a+" "];if(!f){m||(m=v(a));for(b=m.length;b--;)f=T(m[b]),f[I]?d.push(f):c.push(f);f=Z(a,y(c,d));f.selector=a}return f},aa=b.select=function(a,m,b,d){var c,f,l,k,e,H="function"==typeof a&&a,g=!d&&v(a=H.selector||a);
if(b=b||[],1===g.length){if(f=g[0]=g[0].slice(0),2<f.length&&"ID"===(l=f[0]).type&&z.getById&&9===m.nodeType&&N&&A.relative[f[1].type]){if(m=(A.find.ID(l.matches[0].replace(oa,pa),m)||[])[0],!m)return b;H&&(m=m.parentNode);a=a.slice(f.shift().value.length)}for(c=ma.needsContext.test(a)?0:f.length;c--&&(l=f[c],!A.relative[k=l.type]);)if((e=A.find[k])&&(d=e(l.matches[0].replace(oa,pa),ra.test(f[0].type)&&s(m.parentNode)||m))){if(f.splice(c,1),a=d.length&&h(f),!a)return X.apply(b,d),b;break}}return(H||
M(a,g))(d,m,!N,b,ra.test(a)&&s(m.parentNode)||m),b},z.sortStable=I.split("").sort(J).join("")===I,z.detectDuplicates=!!U,R(),z.sortDetached=f(function(a){return 1&a.compareDocumentPosition(C.createElement("div"))}),f(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||l("type|href|height|width",function(a,m,b){return b?void 0:a.getAttribute(m,"type"===m.toLowerCase()?1:2)}),z.attributes&&f(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",
""),""===a.firstChild.getAttribute("value")})||l("value",function(a,m,b){return b||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),f(function(a){return null==a.getAttribute("disabled")})||l("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,m,b){var d;return b?void 0:!0===a[m]?m.toLowerCase():(d=a.getAttributeNode(m))&&d.specified?d.value:null}),b}(g);k.find=qa;k.expr=qa.selectors;k.expr[":"]=k.expr.pseudos;
k.unique=qa.uniqueSort;k.text=qa.getText;k.isXMLDoc=qa.isXML;k.contains=qa.contains;var Qa=k.expr.match.needsContext,Ra=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ib=/^.[^:#\[\.,]*$/;k.filter=function(a,b,d){var c=b[0];return d&&(a=":not("+a+")"),1===b.length&&1===c.nodeType?k.find.matchesSelector(c,a)?[c]:[]:k.find.matches(a,k.grep(b,function(a){return 1===a.nodeType}))};k.fn.extend({find:function(a){var b,d=this.length,c=[],f=this;if("string"!=typeof a)return this.pushStack(k(a).filter(function(){for(b=0;d>b;b++)if(k.contains(f[b],
this))return!0}));for(b=0;d>b;b++)k.find(a,f[b],c);return c=this.pushStack(1<d?k.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(q(this,a||[],!1))},not:function(a){return this.pushStack(q(this,a||[],!0))},is:function(a){return!!q(this,"string"==typeof a&&Qa.test(a)?k(a):a||[],!1).length}});var ra,sb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(k.fn.init=function(a,b){var d,c;if(!a)return this;if("string"==typeof a){if(d="<"===a[0]&&">"===a[a.length-
1]&&3<=a.length?[null,a,null]:sb.exec(a),!d||!d[1]&&b)return!b||b.jquery?(b||ra).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof k?b[0]:b,k.merge(this,k.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:J,!0)),Ra.test(d[1])&&k.isPlainObject(b))for(d in b)k.isFunction(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}return c=J.getElementById(d[2]),c&&c.parentNode&&(this.length=1,this[0]=c),this.context=J,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,
this):k.isFunction(a)?"undefined"!=typeof ra.ready?ra.ready(a):a(k):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),k.makeArray(a,this))}).prototype=k.fn;ra=k(J);var tb=/^(?:parents|prev(?:Until|All))/,ub={children:!0,contents:!0,next:!0,prev:!0};k.extend({dir:function(a,b,d){for(var c=[],f=void 0!==d;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(f&&k(a).is(d))break;c.push(a)}return c},sibling:function(a,b){for(var d=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&d.push(a);
return d}});k.fn.extend({has:function(a){var b=k(a,this),d=b.length;return this.filter(function(){for(var a=0;d>a;a++)if(k.contains(this,b[a]))return!0})},closest:function(a,b){for(var d,c=0,f=this.length,l=[],e=Qa.test(a)||"string"!=typeof a?k(a,b||this.context):0;f>c;c++)for(d=this[c];d&&d!==b;d=d.parentNode)if(11>d.nodeType&&(e?-1<e.index(d):1===d.nodeType&&k.find.matchesSelector(d,a))){l.push(d);break}return this.pushStack(1<l.length?k.unique(l):l)},index:function(a){return a?"string"==typeof a?
ka.call(k(a),this[0]):ka.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(k.unique(k.merge(this.get(),k(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});k.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return k.dir(a,"parentNode")},parentsUntil:function(a,b,d){return k.dir(a,"parentNode",d)},next:function(a){return e(a,"nextSibling")},
prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return k.dir(a,"nextSibling")},prevAll:function(a){return k.dir(a,"previousSibling")},nextUntil:function(a,b,d){return k.dir(a,"nextSibling",d)},prevUntil:function(a,b,d){return k.dir(a,"previousSibling",d)},siblings:function(a){return k.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return k.sibling(a.firstChild)},contents:function(a){return a.contentDocument||k.merge([],a.childNodes)}},function(a,b){k.fn[a]=function(d,
c){var f=k.map(this,b,d);return"Until"!==a.slice(-5)&&(c=d),c&&"string"==typeof c&&(f=k.filter(c,f)),1<this.length&&(ub[a]||k.unique(f),tb.test(a)&&f.reverse()),this.pushStack(f)}});var X=/\S+/g,Ma={};k.Callbacks=function(a){a="string"==typeof a?Ma[a]||b(a):k.extend({},a);var d,c,f,l,e,g,r=[],s=!a.once&&[],t=function(b){d=a.memory&&b;c=!0;g=l||0;l=0;e=r.length;for(f=!0;r&&e>g;g++)if(!1===r[g].apply(b[0],b[1])&&a.stopOnFalse){d=!1;break}f=!1;r&&(s?s.length&&t(s.shift()):d?r=[]:h.disable())},h={add:function(){if(r){var b=
r.length;!function rb(b){k.each(b,function(b,d){var c=k.type(d);"function"===c?a.unique&&h.has(d)||r.push(d):d&&d.length&&"string"!==c&&rb(d)})}(arguments);f?e=r.length:d&&(l=b,t(d))}return this},remove:function(){return r&&k.each(arguments,function(a,b){for(var m;-1<(m=k.inArray(b,r,m));)r.splice(m,1),f&&(e>=m&&e--,g>=m&&g--)}),this},has:function(a){return a?-1<k.inArray(a,r):!(!r||!r.length)},empty:function(){return r=[],e=0,this},disable:function(){return r=s=d=void 0,this},disabled:function(){return!r},
lock:function(){return s=void 0,d||h.disable(),this},locked:function(){return!s},fireWith:function(a,b){return!r||c&&!s||(b=b||[],b=[a,b.slice?b.slice():b],f?s.push(b):t(b)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!c}};return h};k.extend({Deferred:function(a){var b=[["resolve","done",k.Callbacks("once memory"),"resolved"],["reject","fail",k.Callbacks("once memory"),"rejected"],["notify","progress",k.Callbacks("memory")]],d="pending",c={state:function(){return d},
always:function(){return f.done(arguments).fail(arguments),this},then:function(){var a=arguments;return k.Deferred(function(m){k.each(b,function(b,d){var l=k.isFunction(a[b])&&a[b];f[d[1]](function(){var a=l&&l.apply(this,arguments);a&&k.isFunction(a.promise)?a.promise().done(m.resolve).fail(m.reject).progress(m.notify):m[d[0]+"With"](this===c?m.promise():this,l?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?k.extend(a,c):c}},f={};return c.pipe=c.then,k.each(b,function(a,
m){var l=m[2],k=m[3];c[m[1]]=l.add;k&&l.add(function(){d=k},b[1^a][2].disable,b[2][2].lock);f[m[0]]=function(){return f[m[0]+"With"](this===f?c:this,arguments),this};f[m[0]+"With"]=l.fireWith}),c.promise(f),a&&a.call(f,f),f},when:function(a){var b=0,d=V.call(arguments),c=d.length,f=1!==c||a&&k.isFunction(a.promise)?c:0,l=1===f?a:k.Deferred(),e=function(a,b,m){return function(d){b[a]=this;m[a]=1<arguments.length?V.call(arguments):d;m===g?l.notifyWith(b,m):--f||l.resolveWith(b,m)}},g,r,s;if(1<c)for(g=
Array(c),r=Array(c),s=Array(c);c>b;b++)d[b]&&k.isFunction(d[b].promise)?d[b].promise().done(e(b,s,d)).fail(l.reject).progress(e(b,r,g)):--f;return f||l.resolveWith(s,d),l.promise()}});var ya;k.fn.ready=function(a){return k.ready.promise().done(a),this};k.extend({isReady:!1,readyWait:1,holdReady:function(a){a?k.readyWait++:k.ready(!0)},ready:function(a){(!0===a?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==a&&0<--k.readyWait||(ya.resolveWith(J,[k]),k.fn.triggerHandler&&(k(J).triggerHandler("ready"),
k(J).off("ready"))))}});k.ready.promise=function(a){return ya||(ya=k.Deferred(),"complete"===J.readyState?setTimeout(k.ready):(J.addEventListener("DOMContentLoaded",c,!1),g.addEventListener("load",c,!1))),ya.promise(a)};k.ready.promise();var ea=k.access=function(a,b,d,c,f,l,e){var g=0,r=a.length,s=null==d;if("object"===k.type(d))for(g in f=!0,d)k.access(a,b,g,d[g],!0,l,e);else if(void 0!==c&&(f=!0,k.isFunction(c)||(e=!0),s&&(e?(b.call(a,c),b=null):(s=b,b=function(a,b,m){return s.call(k(a),m)})),b))for(;r>
g;g++)b(a[g],d,e?c:c.call(a[g],g,b(a[g],d)));return f?a:s?b.call(a):r?b(a[0],d):l};k.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};a.uid=1;a.accepts=k.acceptData;a.prototype={key:function(b){if(!a.accepts(b))return 0;var d={},c=b[this.expando];if(!c){c=a.uid++;try{d[this.expando]={value:c},Object.defineProperties(b,d)}catch(f){d[this.expando]=c,k.extend(b,d)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,d){var c;a=this.key(a);var f=this.cache[a];if("string"==
typeof b)f[b]=d;else if(k.isEmptyObject(f))k.extend(this.cache[a],b);else for(c in b)f[c]=b[c];return f},get:function(a,b){var d=this.cache[this.key(a)];return void 0===b?d:d[b]},access:function(a,b,d){var c;return void 0===b||b&&"string"==typeof b&&void 0===d?(c=this.get(a,b),void 0!==c?c:this.get(a,k.camelCase(b))):(this.set(a,b,d),void 0!==d?d:b)},remove:function(a,b){var d,c,f=this.key(a),l=this.cache[f];if(void 0===b)this.cache[f]={};else for(k.isArray(b)?c=b.concat(b.map(k.camelCase)):(d=k.camelCase(b),
b in l?c=[b,d]:(c=d,c=c in l?[c]:c.match(X)||[])),d=c.length;d--;)delete l[c[d]]},hasData:function(a){return!k.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var D=new a,Y=new a,kb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,jb=/([A-Z])/g;k.extend({hasData:function(a){return Y.hasData(a)||D.hasData(a)},data:function(a,b,d){return Y.access(a,b,d)},removeData:function(a,b){Y.remove(a,b)},_data:function(a,b,d){return D.access(a,b,d)},_removeData:function(a,
b){D.remove(a,b)}});k.fn.extend({data:function(a,b){var c,f,l,e=this[0],g=e&&e.attributes;if(void 0===a){if(this.length&&(l=Y.get(e),1===e.nodeType&&!D.get(e,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(f=g[c].name,0===f.indexOf("data-")&&(f=k.camelCase(f.slice(5)),d(e,f,l[f])));D.set(e,"hasDataAttrs",!0)}return l}return"object"==typeof a?this.each(function(){Y.set(this,a)}):ea(this,function(b){var c,f=k.camelCase(a);if(e&&void 0===b){if((c=Y.get(e,a),void 0!==c)||(c=Y.get(e,f),void 0!==c)||(c=d(e,
f,void 0),void 0!==c))return c}else this.each(function(){var d=Y.get(this,f);Y.set(this,f,b);-1!==a.indexOf("-")&&void 0!==d&&Y.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){Y.remove(this,a)})}});k.extend({queue:function(a,b,d){var c;return a?(b=(b||"fx")+"queue",c=D.get(a,b),d&&(!c||k.isArray(d)?c=D.access(a,b,k.makeArray(d)):c.push(d)),c||[]):void 0},dequeue:function(a,b){b=b||"fx";var d=k.queue(a,b),c=d.length,f=d.shift(),l=k._queueHooks(a,
b),e=function(){k.dequeue(a,b)};"inprogress"===f&&(f=d.shift(),c--);f&&("fx"===b&&d.unshift("inprogress"),delete l.stop,f.call(a,e,l));!c&&l&&l.empty.fire()},_queueHooks:function(a,b){var d=b+"queueHooks";return D.get(a,d)||D.access(a,d,{empty:k.Callbacks("once memory").add(function(){D.remove(a,[b+"queue",d])})})}});k.fn.extend({queue:function(a,b){var d=2;return"string"!=typeof a&&(b=a,a="fx",d--),arguments.length<d?k.queue(this[0],a):void 0===b?this:this.each(function(){var d=k.queue(this,a,b);
k._queueHooks(this,a);"fx"===a&&"inprogress"!==d[0]&&k.dequeue(this,a)})},dequeue:function(a){return this.each(function(){k.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var d,c=1,f=k.Deferred(),l=this,e=this.length,g=function(){--c||f.resolveWith(l,[l])};"string"!=typeof a&&(b=a,a=void 0);for(a=a||"fx";e--;)(d=D.get(l[e],a+"queueHooks"))&&d.empty&&(c++,d.empty.add(g));return g(),f.promise(b)}});var Ba=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,la=
["Top","Right","Bottom","Left"],sa=function(a,b){return a=b||a,"none"===k.css(a,"display")||!k.contains(a.ownerDocument,a)},Sa=/^(?:checkbox|radio)$/i;!function(){var a=J.createDocumentFragment().appendChild(J.createElement("div")),b=J.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked","checked");b.setAttribute("name","t");a.appendChild(b);O.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="<textarea>x</textarea>";O.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue}();
O.focusinBubbles="onfocusin"in g;var vb=/^key/,wb=/^(?:mouse|pointer|contextmenu)|click/,Ta=/^(?:focusinfocus|focusoutblur)$/,Ua=/^([^.]*)(?:\.(.+)|)$/;k.event={global:{},add:function(a,b,d,c,f){var l,e,g,r,s,t,h,w,n,x;if(s=D.get(a))for(d.handler&&(l=d,d=l.handler,f=l.selector),d.guid||(d.guid=k.guid++),(r=s.events)||(r=s.events={}),(e=s.handle)||(e=s.handle=function(b){return"undefined"!==typeof k&&k.event.triggered!==b.type?k.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(X)||[""],s=
b.length;s--;)g=Ua.exec(b[s])||[],n=x=g[1],g=(g[2]||"").split(".").sort(),n&&(h=k.event.special[n]||{},n=(f?h.delegateType:h.bindType)||n,h=k.event.special[n]||{},t=k.extend({type:n,origType:x,data:c,handler:d,guid:d.guid,selector:f,needsContext:f&&k.expr.match.needsContext.test(f),namespace:g.join(".")},l),(w=r[n])||(w=r[n]=[],w.delegateCount=0,h.setup&&!1!==h.setup.call(a,c,g,e)||a.addEventListener&&a.addEventListener(n,e,!1)),h.add&&(h.add.call(a,t),t.handler.guid||(t.handler.guid=d.guid)),f?w.splice(w.delegateCount++,
0,t):w.push(t),k.event.global[n]=!0)},remove:function(a,b,d,c,f){var l,e,g,r,s,t,h,n,w,x,da,T=D.hasData(a)&&D.get(a);if(T&&(r=T.events)){b=(b||"").match(X)||[""];for(s=b.length;s--;)if(g=Ua.exec(b[s])||[],w=da=g[1],x=(g[2]||"").split(".").sort(),w){h=k.event.special[w]||{};w=(c?h.delegateType:h.bindType)||w;n=r[w]||[];g=g[2]&&new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)");for(e=l=n.length;l--;)t=n[l],!f&&da!==t.origType||d&&d.guid!==t.guid||g&&!g.test(t.namespace)||c&&c!==t.selector&&("**"!==
c||!t.selector)||(n.splice(l,1),t.selector&&n.delegateCount--,h.remove&&h.remove.call(a,t));e&&!n.length&&(h.teardown&&!1!==h.teardown.call(a,x,T.handle)||k.removeEvent(a,w,T.handle),delete r[w])}else for(w in r)k.event.remove(a,w+b[s],d,c,!0);k.isEmptyObject(r)&&(delete T.handle,D.remove(a,"events"))}},trigger:function(a,b,d,c){var f,l,e,r,s,t,h,w=[d||J],n=ga.call(a,"type")?a.type:a;f=ga.call(a,"namespace")?a.namespace.split("."):[];if(l=e=d=d||J,3!==d.nodeType&&8!==d.nodeType&&!Ta.test(n+k.event.triggered)&&
(0<=n.indexOf(".")&&(f=n.split("."),n=f.shift(),f.sort()),s=0>n.indexOf(":")&&"on"+n,a=a[k.expando]?a:new k.Event(n,"object"==typeof a&&a),a.isTrigger=c?2:3,a.namespace=f.join("."),a.namespace_re=a.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=d),b=null==b?[a]:k.makeArray(b,[a]),h=k.event.special[n]||{},c||!h.trigger||!1!==h.trigger.apply(d,b))){if(!c&&!h.noBubble&&!k.isWindow(d)){r=h.delegateType||n;for(Ta.test(r+n)||(l=l.parentNode);l;l=
l.parentNode)w.push(l),e=l;e===(d.ownerDocument||J)&&w.push(e.defaultView||e.parentWindow||g)}for(f=0;(l=w[f++])&&!a.isPropagationStopped();)a.type=1<f?r:h.bindType||n,(t=(D.get(l,"events")||{})[a.type]&&D.get(l,"handle"))&&t.apply(l,b),(t=s&&l[s])&&t.apply&&k.acceptData(l)&&(a.result=t.apply(l,b),!1===a.result&&a.preventDefault());return a.type=n,c||a.isDefaultPrevented()||h._default&&!1!==h._default.apply(w.pop(),b)||!k.acceptData(d)||s&&k.isFunction(d[n])&&!k.isWindow(d)&&(e=d[s],e&&(d[s]=null),
k.event.triggered=n,d[n](),k.event.triggered=void 0,e&&(d[s]=e)),a.result}},dispatch:function(a){a=k.event.fix(a);var b,d,c,f,l,e=[],g=V.call(arguments);b=(D.get(this,"events")||{})[a.type]||[];var r=k.event.special[a.type]||{};if(g[0]=a,a.delegateTarget=this,!r.preDispatch||!1!==r.preDispatch.call(this,a)){e=k.event.handlers.call(this,a,b);for(b=0;(f=e[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,d=0;(l=f.handlers[d++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(l.namespace)||
(a.handleObj=l,a.data=l.data,c=((k.event.special[l.origType]||{}).handle||l.handler).apply(f.elem,g),void 0===c||!1!==(a.result=c)||(a.preventDefault(),a.stopPropagation()));return r.postDispatch&&r.postDispatch.call(this,a),a.result}},handlers:function(a,b){var d,c,f,l,e=[],g=b.delegateCount,r=a.target;if(g&&r.nodeType&&(!a.button||"click"!==a.type))for(;r!==this;r=r.parentNode||this)if(!0!==r.disabled||"click"!==a.type){c=[];for(d=0;g>d;d++)l=b[d],f=l.selector+" ",void 0===c[f]&&(c[f]=l.needsContext?
0<=k(f,this).index(r):k.find(f,this,null,[r]).length),c[f]&&c.push(l);c.length&&e.push({elem:r,handlers:c})}return g<b.length&&e.push({elem:this,handlers:b.slice(g)}),e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(a,b){var d,c,f,l=b.button;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||J,c=d.documentElement,f=d.body,a.pageX=b.clientX+(c&&c.scrollLeft||f&&f.scrollLeft||0)-(c&&c.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(c&&c.scrollTop||f&&f.scrollTop||0)-(c&&c.clientTop||f&&f.clientTop||0)),a.which||void 0===l||(a.which=1&l?1:2&l?3:4&l?2:0),a}},fix:function(a){if(a[k.expando])return a;var b,d,c;b=a.type;var f=a,l=this.fixHooks[b];l||(this.fixHooks[b]=l=wb.test(b)?this.mouseHooks:
vb.test(b)?this.keyHooks:{});c=l.props?this.props.concat(l.props):this.props;a=new k.Event(f);for(b=c.length;b--;)d=c[b],a[d]=f[d];return a.target||(a.target=J),3===a.target.nodeType&&(a.target=a.target.parentNode),l.filter?l.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==s()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===s()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===
this.type&&this.click&&k.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return k.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,d,c){a=k.extend(new k.Event,d,{type:a,isSimulated:!0,originalEvent:{}});c?k.event.trigger(a,null,b):k.event.dispatch.call(b,a);a.isDefaultPrevented()&&d.preventDefault()}};k.removeEvent=function(a,b,d){a.removeEventListener&&a.removeEventListener(b,
d,!1)};k.Event=function(a,b){return this instanceof k.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?f:l):this.type=a,b&&k.extend(this,b),this.timeStamp=a&&a.timeStamp||k.now(),void(this[k.expando]=!0)):new k.Event(a,b)};k.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=f;a&&a.preventDefault&&
a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=f;a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=f;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){k.event.special[a]={delegateType:b,bindType:b,handle:function(a){var d,
c=a.relatedTarget,m=a.handleObj;return(!c||c!==this&&!k.contains(this,c))&&(a.type=m.origType,d=m.handler.apply(this,arguments),a.type=b),d}}});O.focusinBubbles||k.each({focus:"focusin",blur:"focusout"},function(a,b){var d=function(a){k.event.simulate(b,a.target,k.event.fix(a),!0)};k.event.special[b]={setup:function(){var c=this.ownerDocument||this,f=D.access(c,b);f||c.addEventListener(a,d,!0);D.access(c,b,(f||0)+1)},teardown:function(){var c=this.ownerDocument||this,f=D.access(c,b)-1;f?D.access(c,
b,f):(c.removeEventListener(a,d,!0),D.remove(c,b))}}});k.fn.extend({on:function(a,b,d,c,f){var e,g;if("object"==typeof a){"string"!=typeof b&&(d=d||b,b=void 0);for(g in a)this.on(g,b,d,a[g],f);return this}if(null==d&&null==c?(c=b,d=b=void 0):null==c&&("string"==typeof b?(c=d,d=void 0):(c=d,d=b,b=void 0)),!1===c)c=l;else if(!c)return this;return 1===f&&(e=c,c=function(a){return k().off(a),e.apply(this,arguments)},c.guid=e.guid||(e.guid=k.guid++)),this.each(function(){k.event.add(this,a,c,d,b)})},one:function(a,
b,d,c){return this.on(a,b,d,c,1)},off:function(a,b,d){var c,f;if(a&&a.preventDefault&&a.handleObj)return c=a.handleObj,k(a.delegateTarget).off(c.namespace?c.origType+"."+c.namespace:c.origType,c.selector,c.handler),this;if("object"==typeof a){for(f in a)this.off(f,b,a[f]);return this}return(!1===b||"function"==typeof b)&&(d=b,b=void 0),!1===d&&(d=l),this.each(function(){k.event.remove(this,a,d,b)})},trigger:function(a,b){return this.each(function(){k.event.trigger(a,b,this)})},triggerHandler:function(a,
b){var d=this[0];return d?k.event.trigger(a,b,d,!0):void 0}});var Va=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Wa=/<([\w:]+)/,xb=/<|&#?\w+;/,yb=/<(?:script|style|link)/i,zb=/checked\s*(?:[^=]|=\s*.checked.)/i,Xa=/^$|\/(?:java|ecma)script/i,lb=/^true\/(.*)/,Ab=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,fa={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};fa.optgroup=fa.option;fa.tbody=fa.tfoot=fa.colgroup=fa.caption=fa.thead;fa.th=fa.td;k.extend({clone:function(a,b,d){var c,f,l,e,g=a.cloneNode(!0),r=k.contains(a.ownerDocument,a);if(!(O.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||k.isXMLDoc(a)))for(e=y(g),l=y(a),c=0,f=l.length;f>c;c++){var s=l[c],t=e[c],h=t.nodeName.toLowerCase();"input"===h&&Sa.test(s.type)?t.checked=s.checked:("input"===h||"textarea"===h)&&(t.defaultValue=
s.defaultValue)}if(b)if(d)for(l=l||y(a),e=e||y(g),c=0,f=l.length;f>c;c++)C(l[c],e[c]);else C(a,g);return e=y(g,"script"),0<e.length&&u(e,!r&&y(a,"script")),g},buildFragment:function(a,b,d,c){for(var f,l,e,g,r=b.createDocumentFragment(),s=[],t=0,h=a.length;h>t;t++)if(f=a[t],f||0===f)if("object"===k.type(f))k.merge(s,f.nodeType?[f]:f);else if(xb.test(f)){l=l||r.appendChild(b.createElement("div"));e=(Wa.exec(f)||["",""])[1].toLowerCase();e=fa[e]||fa._default;l.innerHTML=e[1]+f.replace(Va,"<$1></$2>")+
e[2];for(e=e[0];e--;)l=l.lastChild;k.merge(s,l.childNodes);l=r.firstChild;l.textContent=""}else s.push(b.createTextNode(f));r.textContent="";for(t=0;f=s[t++];)if((!c||-1===k.inArray(f,c))&&(g=k.contains(f.ownerDocument,f),l=y(r.appendChild(f),"script"),g&&u(l),d))for(e=0;f=l[e++];)Xa.test(f.type||"")&&d.push(f);return r},cleanData:function(a){for(var b,d,c,f,l=k.event.special,e=0;void 0!==(d=a[e]);e++){if(k.acceptData(d)&&(f=d[D.expando],f&&(b=D.cache[f]))){if(b.events)for(c in b.events)l[c]?k.event.remove(d,
c):k.removeEvent(d,c,b.handle);D.cache[f]&&delete D.cache[f]}delete Y.cache[d[Y.expando]]}}});k.fn.extend({text:function(a){return ea(this,function(a){return void 0===a?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||w(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,
function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=w(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var d,c=a?k.filter(a,this):this,f=0;null!=(d=c[f]);f++)b||1!==d.nodeType||k.cleanData(y(d)),d.parentNode&&
(b&&k.contains(d.ownerDocument,d)&&u(y(d,"script")),d.parentNode.removeChild(d));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(k.cleanData(y(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return k.clone(this,a,b)})},html:function(a){return ea(this,function(a){var b=this[0]||{},d=0,c=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!yb.test(a)&&!fa[(Wa.exec(a)||
["",""])[1].toLowerCase()]){a=a.replace(Va,"<$1></$2>");try{for(;c>d;d++)b=this[d]||{},1===b.nodeType&&(k.cleanData(y(b,!1)),b.innerHTML=a);b=0}catch(f){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode;k.cleanData(y(this));a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=R.apply([],a);var d,c,f,l,
e=0,g=this.length,r=this,s=g-1,t=a[0],h=k.isFunction(t);if(h||1<g&&"string"==typeof t&&!O.checkClone&&zb.test(t))return this.each(function(d){var c=r.eq(d);h&&(a[0]=t.call(this,d,c.html()));c.domManip(a,b)});if(g&&(d=k.buildFragment(a,this[0].ownerDocument,!1,this),c=d.firstChild,1===d.childNodes.length&&(d=c),c)){c=k.map(y(d,"script"),x);for(f=c.length;g>e;e++)l=d,e!==s&&(l=k.clone(l,!0,!0),f&&k.merge(c,y(l,"script"))),b.call(this[e],l,e);if(f)for(d=c[c.length-1].ownerDocument,k.map(c,M),e=0;f>e;e++)l=
c[e],Xa.test(l.type||"")&&!D.access(l,"globalEval")&&k.contains(d,l)&&(l.src?k._evalUrl&&k._evalUrl(l.src):k.globalEval(l.textContent.replace(Ab,"")))}return this}});k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){k.fn[a]=function(a){for(var d=[],c=k(a),f=c.length-1,m=0;f>=m;m++)a=m===f?this:this.clone(!0),k(c[m])[b](a),W.apply(d,a.get());return this.pushStack(d)}});var va,Na={},Oa=/^margin/,Fa=new RegExp("^("+Ba+")(?!px)[a-z%]+$",
"i"),wa=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};!function(){var a,b,d=J.documentElement,c=J.createElement("div"),f=J.createElement("div");if(f.style){f.style.backgroundClip="content-box";f.cloneNode(!0).style.backgroundClip="";O.clearCloneStyle="content-box"===f.style.backgroundClip;c.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute";c.appendChild(f);var l=function(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";
f.innerHTML="";d.appendChild(c);var l=g.getComputedStyle(f,null);a="1%"!==l.top;b="4px"===l.width;d.removeChild(c)};g.getComputedStyle&&k.extend(O,{pixelPosition:function(){return l(),a},boxSizingReliable:function(){return null==b&&l(),b},reliableMarginRight:function(){var a,b=f.appendChild(J.createElement("div"));return b.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",b.style.marginRight=
b.style.width="0",f.style.width="1px",d.appendChild(c),a=!parseFloat(g.getComputedStyle(b,null).marginRight),d.removeChild(c),a}})}}();k.swap=function(a,b,d,c){var f,l={};for(f in b)l[f]=a.style[f],a.style[f]=b[f];d=d.apply(a,c||[]);for(f in b)a.style[f]=l[f];return d};var Bb=/^(none|table(?!-c[ea]).+)/,nb=new RegExp("^("+Ba+")(.*)$","i"),Cb=new RegExp("^([+-])=("+Ba+")","i"),Db={position:"absolute",visibility:"hidden",display:"block"},Ya={letterSpacing:"0",fontWeight:"400"},Pa=["Webkit","O","Moz",
"ms"];k.extend({cssHooks:{opacity:{get:function(a,b){if(b){var d=v(a,"opacity");return""===d?"1":d}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,d,c){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,l,e,g=k.camelCase(b),r=a.style;return b=k.cssProps[g]||(k.cssProps[g]=B(r,g)),e=k.cssHooks[b]||k.cssHooks[g],void 0===d?e&&"get"in e&&void 0!==
(f=e.get(a,!1,c))?f:r[b]:(l=typeof d,"string"===l&&(f=Cb.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(k.css(a,b)),l="number"),null!=d&&d===d&&("number"!==l||k.cssNumber[g]||(d+="px"),O.clearCloneStyle||""!==d||0!==b.indexOf("background")||(r[b]="inherit"),e&&"set"in e&&void 0===(d=e.set(a,d,c))||(r[b]=d)),void 0)}},css:function(a,b,d,c){var f,l,e,g=k.camelCase(b);return b=k.cssProps[g]||(k.cssProps[g]=B(a.style,g)),e=k.cssHooks[b]||k.cssHooks[g],e&&"get"in e&&(f=e.get(a,!0,d)),void 0===f&&(f=v(a,b,c)),"normal"===
f&&b in Ya&&(f=Ya[b]),""===d||d?(l=parseFloat(f),!0===d||k.isNumeric(l)?l||0:f):f}});k.each(["height","width"],function(a,b){k.cssHooks[b]={get:function(a,d,c){return d?Bb.test(k.css(a,"display"))&&0===a.offsetWidth?k.swap(a,Db,function(){return Z(a,b,c)}):Z(a,b,c):void 0},set:function(a,d,c){var f=c&&wa(a);return F(a,d,c?S(a,b,c,"border-box"===k.css(a,"boxSizing",!1,f),f):0)}}});k.cssHooks.marginRight=n(O.reliableMarginRight,function(a,b){return b?k.swap(a,{display:"inline-block"},v,[a,"marginRight"]):
void 0});k.each({margin:"",padding:"",border:"Width"},function(a,b){k.cssHooks[a+b]={expand:function(d){var c=0,f={};for(d="string"==typeof d?d.split(" "):[d];4>c;c++)f[a+la[c]+b]=d[c]||d[c-2]||d[0];return f}};Oa.test(a)||(k.cssHooks[a+b].set=F)});k.fn.extend({css:function(a,b){return ea(this,function(a,b,d){var c,f={},m=0;if(k.isArray(b)){d=wa(a);for(c=b.length;c>m;m++)f[b[m]]=k.css(a,b[m],!1,d);return f}return void 0!==d?k.style(a,b,d):k.css(a,b)},a,b,1<arguments.length)},show:function(){return L(this,
!0)},hide:function(){return L(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){sa(this)?k(this).show():k(this).hide()})}});k.Tween=E;E.prototype={constructor:E,init:function(a,b,d,c,f,l){this.elem=a;this.prop=d;this.easing=f||"swing";this.options=b;this.start=this.now=this.cur();this.end=c;this.unit=l||(k.cssNumber[d]?"":"px")},cur:function(){var a=E.propHooks[this.prop];return a&&a.get?a.get(this):E.propHooks._default.get(this)},run:function(a){var b,
d=E.propHooks[this.prop];return this.pos=b=this.options.duration?k.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),d&&d.set?d.set(this):E.propHooks._default.set(this),this}};E.prototype.init.prototype=E.prototype;E.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=k.css(a.elem,a.prop,""),b&&"auto"!==
b?b:0):a.elem[a.prop]},set:function(a){k.fx.step[a.prop]?k.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[k.cssProps[a.prop]]||k.cssHooks[a.prop])?k.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};k.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}};k.fx=E.prototype.init;k.fx.step={};var na,Da,Eb=/^(?:toggle|show|hide)$/,Za=
new RegExp("^(?:([+-])=|)("+Ba+")([a-z%]*)$","i"),Fb=/queueHooks$/,xa=[function(a,b,d){var c,f,l,e,g,r,s,t=this,h={},n=a.style,w=a.nodeType&&sa(a),x=D.get(a,"fxshow");d.queue||(e=k._queueHooks(a,"fx"),null==e.unqueued&&(e.unqueued=0,g=e.empty.fire,e.empty.fire=function(){e.unqueued||g()}),e.unqueued++,t.always(function(){t.always(function(){e.unqueued--;k.queue(a,"fx").length||e.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(d.overflow=[n.overflow,n.overflowX,n.overflowY],r=k.css(a,
"display"),s="none"===r?D.get(a,"olddisplay")||G(a.nodeName):r,"inline"===s&&"none"===k.css(a,"float")&&(n.display="inline-block"));d.overflow&&(n.overflow="hidden",t.always(function(){n.overflow=d.overflow[0];n.overflowX=d.overflow[1];n.overflowY=d.overflow[2]}));for(c in b)if(f=b[c],Eb.exec(f)){if(delete b[c],l=l||"toggle"===f,f===(w?"hide":"show")){if("show"!==f||!x||void 0===x[c])continue;w=!0}h[c]=x&&x[c]||k.style(a,c)}else r=void 0;if(k.isEmptyObject(h))"inline"===("none"===r?G(a.nodeName):
r)&&(n.display=r);else for(c in x?"hidden"in x&&(w=x.hidden):x=D.access(a,"fxshow",{}),l&&(x.hidden=!w),w?k(a).show():t.done(function(){k(a).hide()}),t.done(function(){var b;D.remove(a,"fxshow");for(b in h)k.style(a,b,h[b])}),h)b=I(w?x[c]:0,c,t),c in x||(x[c]=b.start,w&&(b.end=b.start,b.start="width"===c||"height"===c?1:0))}],ta={"*":[function(a,b){var d=this.createTween(a,b),c=d.cur(),f=Za.exec(b),l=f&&f[3]||(k.cssNumber[a]?"":"px"),e=(k.cssNumber[a]||"px"!==l&&+c)&&Za.exec(k.css(d.elem,a)),g=1,
r=20;if(e&&e[3]!==l){l=l||e[3];f=f||[];e=+c||1;do g=g||".5",e/=g,k.style(d.elem,a,e+l);while(g!==(g=d.cur()/c)&&1!==g&&--r)}return f&&(e=d.start=+e||+c||0,d.unit=l,d.end=f[1]?e+(f[1]+1)*f[2]:+f[2]),d}]};k.Animation=k.extend(T,{tweener:function(a,b){k.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var d,c=0,f=a.length;f>c;c++)d=a[c],ta[d]=ta[d]||[],ta[d].unshift(b)},prefilter:function(a,b){b?xa.unshift(a):xa.push(a)}});k.speed=function(a,b,d){var c=a&&"object"==typeof a?k.extend({},a):{complete:d||
!d&&b||k.isFunction(a)&&a,duration:a,easing:d&&b||b&&!k.isFunction(b)&&b};return c.duration=k.fx.off?0:"number"==typeof c.duration?c.duration:c.duration in k.fx.speeds?k.fx.speeds[c.duration]:k.fx.speeds._default,(null==c.queue||!0===c.queue)&&(c.queue="fx"),c.old=c.complete,c.complete=function(){k.isFunction(c.old)&&c.old.call(this);c.queue&&k.dequeue(this,c.queue)},c};k.fn.extend({fadeTo:function(a,b,d,c){return this.filter(sa).css("opacity",0).show().end().animate({opacity:b},a,d,c)},animate:function(a,
b,d,c){var f=k.isEmptyObject(a),l=k.speed(b,d,c);b=function(){var b=T(this,k.extend({},a),l);(f||D.get(this,"finish"))&&b.stop(!0)};return b.finish=b,f||!1===l.queue?this.each(b):this.queue(l.queue,b)},stop:function(a,b,d){var c=function(a){var b=a.stop;delete a.stop;b(d)};return"string"!=typeof a&&(d=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,f=null!=a&&a+"queueHooks",l=k.timers,e=D.get(this);if(f)e[f]&&e[f].stop&&c(e[f]);else for(f in e)e[f]&&e[f].stop&&Fb.test(f)&&
c(e[f]);for(f=l.length;f--;)l[f].elem!==this||null!=a&&l[f].queue!==a||(l[f].anim.stop(d),b=!1,l.splice(f,1));!b&&d||k.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,d=D.get(this),c=d[a+"queue"];b=d[a+"queueHooks"];var f=k.timers,l=c?c.length:0;d.finish=!0;k.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;l>b;b++)c[b]&&c[b].finish&&c[b].finish.call(this);delete d.finish})}});
k.each(["toggle","show","hide"],function(a,b){var d=k.fn[b];k.fn[b]=function(a,c,f){return null==a||"boolean"==typeof a?d.apply(this,arguments):this.animate(N(b,!0),a,c,f)}});k.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){k.fn[a]=function(a,d,c){return this.animate(b,a,d,c)}});k.timers=[];k.fx.tick=function(){var a,b=0,d=k.timers;for(na=k.now();b<d.length;b++)a=d[b],a()||d[b]!==a||
d.splice(b--,1);d.length||k.fx.stop();na=void 0};k.fx.timer=function(a){k.timers.push(a);a()?k.fx.start():k.timers.pop()};k.fx.interval=13;k.fx.start=function(){Da||(Da=setInterval(k.fx.tick,k.fx.interval))};k.fx.stop=function(){clearInterval(Da);Da=null};k.fx.speeds={slow:600,fast:200,_default:400};k.fn.delay=function(a,b){return a=k.fx?k.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,d){var c=setTimeout(b,a);d.stop=function(){clearTimeout(c)}})};(function(){var a=J.createElement("input"),b=
J.createElement("select"),d=b.appendChild(J.createElement("option"));a.type="checkbox";O.checkOn=""!==a.value;O.optSelected=d.selected;b.disabled=!0;O.optDisabled=!d.disabled;a=J.createElement("input");a.value="t";a.type="radio";O.radioValue="t"===a.value})();var $a,ua=k.expr.attrHandle;k.fn.extend({attr:function(a,b){return ea(this,k.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){k.removeAttr(this,a)})}});k.extend({attr:function(a,b,d){var c,f,l=a.nodeType;if(a&&
3!==l&&8!==l&&2!==l)return"undefined"===typeof a.getAttribute?k.prop(a,b,d):(1===l&&k.isXMLDoc(a)||(b=b.toLowerCase(),c=k.attrHooks[b]||(k.expr.match.bool.test(b)?$a:void 0)),void 0===d?c&&"get"in c&&null!==(f=c.get(a,b))?f:(f=k.find.attr(a,b),null==f?void 0:f):null!==d?c&&"set"in c&&void 0!==(f=c.set(a,d,b))?f:(a.setAttribute(b,d+""),d):void k.removeAttr(a,b))},removeAttr:function(a,b){var d,c,f=0,l=b&&b.match(X);if(l&&1===a.nodeType)for(;d=l[f++];)c=k.propFix[d]||d,k.expr.match.bool.test(d)&&(a[c]=
!1),a.removeAttribute(d)},attrHooks:{type:{set:function(a,b){if(!O.radioValue&&"radio"===b&&k.nodeName(a,"input")){var d=a.value;return a.setAttribute("type",b),d&&(a.value=d),b}}}}});$a={set:function(a,b,d){return!1===b?k.removeAttr(a,d):a.setAttribute(d,d),d}};k.each(k.expr.match.bool.source.match(/\w+/g),function(a,b){var d=ua[b]||k.find.attr;ua[b]=function(a,b,c){var f,l;return c||(l=ua[b],ua[b]=f,f=null!=d(a,b,c)?b.toLowerCase():null,ua[b]=l),f}});var Gb=/^(?:input|select|textarea|button)$/i;
k.fn.extend({prop:function(a,b){return ea(this,k.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[k.propFix[a]||a]})}});k.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,d){var c,f,l,e=a.nodeType;if(a&&3!==e&&8!==e&&2!==e)return l=1!==e||!k.isXMLDoc(a),l&&(b=k.propFix[b]||b,f=k.propHooks[b]),void 0!==d?f&&"set"in f&&void 0!==(c=f.set(a,d,b))?c:a[b]=d:f&&"get"in f&&null!==(c=f.get(a,b))?c:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||
Gb.test(a.nodeName)||a.href?a.tabIndex:-1}}}});O.optSelected||(k.propHooks.selected={get:function(a){a=a.parentNode;return a&&a.parentNode&&a.parentNode.selectedIndex,null}});k.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){k.propFix[this.toLowerCase()]=this});var Ia=/[\t\r\n\f]/g;k.fn.extend({addClass:function(a){var b,d,c,f,l;b="string"==typeof a&&a;var e=0,g=this.length;if(k.isFunction(a))return this.each(function(b){k(this).addClass(a.call(this,
b,this.className))});if(b)for(b=(a||"").match(X)||[];g>e;e++)if(d=this[e],c=1===d.nodeType&&(d.className?(" "+d.className+" ").replace(Ia," "):" ")){for(l=0;f=b[l++];)0>c.indexOf(" "+f+" ")&&(c+=f+" ");c=k.trim(c);d.className!==c&&(d.className=c)}return this},removeClass:function(a){var b,d,c,f,l;b=0===arguments.length||"string"==typeof a&&a;var e=0,g=this.length;if(k.isFunction(a))return this.each(function(b){k(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(X)||[];g>
e;e++)if(d=this[e],c=1===d.nodeType&&(d.className?(" "+d.className+" ").replace(Ia," "):"")){for(l=0;f=b[l++];)for(;0<=c.indexOf(" "+f+" ");)c=c.replace(" "+f+" "," ");c=a?k.trim(c):"";d.className!==c&&(d.className=c)}return this},toggleClass:function(a,b){var d=typeof a;return"boolean"==typeof b&&"string"===d?b?this.addClass(a):this.removeClass(a):this.each(k.isFunction(a)?function(d){k(this).toggleClass(a.call(this,d,this.className,b),b)}:function(){if("string"===d)for(var b,c=0,f=k(this),l=a.match(X)||
[];b=l[c++];)f.hasClass(b)?f.removeClass(b):f.addClass(b);else("undefined"===d||"boolean"===d)&&(this.className&&D.set(this,"__className__",this.className),this.className=this.className||!1===a?"":D.get(this,"__className__")||"")})},hasClass:function(a){a=" "+a+" ";for(var b=0,d=this.length;d>b;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(Ia," ").indexOf(a))return!0;return!1}});var Hb=/\r/g;k.fn.extend({val:function(a){var b,d,c,f=this[0];if(arguments.length)return c=k.isFunction(a),
this.each(function(d){var f;1===this.nodeType&&(f=c?a.call(this,d,k(this).val()):a,null==f?f="":"number"==typeof f?f+="":k.isArray(f)&&(f=k.map(f,function(a){return null==a?"":a+""})),b=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,f,"value")||(this.value=f))});if(f)return b=k.valHooks[f.type]||k.valHooks[f.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(d=b.get(f,"value"))?d:(d=f.value,"string"==typeof d?d.replace(Hb,""):null==d?"":d)}});k.extend({valHooks:{option:{get:function(a){var b=
k.find.attr(a,"value");return null!=b?b:k.trim(k.text(a))}},select:{get:function(a){for(var b,d=a.options,c=a.selectedIndex,f="select-one"===a.type||0>c,l=f?null:[],e=f?c+1:d.length,g=0>c?e:f?c:0;e>g;g++)if(b=d[g],!(!b.selected&&g!==c||(O.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&k.nodeName(b.parentNode,"optgroup"))){if(a=k(b).val(),f)return a;l.push(a)}return l},set:function(a,b){for(var d,c,f=a.options,l=k.makeArray(b),e=f.length;e--;)c=f[e],(c.selected=0<=
k.inArray(c.value,l))&&(d=!0);return d||(a.selectedIndex=-1),l}}}});k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(a,b){return k.isArray(b)?a.checked=0<=k.inArray(k(a).val(),b):void 0}};O.checkOn||(k.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});k.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,b){k.fn[b]=function(a,d){return 0<arguments.length?this.on(b,null,a,d):this.trigger(b)}});k.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,d){return this.on(a,null,b,d)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,d,c){return this.on(b,a,d,c)},undelegate:function(a,b,d){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",d)}});var Ja=k.now(),Ka=/\?/;k.parseJSON=function(a){return JSON.parse(a+"")};k.parseXML=
function(a){var b,d;if(!a||"string"!=typeof a)return null;try{d=new DOMParser,b=d.parseFromString(a,"text/xml")}catch(c){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&k.error("Invalid XML: "+a),b};var ha,ja,Ib=/#.*$/,ab=/([?&])_=[^&]*/,Jb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Kb=/^(?:GET|HEAD)$/,Lb=/^\/\//,bb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,cb={},Ga={},db="*/".concat("*");try{ja=location.href}catch(Tb){ja=J.createElement("a"),ja.href="",ja=ja.href}ha=bb.exec(ja.toLowerCase())||
[];k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ja,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ha[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":db,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,
"text html":!0,"text json":k.parseJSON,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?P(P(a,k.ajaxSettings),b):P(k.ajaxSettings,a)},ajaxPrefilter:aa(cb),ajaxTransport:aa(Ga),ajax:function(a,b){function d(a,b,e,m){var r,t,A,y,q=b;if(2!==z){z=2;g&&clearTimeout(g);c=void 0;l=m||"";u.readyState=0<a?4:0;m=200<=a&&300>a||304===a;if(e){A=h;for(var p=u,v,M,aa,G,V=A.contents,U=A.dataTypes;"*"===U[0];)U.shift(),void 0===v&&(v=A.mimeType||p.getResponseHeader("Content-Type"));
if(v)for(M in V)if(V[M]&&V[M].test(v)){U.unshift(M);break}if(U[0]in e)aa=U[0];else{for(M in e){if(!U[0]||A.converters[M+" "+U[0]]){aa=M;break}G||(G=M)}aa=aa||G}A=aa?(aa!==U[0]&&U.unshift(aa),e[aa]):void 0}var C;a:{e=h;v=A;M=u;aa=m;var R,H,P;A={};p=e.dataTypes.slice();if(p[1])for(R in e.converters)A[R.toLowerCase()]=e.converters[R];for(G=p.shift();G;)if(e.responseFields[G]&&(M[e.responseFields[G]]=v),!P&&aa&&e.dataFilter&&(v=e.dataFilter(v,e.dataType)),P=G,G=p.shift())if("*"===G)G=P;else if("*"!==
P&&P!==G){if(R=A[P+" "+G]||A["* "+G],!R)for(C in A)if(H=C.split(" "),H[1]===G&&(R=A[P+" "+H[0]]||A["* "+H[0]])){!0===R?R=A[C]:!0!==A[C]&&(G=H[0],p.unshift(H[1]));break}if(!0!==R)if(R&&e["throws"])v=R(v);else try{v=R(v)}catch(W){C={state:"parsererror",error:R?W:"No conversion from "+P+" to "+G};break a}}C={state:"success",data:v}}A=C;m?(h.ifModified&&(y=u.getResponseHeader("Last-Modified"),y&&(k.lastModified[f]=y),y=u.getResponseHeader("etag"),y&&(k.etag[f]=y)),204===a||"HEAD"===h.type?q="nocontent":
304===a?q="notmodified":(q=A.state,r=A.data,t=A.error,m=!t)):(t=q,(a||!q)&&(q="error",0>a&&(a=0)));u.status=a;u.statusText=(b||q)+"";m?x.resolveWith(n,[r,q,u]):x.rejectWith(n,[u,q,t]);u.statusCode(T);T=void 0;s&&w.trigger(m?"ajaxSuccess":"ajaxError",[u,h,m?r:t]);da.fireWith(n,[u,q]);s&&(w.trigger("ajaxComplete",[u,h]),--k.active||k.event.trigger("ajaxStop"))}}"object"==typeof a&&(b=a,a=void 0);b=b||{};var c,f,l,e,g,r,s,t,h=k.ajaxSetup({},b),n=h.context||h,w=h.context&&(n.nodeType||n.jquery)?k(n):
k.event,x=k.Deferred(),da=k.Callbacks("once memory"),T=h.statusCode||{},A={},y={},z=0,q="canceled",u={readyState:0,getResponseHeader:function(a){var b;if(2===z){if(!e)for(e={};b=Jb.exec(l);)e[b[1].toLowerCase()]=b[2];b=e[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===z?l:null},setRequestHeader:function(a,b){var d=a.toLowerCase();return z||(a=y[d]=y[d]||a,A[a]=b),this},overrideMimeType:function(a){return z||(h.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>
z)for(b in a)T[b]=[T[b],a[b]];else u.always(a[u.status]);return this},abort:function(a){a=a||q;return c&&c.abort(a),d(0,a),this}};if(x.promise(u).complete=da.add,u.success=u.done,u.error=u.fail,h.url=((a||h.url||ja)+"").replace(Ib,"").replace(Lb,ha[1]+"//"),h.type=b.method||b.type||h.method||h.type,h.dataTypes=k.trim(h.dataType||"*").toLowerCase().match(X)||[""],null==h.crossDomain&&(r=bb.exec(h.url.toLowerCase()),h.crossDomain=!(!r||r[1]===ha[1]&&r[2]===ha[2]&&(r[3]||("http:"===r[1]?"80":"443"))===
(ha[3]||("http:"===ha[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=k.param(h.data,h.traditional)),U(cb,h,b,u),2===z)return u;(s=h.global)&&0===k.active++&&k.event.trigger("ajaxStart");h.type=h.type.toUpperCase();h.hasContent=!Kb.test(h.type);f=h.url;h.hasContent||(h.data&&(f=h.url+=(Ka.test(f)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=ab.test(f)?f.replace(ab,"$1_="+Ja++):f+(Ka.test(f)?"&":"?")+"_="+Ja++));h.ifModified&&(k.lastModified[f]&&u.setRequestHeader("If-Modified-Since",
k.lastModified[f]),k.etag[f]&&u.setRequestHeader("If-None-Match",k.etag[f]));(h.data&&h.hasContent&&!1!==h.contentType||b.contentType)&&u.setRequestHeader("Content-Type",h.contentType);u.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+db+"; q=0.01":""):h.accepts["*"]);for(t in h.headers)u.setRequestHeader(t,h.headers[t]);if(h.beforeSend&&(!1===h.beforeSend.call(n,u,h)||2===z))return u.abort();q="abort";for(t in{success:1,error:1,
complete:1})u[t](h[t]);if(c=U(Ga,h,b,u)){u.readyState=1;s&&w.trigger("ajaxSend",[u,h]);h.async&&0<h.timeout&&(g=setTimeout(function(){u.abort("timeout")},h.timeout));try{z=1,c.send(A,d)}catch(p){if(!(2>z))throw p;d(-1,p)}}else d(-1,"No Transport");return u},getJSON:function(a,b,d){return k.get(a,b,d,"json")},getScript:function(a,b){return k.get(a,void 0,b,"script")}});k.each(["get","post"],function(a,b){k[b]=function(a,d,c,f){return k.isFunction(d)&&(f=f||c,c=d,d=void 0),k.ajax({url:a,type:b,dataType:f,
data:d,success:c})}});k.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){k.fn[b]=function(a){return this.on(b,a)}});k._evalUrl=function(a){return k.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};k.fn.extend({wrapAll:function(a){var b;return k.isFunction(a)?this.each(function(b){k(this).wrapAll(a.call(this,b))}):(this[0]&&(b=k(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=
this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(k.isFunction(a)?function(b){k(this).wrapInner(a.call(this,b))}:function(){var b=k(this),d=b.contents();d.length?d.wrapAll(a):b.append(a)})},wrap:function(a){var b=k.isFunction(a);return this.each(function(d){k(this).wrapAll(b?a.call(this,d):a)})},unwrap:function(){return this.parent().each(function(){k.nodeName(this,"body")||k(this).replaceWith(this.childNodes)}).end()}});k.expr.filters.hidden=
function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight};k.expr.filters.visible=function(a){return!k.expr.filters.hidden(a)};var Mb=/%20/g,ob=/\[\]$/,eb=/\r?\n/g,Nb=/^(?:submit|button|image|reset|file)$/i,Ob=/^(?:input|select|textarea|keygen)/i;k.param=function(a,b){var d,c=[],f=function(a,b){b=k.isFunction(b)?b():null==b?"":b;c[c.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=k.ajaxSettings&&k.ajaxSettings.traditional),k.isArray(a)||a.jquery&&!k.isPlainObject(a))k.each(a,
function(){f(this.name,this.value)});else for(d in a)r(d,a[d],b,f);return c.join("&").replace(Mb,"+")};k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=k.prop(this,"elements");return a?k.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!k(this).is(":disabled")&&Ob.test(this.nodeName)&&!Nb.test(a)&&(this.checked||!Sa.test(a))}).map(function(a,b){var d=k(this).val();return null==d?null:k.isArray(d)?
k.map(d,function(a){return{name:b.name,value:a.replace(eb,"\r\n")}}):{name:b.name,value:d.replace(eb,"\r\n")}}).get()}});k.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Pb=0,Ea={},Qb={0:200,1223:204},ma=k.ajaxSettings.xhr();g.ActiveXObject&&k(g).on("unload",function(){for(var a in Ea)Ea[a]()});O.cors=!!ma&&"withCredentials"in ma;O.ajax=ma=!!ma;k.ajaxTransport(function(a){var b;return O.cors||ma&&!a.crossDomain?{send:function(d,c){var f,l=a.xhr(),e=++Pb;if(l.open(a.type,
a.url,a.async,a.username,a.password),a.xhrFields)for(f in a.xhrFields)l[f]=a.xhrFields[f];a.mimeType&&l.overrideMimeType&&l.overrideMimeType(a.mimeType);a.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");for(f in d)l.setRequestHeader(f,d[f]);b=function(a){return function(){b&&(delete Ea[e],b=l.onload=l.onerror=null,"abort"===a?l.abort():"error"===a?c(l.status,l.statusText):c(Qb[l.status]||l.status,l.statusText,"string"==typeof l.responseText?{text:l.responseText}:void 0,
l.getAllResponseHeaders()))}};l.onload=b();l.onerror=b("error");b=Ea[e]=b("abort");try{l.send(a.hasContent&&a.data||null)}catch(k){if(b)throw k;}},abort:function(){b&&b()}}:void 0});k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return k.globalEval(a),a}}});k.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type=
"GET")});k.ajaxTransport("script",function(a){if(a.crossDomain){var b,d;return{send:function(c,f){b=k("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",d=function(a){b.remove();d=null;a&&f("error"===a.type?404:200,a.type)});J.head.appendChild(b[0])},abort:function(){d&&d()}}}});var fb=[],La=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=fb.pop()||k.expando+"_"+Ja++;return this[a]=!0,a}});k.ajaxPrefilter("json jsonp",function(a,b,d){var c,
f,l,e=!1!==a.jsonp&&(La.test(a.url)?"url":"string"==typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&La.test(a.data)&&"data");return e||"jsonp"===a.dataTypes[0]?(c=a.jsonpCallback=k.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,e?a[e]=a[e].replace(La,"$1"+c):!1!==a.jsonp&&(a.url+=(Ka.test(a.url)?"&":"?")+a.jsonp+"="+c),a.converters["script json"]=function(){return l||k.error(c+" was not called"),l[0]},a.dataTypes[0]="json",f=g[c],g[c]=function(){l=
arguments},d.always(function(){g[c]=f;a[c]&&(a.jsonpCallback=b.jsonpCallback,fb.push(c));l&&k.isFunction(f)&&f(l[0]);l=f=void 0}),"script"):void 0});k.parseHTML=function(a,b,d){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(d=b,b=!1);b=b||J;var c=Ra.exec(a);d=!d&&[];return c?[b.createElement(c[1])]:(c=k.buildFragment([a],b,d),d&&d.length&&k(d).remove(),k.merge([],c.childNodes))};var gb=k.fn.load;k.fn.load=function(a,b,d){if("string"!=typeof a&&gb)return gb.apply(this,arguments);var c,
f,l,e=this,g=a.indexOf(" ");return 0<=g&&(c=k.trim(a.slice(g)),a=a.slice(0,g)),k.isFunction(b)?(d=b,b=void 0):b&&"object"==typeof b&&(f="POST"),0<e.length&&k.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){l=arguments;e.html(c?k("<div>").append(k.parseHTML(a)).find(c):a)}).complete(d&&function(a,b){e.each(d,l||[a.responseText,b,a])}),this};k.expr.filters.animated=function(a){return k.grep(k.timers,function(b){return a===b.elem}).length};var hb=g.document.documentElement;k.offset={setOffset:function(a,
b,d){var c,f,l,e,g,r,s=k.css(a,"position"),h=k(a),t={};"static"===s&&(a.style.position="relative");g=h.offset();l=k.css(a,"top");r=k.css(a,"left");("absolute"===s||"fixed"===s)&&-1<(l+r).indexOf("auto")?(c=h.position(),e=c.top,f=c.left):(e=parseFloat(l)||0,f=parseFloat(r)||0);k.isFunction(b)&&(b=b.call(a,d,g));null!=b.top&&(t.top=b.top-g.top+e);null!=b.left&&(t.left=b.left-g.left+f);"using"in b?b.using.call(a,t):h.css(t)}};k.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:
this.each(function(b){k.offset.setOffset(this,a,b)});var b,d,c=this[0],f={top:0,left:0},l=c&&c.ownerDocument;if(l)return b=l.documentElement,k.contains(b,c)?("undefined"!==typeof c.getBoundingClientRect&&(f=c.getBoundingClientRect()),d=da(l),{top:f.top+d.pageYOffset-b.clientTop,left:f.left+d.pageXOffset-b.clientLeft}):f},position:function(){if(this[0]){var a,b,d=this[0],c={top:0,left:0};return"fixed"===k.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),k.nodeName(a[0],
"html")||(c=a.offset()),c.top+=k.css(a[0],"borderTopWidth",!0),c.left+=k.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-k.css(d,"marginTop",!0),left:b.left-c.left-k.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||hb;a&&!k.nodeName(a,"html")&&"static"===k.css(a,"position");)a=a.offsetParent;return a||hb})}});k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var d="pageYOffset"===b;k.fn[a]=function(c){return ea(this,function(a,
c,f){var l=da(a);return void 0===f?l?l[b]:a[c]:void(l?l.scrollTo(d?g.pageXOffset:f,d?f:g.pageYOffset):a[c]=f)},a,c,arguments.length,null)}});k.each(["top","left"],function(a,b){k.cssHooks[b]=n(O.pixelPosition,function(a,d){return d?(d=v(a,b),Fa.test(d)?k(a).position()[b]+"px":d):void 0})});k.each({Height:"height",Width:"width"},function(a,b){k.each({padding:"inner"+a,content:b,"":"outer"+a},function(d,c){k.fn[c]=function(c,f){var l=arguments.length&&(d||"boolean"!=typeof c),e=d||(!0===c||!0===f?"margin":
"border");return ea(this,function(b,d,c){var f;return k.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===c?k.css(b,d,e):k.style(b,d,c,e)},b,l?c:void 0,l,null)}})});k.fn.size=function(){return this.length};k.fn.andSelf=k.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return k});var Rb=g.jQuery,Sb=g.$;return k.noConflict=function(a){return g.$===
k&&(g.$=Sb),a&&g.jQuery===k&&(g.jQuery=Rb),k},"undefined"===typeof p&&(g.jQuery=g.$=k),k});(function(g,p){"function"==typeof define&&define.amd?define("gridster-coords",["jquery"],p):g.GridsterCoords=p(g.$||g.jQuery)})(this,function(g){function p(h){return h[0]&&g.isPlainObject(h[0])?this.data=h[0]:this.el=h,this.isCoords=!0,this.coords={},this.init(),this}var h=p.prototype;return h.init=function(){this.set();this.original_coords=this.get()},h.set=function(g,e){var b=this.el;if(b&&!g&&(this.data=b.offset(),this.data.width=b.width(),this.data.height=b.height()),b&&g&&!e){var c=b.offset();
this.data.top=c.top;this.data.left=c.left}c=this.data;return void 0===c.left&&(c.left=c.x1),void 0===c.top&&(c.top=c.y1),this.coords.x1=c.left,this.coords.y1=c.top,this.coords.x2=c.left+c.width,this.coords.y2=c.top+c.height,this.coords.cx=c.left+c.width/2,this.coords.cy=c.top+c.height/2,this.coords.width=c.width,this.coords.height=c.height,this.coords.el=b||!1,this},h.update=function(h){return h||this.el?h?(this.data=g.extend({},this.data,h),this.set(!0,!0)):(this.set(!0),this):this},h.get=function(){return this.coords},
h.destroy=function(){this.el.removeData("coords");delete this.el},g.fn.coords=function(g){if(this.data("coords"))return this.data("coords");g=new p(this,g);return this.data("coords",g),g},p});
(function(g,p){"function"==typeof define&&define.amd?define("gridster-collision",["jquery","gridster-coords"],p):g.GridsterCollision=p(g.$||g.jQuery,g.GridsterCoords)})(this,function(g){function p(e,b,c){this.options=g.extend(h,c);this.$element=e;this.last_colliders=[];this.last_colliders_coords=[];this.set_colliders(b);this.init()}var h={colliders_context:document.body,overlapping_region:"C"};p.defaults=h;var q=p.prototype;return q.init=function(){this.find_collisions()},q.overlaps=function(e,b){var c=
!1,a=!1;return(b.x1>=e.x1&&b.x1<=e.x2||b.x2>=e.x1&&b.x2<=e.x2||e.x1>=b.x1&&e.x2<=b.x2)&&(c=!0),(b.y1>=e.y1&&b.y1<=e.y2||b.y2>=e.y1&&b.y2<=e.y2||e.y1>=b.y1&&e.y2<=b.y2)&&(a=!0),c&&a},q.detect_overlapping_region=function(e,b){var c="",a="";return e.y1>b.cy&&e.y1<b.y2&&(c="N"),e.y2>b.y1&&e.y2<b.cy&&(c="S"),e.x1>b.cx&&e.x1<b.x2&&(a="W"),e.x2>b.x1&&e.x2<b.cx&&(a="E"),c+a||"C"},q.calculate_overlapped_area_coords=function(e,b){var c=Math.max(e.x1,b.x1),a=Math.max(e.y1,b.y1),d=Math.min(e.x2,b.x2),f=Math.min(e.y2,
b.y2);return g({left:c,top:a,width:d-c,height:f-a}).coords().get()},q.calculate_overlapped_area=function(e){return e.width*e.height},q.manage_colliders_start_stop=function(e,b,c){for(var a=this.last_colliders_coords,d=0,f=a.length;f>d;d++)-1===g.inArray(a[d],e)&&b.call(this,a[d]);b=0;for(d=e.length;d>b;b++)-1===g.inArray(e[b],a)&&c.call(this,e[b])},q.find_collisions=function(e){var b=this.options.overlapping_region,c=[],a=[],d=this.colliders||this.$colliders,f=d.length;for(e=this.$element.coords().update(e||
!1).get();f--;){var l=this.$colliders?g(d[f]):d[f],s=l.isCoords?l:l.coords(),h=s.get();if(this.overlaps(e,h)){var x=this.detect_overlapping_region(e,h);if(x===b||"all"===b){var q=this.calculate_overlapped_area_coords(e,h),l={area:this.calculate_overlapped_area(q),area_coords:q,region:x,coords:h,player_coords:e,el:l};this.options.on_overlap&&this.options.on_overlap.call(this,l);c.push(s);a.push(l)}}}return(this.options.on_overlap_stop||this.options.on_overlap_start)&&this.manage_colliders_start_stop(c,
this.options.on_overlap_start,this.options.on_overlap_stop),this.last_colliders_coords=c,a},q.get_closest_colliders=function(e){e=this.find_collisions(e);return e.sort(function(b,c){return"C"===b.region&&"C"===c.region?b.coords.y1<c.coords.y1||b.coords.x1<c.coords.x1?-1:1:1}),e},q.set_colliders=function(e){"string"==typeof e||e instanceof g?this.$colliders=g(e,this.options.colliders_context).not(this.$element):this.colliders=g(e)},g.fn.collision=function(e,b){return new p(this,e,b)},p});
(function(g){g.delay=function(g,h){var q=Array.prototype.slice.call(arguments,2);return setTimeout(function(){return g.apply(null,q)},h)};g.debounce=function(g,h,q){var e;return function(){var b=this,c=arguments;q&&!e&&g.apply(b,c);clearTimeout(e);e=setTimeout(function(){e=null;q||g.apply(b,c)},h)}};g.throttle=function(g,h){var q,e,b,c,a,d,f=debounce(function(){a=c=!1},h);return function(){q=this;e=arguments;return b||(b=setTimeout(function(){b=null;a&&g.apply(q,e);f()},h)),c?a=!0:d=g.apply(q,e),
f(),c=!0,d}}})(window);
(function(g,p){"function"==typeof define&&define.amd?define("gridster-draggable",["jquery"],p):g.GridsterDraggable=p(g.$||g.jQuery)})(this,function(g){function p(a,b){this.options=g.extend({},h,b);this.$document=g(document);this.$container=g(a);this.$dragitems=g(this.options.items,this.$container);this.is_dragging=!1;this.player_min_left=0+this.options.offset_left;this.init()}var h={items:"li",distance:1,limit:!0,offset_left:0,autoscroll:!0,ignore_dragging:["INPUT","TEXTAREA","SELECT","BUTTON"],handle:null,
container_width:0,move_element:!0,helper:!1,remove_helper:!0},q=g(window),e={x:"left",y:"top"},b=!!("ontouchstart"in window),c=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};p.defaults=h;var a=p.prototype;return a.init=function(){var a=this.$container.css("position");this.calculate_dimensions();this.$container.css("position","static"===a?"relative":a);this.disabled=!1;this.events();g(window).bind("resize.gridster-draggable",throttle(g.proxy(this.calculate_dimensions,this),200))},a.events=
function(){this.$container.on("selectstart.gridster-draggable",g.proxy(this.on_select_start,this));this.$container.on("touchstart.gridster-draggable mousedown.gridster-draggable",this.options.items,g.proxy(this.drag_handler,this));this.$document.on("touchend.gridster-draggable mouseup.gridster-draggable",g.proxy(function(a){this.is_dragging=!1;this.disabled||(this.$document.off("touchmove.gridster-draggable mousemove.gridster-draggable"),this.drag_start&&this.on_dragstop(a))},this))},a.get_actual_pos=
function(a){return a.position()},a.get_mouse_pos=function(a){a.originalEvent&&a.originalEvent.touches&&(a=a.originalEvent,a=a.touches.length?a.touches[0]:a.changedTouches[0]);return{left:a.clientX,top:a.clientY}},a.get_offset=function(a){a.preventDefault();a=this.get_mouse_pos(a);var b=Math.round(a.left-this.mouse_init_pos.left),c=Math.round(a.top-this.mouse_init_pos.top),e=Math.round(this.el_init_offset.left+b-this.baseX+g(window).scrollLeft()-this.win_offset_x),h=Math.round(this.el_init_offset.top+
c-this.baseY+g(window).scrollTop()-this.win_offset_y);return this.options.limit&&(e>this.player_max_left?e=this.player_max_left:this.player_min_left>e&&(e=this.player_min_left)),{position:{left:e,top:h},pointer:{left:a.left,top:a.top,diff_left:b+(g(window).scrollLeft()-this.win_offset_x),diff_top:c+(g(window).scrollTop()-this.win_offset_y)}}},a.get_drag_data=function(a){a=this.get_offset(a);return a.$player=this.$player,a.$helper=this.helper?this.$helper:this.$player,a},a.set_limits=function(a){return a||
(a=this.$container.width()),this.player_max_left=a-this.player_width+-this.options.offset_left,this.options.container_width=a,this},a.scroll_in=function(a,b){var l,h=e[a],w="x"===a,x=w?this.window_width:this.window_height,p=w?g(document).width():g(document).height(),w=w?this.$player.width():this.$player.height(),u=q["scroll"+c(h)](),C=u+50,y=u+b.pointer[h];return y>=u+x-50&&(l=u+30,p-x+w>l&&(q["scroll"+c(h)](l),this["scroll_offset_"+a]+=30)),C>=y&&(l=u-30,0<l&&(q["scroll"+c(h)](l),this["scroll_offset_"+
a]-=30)),this},a.manage_scroll=function(a){this.scroll_in("x",a);this.scroll_in("y",a)},a.calculate_dimensions=function(){this.window_height=q.height();this.window_width=q.width()},a.drag_handler=function(a){if(a.target.nodeName,!this.disabled&&(1===a.which||b)&&!this.ignore_drag(a)){var c=this,l=!0;return this.$player=g(a.currentTarget),this.el_init_pos=this.get_actual_pos(this.$player),this.mouse_init_pos=this.get_mouse_pos(a),this.offsetY=this.mouse_init_pos.top-this.el_init_pos.top,this.$document.on("touchmove.gridster-draggable mousemove.gridster-draggable",
function(a){var b=c.get_mouse_pos(a),d=Math.abs(b.left-c.mouse_init_pos.left),b=Math.abs(b.top-c.mouse_init_pos.top);return d>c.options.distance||b>c.options.distance?l?(l=!1,c.on_dragstart.call(c,a),!1):(!0===c.is_dragging&&c.on_dragmove.call(c,a),!1):!1}),b?void 0:!1}},a.on_dragstart=function(a){if(a.preventDefault(),this.is_dragging)return this;this.drag_start=this.is_dragging=!0;var b=this.$container.offset();return this.baseX=Math.round(b.left),this.baseY=Math.round(b.top),this.initial_container_width=
this.options.container_width||this.$container.width(),"clone"===this.options.helper?(this.$helper=this.$player.clone().appendTo(this.$container).addClass("helper"),this.helper=!0):this.helper=!1,this.win_offset_y=g(window).scrollTop(),this.win_offset_x=g(window).scrollLeft(),this.scroll_offset_y=0,this.scroll_offset_x=0,this.el_init_offset=this.$player.offset(),this.player_width=this.$player.width(),this.player_height=this.$player.height(),this.set_limits(this.options.container_width),this.options.start&&
this.options.start.call(this.$player,a,this.get_drag_data(a)),!1},a.on_dragmove=function(a){var b=this.get_drag_data(a);this.options.autoscroll&&this.manage_scroll(b);this.options.move_element&&(this.helper?this.$helper:this.$player).css({position:"absolute",left:b.position.left,top:b.position.top});return b.prev_position=this.last_position||b.position,this.options.drag&&this.options.drag.call(this.$player,a,b),this.last_position=b.position,!1},a.on_dragstop=function(a){var b=this.get_drag_data(a);
return this.drag_start=!1,this.options.stop&&this.options.stop.call(this.$player,a,b),this.helper&&this.options.remove_helper&&this.$helper.remove(),!1},a.on_select_start=function(a){return this.disabled||this.ignore_drag(a)?void 0:!1},a.enable=function(){this.disabled=!1},a.disable=function(){this.disabled=!0},a.destroy=function(){this.disable();this.$container.off(".gridster-draggable");this.$document.off(".gridster-draggable");g(window).off(".gridster-draggable");g.removeData(this.$container,"drag")},
a.ignore_drag=function(a){return this.options.handle?!g(a.target).is(this.options.handle):g.isFunction(this.options.ignore_dragging)?this.options.ignore_dragging(a):g(a.target).is(this.options.ignore_dragging.join(", "))},g.fn.drag=function(a){return new p(this,a)},p});
(function(g,p){"function"==typeof define&&define.amd?define(["jquery","gridster-draggable","gridster-collision"],p):g.Gridster=p(g.$||g.jQuery,g.GridsterDraggable,g.GridsterCollision)})(this,function(g,p){function h(b,c){this.options=g.extend(!0,{},q,c);this.$el=g(b);this.$wrapper=this.$el.parent();this.$widgets=this.$el.children(this.options.widget_selector).addClass("gs-w");this.widgets=[];this.$changed=g([]);this.wrapper_width=this.$wrapper.width();this.min_widget_width=2*this.options.widget_margins[0]+
this.options.widget_base_dimensions[0];this.min_widget_height=2*this.options.widget_margins[1]+this.options.widget_base_dimensions[1];this.generated_stylesheets=[];this.$style_tags=g([]);this.options.auto_init&&this.init()}var q={namespace:"",widget_selector:"li",widget_margins:[10,10],widget_base_dimensions:[400,225],extra_rows:0,extra_cols:0,min_cols:1,max_cols:1/0,min_rows:15,max_size_x:!1,autogrow_cols:!1,autogenerate_stylesheet:!0,avoid_overlapped_widgets:!0,auto_init:!0,serialize_params:function(b,
c){return{col:c.col,row:c.row,size_x:c.size_x,size_y:c.size_y}},collision:{},draggable:{items:".gs-w",distance:4,ignore_dragging:p.defaults.ignore_dragging.slice(0)},resize:{enabled:!1,axes:["both"],handle_append_to:"",handle_class:"gs-resize-handle",max_size:[1/0,1/0],min_size:[1,1]}};h.defaults=q;h.generated_stylesheets=[];h.sort_by_row_asc=function(b){return b=b.sort(function(b,a){return b.row||(b=g(b).coords().grid,a=g(a).coords().grid),b.row>a.row?1:-1})};h.sort_by_row_and_col_asc=function(b){return b=
b.sort(function(b,a){return b.row>a.row||b.row===a.row&&b.col>a.col?1:-1})};h.sort_by_col_asc=function(b){return b=b.sort(function(b,a){return b.col>a.col?1:-1})};h.sort_by_row_desc=function(b){return b=b.sort(function(b,a){return b.row+b.size_y<a.row+a.size_y?1:-1})};var e=h.prototype;return e.init=function(){this.options.resize.enabled&&this.setup_resize();this.generate_grid_and_stylesheet();this.get_widgets_from_DOM();this.set_dom_grid_height();this.set_dom_grid_width();this.$wrapper.addClass("ready");
this.draggable();this.options.resize.enabled&&this.resizable();g(window).bind("resize.gridster",throttle(g.proxy(this.recalculate_faux_grid,this),200))},e.disable=function(){return this.$wrapper.find(".player-revert").removeClass("player-revert"),this.drag_api.disable(),this},e.enable=function(){return this.drag_api.enable(),this},e.disable_resize=function(){return this.$el.addClass("gs-resize-disabled"),this.resize_api.disable(),this},e.enable_resize=function(){return this.$el.removeClass("gs-resize-disabled"),
this.resize_api.enable(),this},e.add_widget=function(b,c,a,d,f,l,e){var h;c||(c=1);a||(a=1);!d&!f?h=this.next_position(c,a):(h={col:d,row:f,size_x:c,size_y:a},this.empty_cells(d,f,c,a));b=g(b).attr({"data-col":h.col,"data-row":h.row,"data-sizex":c,"data-sizey":a}).addClass("gs-w").appendTo(this.$el).hide();return this.$widgets=this.$widgets.add(b),this.register_widget(b),this.add_faux_rows(h.size_y),l&&this.set_widget_max_size(b,l),e&&this.set_widget_min_size(b,e),this.set_dom_grid_width(),this.set_dom_grid_height(),
this.drag_api.set_limits(this.cols*this.min_widget_width),b.fadeIn()},e.set_widget_min_size=function(b,c){if(b="number"==typeof b?this.$widgets.eq(b):b,!b.length)return this;var a=b.data("coords").grid;return a.min_size_x=c[0],a.min_size_y=c[1],this},e.set_widget_max_size=function(b,c){if(b="number"==typeof b?this.$widgets.eq(b):b,!b.length)return this;var a=b.data("coords").grid;return a.max_size_x=c[0],a.max_size_y=c[1],this},e.add_resize_handle=function(b){var c=this.options.resize.handle_append_to;
return g(this.resize_handle_tpl).appendTo(c?g(c,b):b),this},e.resize_widget=function(b,c,a,d){var f=b.coords().grid,l=f.col,e=this.options.max_cols,g=f.size_y,h=f.col;c||(c=f.size_x);a||(a=f.size_y);1/0!==e&&(c=Math.min(c,e-l+1));a>g&&this.add_faux_rows(Math.max(a-g,0));l=l+c-1;l>this.cols&&this.add_faux_cols(l-this.cols);c={col:h,row:f.row,size_x:c,size_y:a};return this.mutate_widget_in_gridmap(b,f,c),this.set_dom_grid_height(),this.set_dom_grid_width(),d&&d.call(this,c.size_x,c.size_y),b},e.mutate_widget_in_gridmap=
function(b,c,a){c.size_x;var d=c.size_y,f=this.get_cells_occupied(c),l=this.get_cells_occupied(a),e=[];g.each(f.cols,function(a,b){-1===g.inArray(b,l.cols)&&e.push(b)});var h=[];g.each(l.cols,function(a,b){-1===g.inArray(b,f.cols)&&h.push(b)});var x=[];g.each(f.rows,function(a,b){-1===g.inArray(b,l.rows)&&x.push(b)});var q=[];if(g.each(l.rows,function(a,b){-1===g.inArray(b,f.rows)&&q.push(b)}),this.remove_from_gridmap(c),h.length){var u=[a.col,a.row,a.size_x,Math.min(d,a.size_y),b];this.empty_cells.apply(this,
u)}q.length&&this.empty_cells.apply(this,[a.col,a.row,a.size_x,a.size_y,b]);if(c.col=a.col,c.row=a.row,c.size_x=a.size_x,c.size_y=a.size_y,this.add_to_gridmap(a,b),b.removeClass("player-revert"),b.data("coords").update({width:a.size_x*this.options.widget_base_dimensions[0]+2*(a.size_x-1)*this.options.widget_margins[0],height:a.size_y*this.options.widget_base_dimensions[1]+2*(a.size_y-1)*this.options.widget_margins[1]}),b.attr({"data-col":a.col,"data-row":a.row,"data-sizex":a.size_x,"data-sizey":a.size_y}),
e.length)c=[e[0],a.row,e.length,Math.min(d,a.size_y),b],this.remove_empty_cells.apply(this,c);x.length&&this.remove_empty_cells.apply(this,[a.col,a.row,a.size_x,a.size_y,b]);return this.move_widget_up(b),this},e.empty_cells=function(b,c,a,d,f){return this.widgets_below({col:b,row:c-d,size_x:a,size_y:d}).not(f).each(g.proxy(function(a,b){var f=g(b).coords().grid;c+d-1>=f.row&&(f=c+d-f.row,this.move_widget_down(g(b),f))},this)),this.set_dom_grid_height(),this},e.remove_empty_cells=function(b,c,a,d,
f){return this.widgets_below({col:b,row:c,size_x:a,size_y:d}).not(f).each(g.proxy(function(a,b){this.move_widget_up(g(b),d)},this)),this.set_dom_grid_height(),this},e.next_position=function(b,c){b||(b=1);c||(c=1);for(var a,d=this.gridmap,f=d.length,l=[],e=1;f>e;e++){a=d[e].length;for(var g=1;a>=g;g++)this.can_move_to({size_x:b,size_y:c},e,g)&&l.push({col:e,row:g,size_y:c,size_x:b})}return l.length?h.sort_by_row_and_col_asc(l)[0]:!1},e.remove_widget=function(b,c,a){var d=b instanceof g?b:g(b),f=d.coords().grid;
g.isFunction(c)&&(a=c,c=!1);this.cells_occupied_by_placeholder={};this.$widgets=this.$widgets.not(d);var l=this.widgets_below(d);return this.remove_from_gridmap(f),d.fadeOut(g.proxy(function(){d.remove();c||l.each(g.proxy(function(a,b){this.move_widget_up(g(b),f.size_y)},this));this.set_dom_grid_height();a&&a.call(this,b)},this)),this},e.remove_all_widgets=function(b){return this.$widgets.each(g.proxy(function(c,a){this.remove_widget(a,!0,b)},this)),this},e.serialize=function(b){return b||(b=this.$widgets),
b.map(g.proxy(function(b,a){var d=g(a);return this.options.serialize_params(d,d.coords().grid)},this)).get()},e.serialize_changed=function(){return this.serialize(this.$changed)},e.dom_to_coords=function(b){return{col:parseInt(b.attr("data-col"),10),row:parseInt(b.attr("data-row"),10),size_x:parseInt(b.attr("data-sizex"),10)||1,size_y:parseInt(b.attr("data-sizey"),10)||1,max_size_x:parseInt(b.attr("data-max-sizex"),10)||!1,max_size_y:parseInt(b.attr("data-max-sizey"),10)||!1,min_size_x:parseInt(b.attr("data-min-sizex"),
10)||!1,min_size_y:parseInt(b.attr("data-min-sizey"),10)||!1,el:b}},e.register_widget=function(b){var c=b instanceof jQuery,a=c?this.dom_to_coords(b):b,d=!1;c||(b=a.el);c=this.can_go_widget_up(a);return c&&(a.row=c,b.attr("data-row",c),this.$el.trigger("gridster:positionchanged",[a]),d=!0),this.options.avoid_overlapped_widgets&&!this.can_move_to({size_x:a.size_x,size_y:a.size_y},a.col,a.row)&&(g.extend(a,this.next_position(a.size_x,a.size_y)),b.attr({"data-col":a.col,"data-row":a.row,"data-sizex":a.size_x,
"data-sizey":a.size_y}),d=!0),b.data("coords",b.coords()),b.data("coords").grid=a,this.add_to_gridmap(a,b),this.options.resize.enabled&&this.add_resize_handle(b),d},e.update_widget_position=function(b,c){return this.for_each_cell_occupied(b,function(a,b){return this.gridmap[a]?(this.gridmap[a][b]=c,void 0):this}),this},e.remove_from_gridmap=function(b){return this.update_widget_position(b,!1)},e.add_to_gridmap=function(b,c){(this.update_widget_position(b,c||b.el),b.el)&&this.widgets_below(b.el).each(g.proxy(function(a,
b){this.move_widget_up(g(b))},this))},e.draggable=function(){var b=this,c=g.extend(!0,{},this.options.draggable,{offset_left:this.options.widget_margins[0],offset_top:this.options.widget_margins[1],container_width:this.cols*this.min_widget_width,limit:!0,start:function(a,d){b.$widgets.filter(".player-revert").removeClass("player-revert");b.$player=g(this);b.$helper=g(d.$helper);b.helper=!b.$helper.is(b.$player);b.on_start_drag.call(b,a,d);b.$el.trigger("gridster:dragstart")},stop:function(a,d){b.on_stop_drag.call(b,
a,d);b.$el.trigger("gridster:dragstop")},drag:throttle(function(a,d){b.on_drag.call(b,a,d);b.$el.trigger("gridster:drag")},60)});return this.drag_api=this.$el.drag(c),this},e.resizable=function(){return this.resize_api=this.$el.drag({items:"."+this.options.resize.handle_class,offset_left:this.options.widget_margins[0],container_width:this.container_width,move_element:!1,resize:!0,limit:this.options.autogrow_cols?!1:!0,start:g.proxy(this.on_start_resize,this),stop:g.proxy(function(b,c){delay(g.proxy(function(){this.on_stop_resize(b,
c)},this),120)},this),drag:throttle(g.proxy(this.on_resize,this),60)}),this},e.setup_resize=function(){this.resize_handle_class=this.options.resize.handle_class;var b='<span class="'+this.resize_handle_class+" "+this.resize_handle_class+'-{type}" />';return this.resize_handle_tpl=g.map(this.options.resize.axes,function(c){return b.replace("{type}",c)}).join(""),g.isArray(this.options.draggable.ignore_dragging)&&this.options.draggable.ignore_dragging.push("."+this.resize_handle_class),this},e.on_start_drag=
function(b,c){this.$helper.add(this.$player).add(this.$wrapper).addClass("dragging");this.highest_col=this.get_highest_occupied_cell().col;this.$player.addClass("player");this.player_grid_data=this.$player.coords().grid;this.placeholder_grid_data=g.extend({},this.player_grid_data);this.set_dom_grid_height(this.$el.height()+this.player_grid_data.size_y*this.min_widget_height);this.set_dom_grid_width(this.cols);var a=this.player_grid_data.size_x,d=this.cols-this.highest_col;this.options.autogrow_cols&&
a>=d&&this.add_faux_cols(Math.min(a-d,1));a=this.faux_grid;d=this.$player.data("coords").coords;this.cells_occupied_by_player=this.get_cells_occupied(this.player_grid_data);this.cells_occupied_by_placeholder=this.get_cells_occupied(this.placeholder_grid_data);this.last_cols=[];this.last_rows=[];this.collision_api=this.$helper.collision(a,this.options.collision);this.$preview_holder=g("<"+this.$player.get(0).tagName+" />",{"class":"preview-holder","data-row":this.$player.attr("data-row"),"data-col":this.$player.attr("data-col"),
css:{width:d.width,height:d.height}}).appendTo(this.$el);this.options.draggable.start&&this.options.draggable.start.call(this,b,c)},e.on_drag=function(b,c){if(null===this.$player)return!1;var a={left:c.position.left+this.baseX,top:c.position.top+this.baseY};this.options.autogrow_cols&&(this.placeholder_grid_data.col+this.placeholder_grid_data.size_x-1>=this.cols-1&&this.options.max_cols>=this.cols+1&&(this.add_faux_cols(1),this.set_dom_grid_width(this.cols+1),this.drag_api.set_limits(this.container_width)),
this.collision_api.set_colliders(this.faux_grid));this.colliders_data=this.collision_api.get_closest_colliders(a);this.on_overlapped_column_change(this.on_start_overlapping_column,this.on_stop_overlapping_column);this.on_overlapped_row_change(this.on_start_overlapping_row,this.on_stop_overlapping_row);this.helper&&this.$player&&this.$player.css({left:c.position.left,top:c.position.top});this.options.draggable.drag&&this.options.draggable.drag.call(this,b,c)},e.on_stop_drag=function(b,c){this.$helper.add(this.$player).add(this.$wrapper).removeClass("dragging");
c.position.left+=this.baseX;c.position.top+=this.baseY;this.colliders_data=this.collision_api.get_closest_colliders(c.position);this.on_overlapped_column_change(this.on_start_overlapping_column,this.on_stop_overlapping_column);this.on_overlapped_row_change(this.on_start_overlapping_row,this.on_stop_overlapping_row);this.$player.addClass("player-revert").removeClass("player").attr({"data-col":this.placeholder_grid_data.col,"data-row":this.placeholder_grid_data.row}).css({left:"",top:""});this.$changed=
this.$changed.add(this.$player);this.cells_occupied_by_player=this.get_cells_occupied(this.placeholder_grid_data);this.set_cells_player_occupies(this.placeholder_grid_data.col,this.placeholder_grid_data.row);this.$player.coords().grid.row=this.placeholder_grid_data.row;this.$player.coords().grid.col=this.placeholder_grid_data.col;this.options.draggable.stop&&this.options.draggable.stop.call(this,b,c);this.$preview_holder.remove();this.$helper=this.$player=null;this.placeholder_grid_data={};this.player_grid_data=
{};this.cells_occupied_by_placeholder={};this.cells_occupied_by_player={};this.set_dom_grid_height();this.set_dom_grid_width();this.options.autogrow_cols&&this.drag_api.set_limits(this.cols*this.min_widget_width)},e.on_start_resize=function(b,c){this.$resized_widget=c.$player.closest(".gs-w");this.resize_coords=this.$resized_widget.coords();this.resize_wgd=this.resize_coords.grid;this.resize_initial_width=this.resize_coords.coords.width;this.resize_initial_height=this.resize_coords.coords.height;
this.resize_initial_sizex=this.resize_coords.grid.size_x;this.resize_initial_sizey=this.resize_coords.grid.size_y;this.resize_initial_col=this.resize_coords.grid.col;this.resize_last_sizex=this.resize_initial_sizex;this.resize_last_sizey=this.resize_initial_sizey;this.resize_max_size_x=Math.min(this.resize_wgd.max_size_x||this.options.resize.max_size[0],this.options.max_cols-this.resize_initial_col+1);this.resize_max_size_y=this.resize_wgd.max_size_y||this.options.resize.max_size[1];this.resize_min_size_x=
this.resize_wgd.min_size_x||this.options.resize.min_size[0]||1;this.resize_min_size_y=this.resize_wgd.min_size_y||this.options.resize.min_size[1]||1;this.resize_initial_last_col=this.get_highest_occupied_cell().col;this.set_dom_grid_width(this.cols);this.resize_dir={right:c.$player.is("."+this.resize_handle_class+"-x"),bottom:c.$player.is("."+this.resize_handle_class+"-y")};this.$resized_widget.css({"min-width":this.options.widget_base_dimensions[0],"min-height":this.options.widget_base_dimensions[1]});
var a=this.$resized_widget.get(0).tagName;this.$resize_preview_holder=g("<"+a+" />",{"class":"preview-holder resize-preview-holder","data-row":this.$resized_widget.attr("data-row"),"data-col":this.$resized_widget.attr("data-col"),css:{width:this.resize_initial_width,height:this.resize_initial_height}}).appendTo(this.$el);this.$resized_widget.addClass("resizing");this.options.resize.start&&this.options.resize.start.call(this,b,c,this.$resized_widget);this.$el.trigger("gridster:resizestart")},e.on_stop_resize=
function(b,c){this.$resized_widget.removeClass("resizing").css({width:"",height:""});delay(g.proxy(function(){this.$resize_preview_holder.remove().css({"min-width":"","min-height":""});this.options.resize.stop&&this.options.resize.stop.call(this,b,c,this.$resized_widget);this.$el.trigger("gridster:resizestop")},this),300);this.set_dom_grid_width();this.options.autogrow_cols&&this.drag_api.set_limits(this.cols*this.min_widget_width)},e.on_resize=function(b,c){var a,d=c.pointer.diff_left,f=c.pointer.diff_top,
l=this.options.widget_base_dimensions[0],e=this.options.widget_base_dimensions[1],g=this.options.widget_margins[0],h=this.options.widget_margins[1],q=this.resize_max_size_x,u=this.resize_min_size_x,p=this.resize_max_size_y,y=this.resize_min_size_y,z=this.options.autogrow_cols,G=1/0,v=1/0,n=Math.ceil(d/(l+2*g)-.2),B=Math.ceil(f/(e+2*h)-.2),n=Math.max(1,this.resize_initial_sizex+n),B=Math.max(1,this.resize_initial_sizey+B),G=this.container_width/this.min_widget_width-this.resize_initial_col+1,v=G*this.min_widget_width-
2*g;if(n=Math.max(Math.min(n,q),u),n=Math.min(G,n),a=q*l+2*(n-1)*g,G=Math.min(a,v),min_width=u*l+2*(n-1)*g,B=Math.max(Math.min(B,p),y),v=p*e+2*(B-1)*h,min_height=y*e+2*(B-1)*h,this.resize_dir.right?B=this.resize_initial_sizey:this.resize_dir.bottom&&(n=this.resize_initial_sizex),z)a=this.resize_initial_col+n-1,z&&a>=this.resize_initial_last_col&&(this.set_dom_grid_width(Math.max(a+1,this.cols)),a>this.cols&&this.add_faux_cols(a-this.cols));z={};!this.resize_dir.bottom&&(z.width=Math.max(Math.min(this.resize_initial_width+
d,G),min_width));!this.resize_dir.right&&(z.height=Math.max(Math.min(this.resize_initial_height+f,v),min_height));this.$resized_widget.css(z);n===this.resize_last_sizex&&B===this.resize_last_sizey||(this.resize_widget(this.$resized_widget,n,B),this.set_dom_grid_width(this.cols),this.$resize_preview_holder.css({width:"",height:""}).attr({"data-row":this.$resized_widget.attr("data-row"),"data-sizex":n,"data-sizey":B}));this.options.resize.resize&&this.options.resize.resize.call(this,b,c,this.$resized_widget);
this.$el.trigger("gridster:resize");this.resize_last_sizex=n;this.resize_last_sizey=B},e.on_overlapped_column_change=function(b,c){if(!this.colliders_data.length)return this;var a,d=this.get_targeted_columns(this.colliders_data[0].el.data.col),f=this.last_cols.length,l=d.length;for(a=0;l>a;a++)-1===g.inArray(d[a],this.last_cols)&&(b||g.noop).call(this,d[a]);for(a=0;f>a;a++)-1===g.inArray(this.last_cols[a],d)&&(c||g.noop).call(this,this.last_cols[a]);return this.last_cols=d,this},e.on_overlapped_row_change=
function(b,c){if(!this.colliders_data.length)return this;var a,d=this.get_targeted_rows(this.colliders_data[0].el.data.row),f=this.last_rows.length,l=d.length;for(a=0;l>a;a++)-1===g.inArray(d[a],this.last_rows)&&(b||g.noop).call(this,d[a]);for(a=0;f>a;a++)-1===g.inArray(this.last_rows[a],d)&&(c||g.noop).call(this,this.last_rows[a]);this.last_rows=d},e.set_player=function(b,c,a){a||this.empty_cells_player_occupies();a=a?{col:b}:this.colliders_data[0].el.data;b=a.col;c=c||a.row;this.player_grid_data=
{col:b,row:c,size_y:this.player_grid_data.size_y,size_x:this.player_grid_data.size_x};this.cells_occupied_by_player=this.get_cells_occupied(this.player_grid_data);a=this.get_widgets_overlapped(this.player_grid_data);var d=this.widgets_constraints(a);(this.manage_movements(d.can_go_up,b,c),this.manage_movements(d.can_not_go_up,b,c),a.length)||(a=this.can_go_player_up(this.player_grid_data),!1!==a&&(c=a),this.set_placeholder(b,c));return{col:b,row:c}},e.widgets_constraints=function(b){var c=g([]),a=
[],d=[];return b.each(g.proxy(function(b,l){var e=g(l),h=e.coords().grid;this.can_go_widget_up(h)?(c=c.add(e),a.push(h)):d.push(h)},this)),b.not(c),{can_go_up:h.sort_by_row_asc(a),can_not_go_up:h.sort_by_row_desc(d)}},e.manage_movements=function(b,c,a){return g.each(b,g.proxy(function(b,f){var l=f.el,e=this.can_go_widget_up(f);e?(this.move_widget_to(l,e),this.set_placeholder(c,e+f.size_y)):this.can_go_player_up(this.player_grid_data)||(this.move_widget_down(l,a+this.player_grid_data.size_y-f.row),
this.set_placeholder(c,a))},this)),this},e.is_player=function(b,c){if(c&&!this.gridmap[b])return!1;var a=c?this.gridmap[b][c]:b;return a&&(a.is(this.$player)||a.is(this.$helper))},e.is_player_in=function(b,c){var a=this.cells_occupied_by_player||{};return 0<=g.inArray(b,a.cols)&&0<=g.inArray(c,a.rows)},e.is_placeholder_in=function(b,c){var a=this.cells_occupied_by_placeholder||{};return this.is_placeholder_in_col(b)&&0<=g.inArray(c,a.rows)},e.is_placeholder_in_col=function(b){return 0<=g.inArray(b,
(this.cells_occupied_by_placeholder||[]).cols)},e.is_empty=function(b,c){return void 0!==this.gridmap[b]?void 0!==this.gridmap[b][c]&&!1===this.gridmap[b][c]?!0:!1:!0},e.is_occupied=function(b,c){return this.gridmap[b]?this.gridmap[b][c]?!0:!1:!1},e.is_widget=function(b,c){var a=this.gridmap[b];return a?(a=a[c],a?a:!1):!1},e.is_widget_under_player=function(b,c){return this.is_widget(b,c)?this.is_player_in(b,c):!1},e.get_widgets_under_player=function(b){b||(b=this.cells_occupied_by_player||{cols:[],
rows:[]});var c=g([]);return g.each(b.cols,g.proxy(function(a,d){g.each(b.rows,g.proxy(function(a,b){this.is_widget(d,b)&&(c=c.add(this.gridmap[d][b]))},this))},this)),c},e.set_placeholder=function(b,c){var a=g.extend({},this.placeholder_grid_data),d=this.widgets_below({col:a.col,row:a.row,size_y:a.size_y,size_x:a.size_x}),f=b+a.size_x-1;f>this.cols&&(b-=f-b);var f=c>this.placeholder_grid_data.row,l=this.placeholder_grid_data.col!==b;this.placeholder_grid_data.col=b;this.placeholder_grid_data.row=
c;this.cells_occupied_by_placeholder=this.get_cells_occupied(this.placeholder_grid_data);this.$preview_holder.attr({"data-row":c,"data-col":b});(f||l)&&d.each(g.proxy(function(d,c){this.move_widget_up(g(c),this.placeholder_grid_data.col-b+a.size_y)},this));d=this.get_widgets_under_player(this.cells_occupied_by_placeholder);d.length&&d.each(g.proxy(function(b,d){var f=g(d);this.move_widget_down(f,c+a.size_y-f.data("coords").grid.row)},this))},e.can_go_player_up=function(b){var c=b.row+b.size_y-1,a=
!0,d=[],f=1E4,l=this.get_widgets_under_player();return this.for_each_column_occupied(b,function(b){var e=this.gridmap[b],g=c+1;for(d[b]=[];0<--g&&(this.is_empty(b,g)||this.is_player(b,g)||this.is_widget(b,g)&&e[g].is(l));)d[b].push(g),f=f>g?g:f;return 0===d[b].length?(a=!1,!0):(d[b].sort(function(a,b){return a-b}),void 0)}),a?this.get_valid_rows(b,d,f):!1},e.can_go_widget_up=function(b){var c=b.row+b.size_y-1,a=!0,d=[],f=1E4;return this.for_each_column_occupied(b,function(l){var e=this.gridmap[l];
d[l]=[];for(var g=c+1;0<--g&&(!this.is_widget(l,g)||this.is_player_in(l,g)||e[g].is(b.el));)this.is_player(l,g)||this.is_placeholder_in(l,g)||this.is_player_in(l,g)||d[l].push(g),f>g&&(f=g);return 0===d[l].length?(a=!1,!0):(d[l].sort(function(a,b){return a-b}),void 0)}),a?this.get_valid_rows(b,d,f):!1},e.get_valid_rows=function(b,c,a){var d=b.row,f=b.row+b.size_y-1;b=b.size_y;var l=a-1;for(a=[];f>=++l;){var e=!0;if(g.each(c,function(a,b){g.isArray(b)&&-1===g.inArray(l,b)&&(e=!1)}),!0===e&&(a.push(l),
a.length===b))break}c=!1;return 1===b?a[0]!==d&&(c=a[0]||!1):a[0]!==d&&(c=this.get_consecutive_numbers_index(a,b)),c},e.get_consecutive_numbers_index=function(b,c){for(var a=b.length,d=[],f=!0,l=-1,e=0;a>e;e++){if(f||b[e]===l+1){if(d.push(e),d.length===c)break;f=!1}else d=[],f=!0;l=b[e]}return d.length>=c?b[d[0]]:!1},e.get_widgets_overlapped=function(){var b=g([]),c=[],a=this.cells_occupied_by_player.rows.slice(0);return a.reverse(),g.each(this.cells_occupied_by_player.cols,g.proxy(function(d,f){g.each(a,
g.proxy(function(a,d){if(!this.gridmap[f])return!0;var e=this.gridmap[f][d];this.is_occupied(f,d)&&!this.is_player(e)&&-1===g.inArray(e,c)&&(b=b.add(e),c.push(e))},this))},this)),b},e.on_start_overlapping_column=function(b){this.set_player(b,!1)},e.on_start_overlapping_row=function(b){this.set_player(!1,b)},e.on_stop_overlapping_column=function(b){this.set_player(b,!1);var c=this;this.for_each_widget_below(b,this.cells_occupied_by_player.rows[0],function(){c.move_widget_up(this,c.player_grid_data.size_y)})},
e.on_stop_overlapping_row=function(b){this.set_player(!1,b);for(var c=this,a=this.cells_occupied_by_player.cols,d=0,f=a.length;f>d;d++)this.for_each_widget_below(a[d],b,function(){c.move_widget_up(this,c.player_grid_data.size_y)})},e.move_widget_to=function(b,c){var a=this,d=b.coords().grid;c-d.row;var f=this.widgets_below(b);return!1===this.can_move_to(d,d.col,c,b)?!1:(this.remove_from_gridmap(d),d.row=c,this.add_to_gridmap(d),b.attr("data-row",c),this.$changed=this.$changed.add(b),f.each(function(b,
d){var c=g(d),f=c.coords().grid,e=a.can_go_widget_up(f);e&&e!==f.row&&a.move_widget_to(c,e)}),this)},e.move_widget_up=function(b,c){var a=b.coords().grid,d=a.row,f=[];return c||(c=1),this.can_go_up(b)?(this.for_each_column_occupied(a,function(a){if(-1===g.inArray(b,f)){var e=b.coords().grid,h=d-c;if(h=this.can_go_up_to_row(e,a,h),!h)return!0;a=this.widgets_below(b);this.remove_from_gridmap(e);e.row=h;this.add_to_gridmap(e);b.attr("data-row",e.row);this.$changed=this.$changed.add(b);f.push(b);a.each(g.proxy(function(a,
b){this.move_widget_up(g(b),c)},this))}}),void 0):!1},e.move_widget_down=function(b,c){var a,d,f;if(0>=c||(a=b.coords().grid,d=a.row,f=[],!b))return!1;if(-1===g.inArray(b,f)){var l=b.coords().grid;a=d+c;d=this.widgets_below(b);this.remove_from_gridmap(l);d.each(g.proxy(function(a,b){var d=g(b),f=d.coords().grid,f=this.displacement_diff(f,l,c);0<f&&this.move_widget_down(d,f)},this));l.row=a;this.update_widget_position(l,b);b.attr("data-row",l.row);this.$changed=this.$changed.add(b);f.push(b)}},e.can_go_up_to_row=
function(b,c,a){var d,f=this.gridmap,l=!0,e=[],h=b.row;if(this.for_each_column_occupied(b,function(a){f[a];e[a]=[];for(d=h;d--&&this.is_empty(a,d)&&!this.is_placeholder_in(a,d);)e[a].push(d);return e[a].length?void 0:(l=!1,!0)}),!l)return!1;d=a;for(d=1;h>d;d++){b=!0;c=0;for(a=e.length;a>c;c++)e[c]&&-1===g.inArray(d,e[c])&&(b=!1);if(!0===b){l=d;break}}return l},e.displacement_diff=function(b,c,a){var d=b.row,f=[],l=c.row+c.size_y;this.for_each_column_occupied(b,function(a){for(var b=0,c=l;d>c;c++)this.is_empty(a,
c)&&(b+=1);f.push(b)});b=Math.max.apply(Math,f);return a-=b,0<a?a:0},e.widgets_below=function(b){b=g.isPlainObject(b)?b:b.coords().grid;var c=this;this.gridmap;var a=b.row+b.size_y-1,d=g([]);return this.for_each_column_occupied(b,function(b){c.for_each_widget_below(b,a,function(){return c.is_player(this)||-1!==g.inArray(this,d)?void 0:(d=d.add(this),!0)})}),h.sort_by_row_asc(d)},e.set_cells_player_occupies=function(b,c){return this.remove_from_gridmap(this.placeholder_grid_data),this.placeholder_grid_data.col=
b,this.placeholder_grid_data.row=c,this.add_to_gridmap(this.placeholder_grid_data,this.$player),this},e.empty_cells_player_occupies=function(){return this.remove_from_gridmap(this.placeholder_grid_data),this},e.can_go_up=function(b){b=b.coords().grid;var c=b.row,a=c-1;this.gridmap;var d=!0;return 1===c?!1:(this.for_each_column_occupied(b,function(b){return this.is_widget(b,a),this.is_occupied(b,a)||this.is_player(b,a)||this.is_placeholder_in(b,a)||this.is_player_in(b,a)?(d=!1,!0):void 0}),d)},e.can_move_to=
function(b,c,a,d){this.gridmap;var f=b.el,l={size_y:b.size_y,size_x:b.size_x,col:c,row:a},e=!0;return c+b.size_x-1>this.cols?!1:d&&a+b.size_y-1>d?!1:(this.for_each_cell_occupied(l,function(a,d){var c=this.is_widget(a,d);!c||b.el&&!c.is(f)||(e=!1)}),e)},e.get_targeted_columns=function(b){for(var c=(b||this.player_grid_data.col)+(this.player_grid_data.size_x-1),a=[];c>=b;b++)a.push(b);return a},e.get_targeted_rows=function(b){for(var c=(b||this.player_grid_data.row)+(this.player_grid_data.size_y-1),
a=[];c>=b;b++)a.push(b);return a},e.get_cells_occupied=function(b,c){var a,d={cols:[],rows:[]};c instanceof g&&(b=c.coords().grid);for(a=0;b.size_x>a;a++)d.cols.push(b.col+a);for(a=0;b.size_y>a;a++)d.rows.push(b.row+a);return d},e.for_each_cell_occupied=function(b,c){return this.for_each_column_occupied(b,function(a){this.for_each_row_occupied(b,function(b){c.call(this,a,b)})}),this},e.for_each_column_occupied=function(b,c){for(var a=0;b.size_x>a;a++)c.call(this,b.col+a,b)},e.for_each_row_occupied=
function(b,c){for(var a=0;b.size_y>a;a++)c.call(this,b.row+a,b)},e._traversing_widgets=function(b,c,a,d,f){var l=this.gridmap;if(l[a]){var e,h;b=b+"/"+c;a instanceof g&&(c=a.coords().grid,a=c.col,f=d=c.row);var x=[],q=d;c={"for_each/above":function(){for(;q--&&!(0<q&&this.is_widget(a,q)&&-1===g.inArray(l[a][q],x)&&(e=f.call(l[a][q],a,q),x.push(l[a][q]),e)););},"for_each/below":function(){q=d+1;for(h=l[a].length;h>q&&(!this.is_widget(a,q)||-1!==g.inArray(l[a][q],x)||(e=f.call(l[a][q],a,q),x.push(l[a][q]),
!e));q++);}};c[b]&&c[b].call(this)}},e.for_each_widget_above=function(b,c,a){return this._traversing_widgets("for_each","above",b,c,a),this},e.for_each_widget_below=function(b,c,a){return this._traversing_widgets("for_each","below",b,c,a),this},e.get_highest_occupied_cell=function(){var b;b=this.gridmap;for(var c=b[1].length,a=[],d=[],f=b.length-1;1<=f;f--)for(b=c-1;1<=b;b--)if(this.is_widget(f,b)){a.push(b);d.push(f);break}return{col:Math.max.apply(Math,d),row:Math.max.apply(Math,a)}},e.get_widgets_from=
function(b,c){this.gridmap;var a=g();return b&&(a=a.add(this.$widgets.filter(function(){var a=g(this).attr("data-col");return a===b||a>b}))),c&&(a=a.add(this.$widgets.filter(function(){var a=g(this).attr("data-row");return a===c||a>c}))),a},e.set_dom_grid_height=function(b){void 0===b&&(b=this.get_highest_occupied_cell().row*this.min_widget_height);return this.container_height=b,this.$el.css("height",this.container_height),this},e.set_dom_grid_width=function(b){void 0===b&&(b=this.get_highest_occupied_cell().col);
return b=Math.min(this.options.autogrow_cols?this.options.max_cols:this.cols,Math.max(b,this.options.min_cols)),this.container_width=b*this.min_widget_width,this.$el.css("width",this.container_width),this},e.generate_stylesheet=function(b){var c,a="",d=this.options.max_size_x||this.cols;b||(b={});b.cols||(b.cols=this.cols);b.rows||(b.rows=this.rows);b.namespace||(b.namespace=this.options.namespace);b.widget_base_dimensions||(b.widget_base_dimensions=this.options.widget_base_dimensions);b.widget_margins||
(b.widget_margins=this.options.widget_margins);b.min_widget_width=2*b.widget_margins[0]+b.widget_base_dimensions[0];b.min_widget_height=2*b.widget_margins[1]+b.widget_base_dimensions[1];c=g.param(b);if(0<=g.inArray(c,h.generated_stylesheets))return!1;this.generated_stylesheets.push(c);h.generated_stylesheets.push(c);for(c=b.cols;0<=c;c--)a+=b.namespace+' [data-col="'+(c+1)+'"] { left:'+(c*b.widget_base_dimensions[0]+c*b.widget_margins[0]+(c+1)*b.widget_margins[0])+"px; }\n";for(c=b.rows;0<=c;c--)a+=
b.namespace+' [data-row="'+(c+1)+'"] { top:'+(c*b.widget_base_dimensions[1]+c*b.widget_margins[1]+(c+1)*b.widget_margins[1])+"px; }\n";for(c=1;b.rows>=c;c++)a+=b.namespace+' [data-sizey="'+c+'"] { height:'+(c*b.widget_base_dimensions[1]+2*(c-1)*b.widget_margins[1])+"px; }\n";for(c=1;d>=c;c++)a+=b.namespace+' [data-sizex="'+c+'"] { width:'+(c*b.widget_base_dimensions[0]+2*(c-1)*b.widget_margins[0])+"px; }\n";return this.remove_style_tags(),this.add_style_tag(a)},e.add_style_tag=function(b){var c=document,
a=c.createElement("style");return c.getElementsByTagName("head")[0].appendChild(a),a.setAttribute("type","text/css"),a.styleSheet?a.styleSheet.cssText=b:a.appendChild(document.createTextNode(b)),this.$style_tags=this.$style_tags.add(a),this},e.remove_style_tags=function(){var b=h.generated_stylesheets,c=this.generated_stylesheets;this.$style_tags.remove();h.generated_stylesheets=g.map(b,function(a){return-1===g.inArray(a,c)?a:void 0})},e.generate_faux_grid=function(b,c){this.faux_grid=[];this.gridmap=
[];var a,d;for(a=c;0<a;a--)for(this.gridmap[a]=[],d=b;0<d;d--)this.add_faux_cell(d,a);return this},e.add_faux_cell=function(b,c){var a=g({left:this.baseX+(c-1)*this.min_widget_width,top:this.baseY+(b-1)*this.min_widget_height,width:this.min_widget_width,height:this.min_widget_height,col:c,row:b,original_col:c,original_row:b}).coords();return g.isArray(this.gridmap[c])||(this.gridmap[c]=[]),this.gridmap[c][b]=!1,this.faux_grid.push(a),this},e.add_faux_rows=function(b){for(var c=this.rows,a=b=c+(b||
1);a>c;a--)for(var d=this.cols;1<=d;d--)this.add_faux_cell(a,d);return this.rows=b,this.options.autogenerate_stylesheet&&this.generate_stylesheet(),this},e.add_faux_cols=function(b){var c=this.cols;b=Math.min(c+(b||1),this.options.max_cols);for(c+=1;b>=c;c++)for(var a=this.rows;1<=a;a--)this.add_faux_cell(a,c);return this.cols=b,this.options.autogenerate_stylesheet&&this.generate_stylesheet(),this},e.recalculate_faux_grid=function(){var b=this.$wrapper.width();return this.baseX=(g(window).width()-
b)/2,this.baseY=this.$wrapper.offset().top,g.each(this.faux_grid,g.proxy(function(b,a){this.faux_grid[b]=a.update({left:this.baseX+(a.data.col-1)*this.min_widget_width,top:this.baseY+(a.data.row-1)*this.min_widget_height})},this)),this},e.get_widgets_from_DOM=function(){var b=this.$widgets.map(g.proxy(function(b,a){var d=g(a);return this.dom_to_coords(d)},this)),b=h.sort_by_row_and_col_asc(b);return g(b).map(g.proxy(function(b,a){return this.register_widget(a)||null},this)).length&&this.$el.trigger("gridster:positionschanged"),
this},e.generate_grid_and_stylesheet=function(){var b=this.$wrapper.width(),c=this.options.max_cols,a=Math.floor(b/this.min_widget_width)+this.options.extra_cols,d=this.$widgets.map(function(){return g(this).attr("data-col")}).get();d.length||(d=[0]);d=Math.max.apply(Math,d);this.cols=Math.max(d,a,this.options.min_cols);1/0!==c&&c>=d&&this.cols>c&&(this.cols=c);var f=this.options.extra_rows;return this.$widgets.each(function(a,b){f+=+g(b).attr("data-sizey")}),this.rows=Math.max(f,this.options.min_rows),
this.baseX=(g(window).width()-b)/2,this.baseY=this.$wrapper.offset().top,this.options.autogenerate_stylesheet&&this.generate_stylesheet(),this.generate_faux_grid(this.rows,this.cols)},e.destroy=function(b){return this.$el.removeData("gridster"),g(window).unbind(".gridster"),this.drag_api&&this.drag_api.destroy(),this.remove_style_tags(),b&&this.$el.remove(),this},g.fn.gridster=function(b){return this.each(function(){g(this).data("gridster")||g(this).data("gridster",new h(this,b))})},h});(function(){var g=this,p=g._,h={},q=Array.prototype,e=Object.prototype,b=q.push,c=q.slice,a=q.concat,d=e.toString,f=e.hasOwnProperty,l=q.forEach,s=q.map,w=q.reduce,x=q.reduceRight,M=q.filter,u=q.every,C=q.some,y=q.indexOf,z=q.lastIndexOf,e=Array.isArray,G=Object.keys,v=Function.prototype.bind,n=function(a){return a instanceof n?a:this instanceof n?void(this._wrapped=a):new n(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports._=n):g._=n;
n.VERSION="1.6.0";var B=n.each=n.forEach=function(a,b,d){if(null==a)return a;if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length)for(var c=0,f=a.length;f>c;c++){if(b.call(d,a[c],c,a)===h)return}else for(var e=n.keys(a),c=0,f=e.length;f>c;c++)if(b.call(d,a[e[c]],e[c],a)===h)return;return a};n.map=n.collect=function(a,b,d){var c=[];return null==a?c:s&&a.map===s?a.map(b,d):(B(a,function(a,f,l){c.push(b.call(d,a,f,l))}),c)};n.reduce=n.foldl=n.inject=function(a,b,d,c){var f=2<arguments.length;
if(null==a&&(a=[]),w&&a.reduce===w)return c&&(b=n.bind(b,c)),f?a.reduce(b,d):a.reduce(b);if(B(a,function(a,l,e){f?d=b.call(c,d,a,l,e):(d=a,f=!0)}),!f)throw new TypeError("Reduce of empty array with no initial value");return d};n.reduceRight=n.foldr=function(a,b,d,c){var f=2<arguments.length;if(null==a&&(a=[]),x&&a.reduceRight===x)return c&&(b=n.bind(b,c)),f?a.reduceRight(b,d):a.reduceRight(b);var l=a.length;if(l!==+l)var e=n.keys(a),l=e.length;if(B(a,function(g,h,t){h=e?e[--l]:--l;f?d=b.call(c,d,
a[h],h,t):(d=a[h],f=!0)}),!f)throw new TypeError("Reduce of empty array with no initial value");return d};n.find=n.detect=function(a,b,d){var c;return F(a,function(a,f,l){return b.call(d,a,f,l)?(c=a,!0):void 0}),c};n.filter=n.select=function(a,b,d){var c=[];return null==a?c:M&&a.filter===M?a.filter(b,d):(B(a,function(a,f,l){b.call(d,a,f,l)&&c.push(a)}),c)};n.reject=function(a,b,d){return n.filter(a,function(a,c,f){return!b.call(d,a,c,f)},d)};n.every=n.all=function(a,b,d){b||(b=n.identity);var c=!0;
return null==a?c:u&&a.every===u?a.every(b,d):(B(a,function(a,f,l){return(c=c&&b.call(d,a,f,l))?void 0:h}),!!c)};var F=n.some=n.any=function(a,b,d){b||(b=n.identity);var c=!1;return null==a?c:C&&a.some===C?a.some(b,d):(B(a,function(a,f,l){return c||(c=b.call(d,a,f,l))?h:void 0}),!!c)};n.contains=n.include=function(a,b){return null==a?!1:y&&a.indexOf===y?-1!=a.indexOf(b):F(a,function(a){return a===b})};n.invoke=function(a,b){var d=c.call(arguments,2),f=n.isFunction(b);return n.map(a,function(a){return(f?
b:a[b]).apply(a,d)})};n.pluck=function(a,b){return n.map(a,n.property(b))};n.where=function(a,b){return n.filter(a,n.matches(b))};n.findWhere=function(a,b){return n.find(a,n.matches(b))};n.max=function(a,b,d){if(!b&&n.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);var c=-1/0,f=-1/0;return B(a,function(a,l,e){l=b?b.call(d,a,l,e):a;l>f&&(c=a,f=l)}),c};n.min=function(a,b,d){if(!b&&n.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);var c=1/0,f=1/0;return B(a,
function(a,l,e){l=b?b.call(d,a,l,e):a;f>l&&(c=a,f=l)}),c};n.shuffle=function(a){var b,d=0,c=[];return B(a,function(a){b=n.random(d++);c[d-1]=c[b];c[b]=a}),c};n.sample=function(a,b,d){return null==b||d?(a.length!==+a.length&&(a=n.values(a)),a[n.random(a.length-1)]):n.shuffle(a).slice(0,Math.max(0,b))};var S=function(a){return null==a?n.identity:n.isFunction(a)?a:n.property(a)};n.sortBy=function(a,b,d){return b=S(b),n.pluck(n.map(a,function(a,c,f){return{value:a,index:c,criteria:b.call(d,a,c,f)}}).sort(function(a,
b){var d=a.criteria,c=b.criteria;if(d!==c){if(d>c||void 0===d)return 1;if(c>d||void 0===c)return-1}return a.index-b.index}),"value")};var Z=function(a){return function(b,d,c){var f={};return d=S(d),B(b,function(l,e){var g=d.call(c,l,e,b);a(f,g,l)}),f}};n.groupBy=Z(function(a,b,d){n.has(a,b)?a[b].push(d):a[b]=[d]});n.indexBy=Z(function(a,b,d){a[b]=d});n.countBy=Z(function(a,b){n.has(a,b)?a[b]++:a[b]=1});n.sortedIndex=function(a,b,d,c){d=S(d);b=d.call(c,b);for(var f=0,l=a.length;l>f;){var e=f+l>>>1;
d.call(c,a[e])<b?f=e+1:l=e}return f};n.toArray=function(a){return a?n.isArray(a)?c.call(a):a.length===+a.length?n.map(a,n.identity):n.values(a):[]};n.size=function(a){return null==a?0:a.length===+a.length?a.length:n.keys(a).length};n.first=n.head=n.take=function(a,b,d){return null==a?void 0:null==b||d?a[0]:0>b?[]:c.call(a,0,b)};n.initial=function(a,b,d){return c.call(a,0,a.length-(null==b||d?1:b))};n.last=function(a,b,d){return null==a?void 0:null==b||d?a[a.length-1]:c.call(a,Math.max(a.length-b,
0))};n.rest=n.tail=n.drop=function(a,b,d){return c.call(a,null==b||d?1:b)};n.compact=function(a){return n.filter(a,n.identity)};var L=function(d,c,f){return c&&n.every(d,n.isArray)?a.apply(f,d):(B(d,function(a){n.isArray(a)||n.isArguments(a)?c?b.apply(f,a):L(a,c,f):f.push(a)}),f)};n.flatten=function(a,b){return L(a,b,[])};n.without=function(a){return n.difference(a,c.call(arguments,1))};n.partition=function(a,b){var d=[],c=[];return B(a,function(a){(b(a)?d:c).push(a)}),[d,c]};n.uniq=n.unique=function(a,
b,d,c){n.isFunction(b)&&(c=d,d=b,b=!1);d=d?n.map(a,d,c):a;var f=[],l=[];return B(d,function(d,c){(b?c&&l[l.length-1]===d:n.contains(l,d))||(l.push(d),f.push(a[c]))}),f};n.union=function(){return n.uniq(n.flatten(arguments,!0))};n.intersection=function(a){var b=c.call(arguments,1);return n.filter(n.uniq(a),function(a){return n.every(b,function(b){return n.contains(b,a)})})};n.difference=function(b){var d=a.apply(q,c.call(arguments,1));return n.filter(b,function(a){return!n.contains(d,a)})};n.zip=function(){for(var a=
n.max(n.pluck(arguments,"length").concat(0)),b=Array(a),d=0;a>d;d++)b[d]=n.pluck(arguments,""+d);return b};n.object=function(a,b){if(null==a)return{};for(var d={},c=0,f=a.length;f>c;c++)b?d[a[c]]=b[c]:d[a[c][0]]=a[c][1];return d};n.indexOf=function(a,b,d){if(null==a)return-1;var c=0,f=a.length;if(d){if("number"!=typeof d)return c=n.sortedIndex(a,b),a[c]===b?c:-1;c=0>d?Math.max(0,f+d):d}if(y&&a.indexOf===y)return a.indexOf(b,d);for(;f>c;c++)if(a[c]===b)return c;return-1};n.lastIndexOf=function(a,b,
d){if(null==a)return-1;var c=null!=d;if(z&&a.lastIndexOf===z)return c?a.lastIndexOf(b,d):a.lastIndexOf(b);for(d=c?d:a.length;d--;)if(a[d]===b)return d;return-1};n.range=function(a,b,d){1>=arguments.length&&(b=a||0,a=0);d=arguments[2]||1;for(var c=Math.max(Math.ceil((b-a)/d),0),f=0,l=Array(c);c>f;)l[f++]=a,a+=d;return l};var E=function(){};n.bind=function(a,b){var d,f;if(v&&a.bind===v)return v.apply(a,c.call(arguments,1));if(!n.isFunction(a))throw new TypeError;return d=c.call(arguments,2),f=function(){if(!(this instanceof
f))return a.apply(b,d.concat(c.call(arguments)));E.prototype=a.prototype;var l=new E;E.prototype=null;var e=a.apply(l,d.concat(c.call(arguments)));return Object(e)===e?e:l}};n.partial=function(a){var b=c.call(arguments,1);return function(){for(var d=0,c=b.slice(),f=0,l=c.length;l>f;f++)c[f]===n&&(c[f]=arguments[d++]);for(;d<arguments.length;)c.push(arguments[d++]);return a.apply(this,c)}};n.bindAll=function(a){var b=c.call(arguments,1);if(0===b.length)throw Error("bindAll must be passed function names");
return B(b,function(b){a[b]=n.bind(a[b],a)}),a};n.memoize=function(a,b){var d={};return b||(b=n.identity),function(){var c=b.apply(this,arguments);return n.has(d,c)?d[c]:d[c]=a.apply(this,arguments)}};n.delay=function(a,b){var d=c.call(arguments,2);return setTimeout(function(){return a.apply(null,d)},b)};n.defer=function(a){return n.delay.apply(n,[a,1].concat(c.call(arguments,1)))};n.throttle=function(a,b,d){var c,f,l,e=null,g=0;d||(d={});var h=function(){g=!1===d.leading?0:n.now();e=null;l=a.apply(c,
f);c=f=null};return function(){var t=n.now();g||!1!==d.leading||(g=t);var s=b-(t-g);return c=this,f=arguments,0>=s?(clearTimeout(e),e=null,g=t,l=a.apply(c,f),c=f=null):e||!1===d.trailing||(e=setTimeout(h,s)),l}};n.debounce=function(a,b,d){var c,f,l,e,g,h=function(){var t=n.now()-e;b>t?c=setTimeout(h,b-t):(c=null,d||(g=a.apply(l,f),l=f=null))};return function(){l=this;f=arguments;e=n.now();var t=d&&!c;return c||(c=setTimeout(h,b)),t&&(g=a.apply(l,f),l=f=null),g}};n.once=function(a){var b,d=!1;return function(){return d?
b:(d=!0,b=a.apply(this,arguments),a=null,b)}};n.wrap=function(a,b){return n.partial(b,a)};n.compose=function(){var a=arguments;return function(){for(var b=arguments,d=a.length-1;0<=d;d--)b=[a[d].apply(this,b)];return b[0]}};n.after=function(a,b){return function(){return 1>--a?b.apply(this,arguments):void 0}};n.keys=function(a){if(!n.isObject(a))return[];if(G)return G(a);var b=[],d;for(d in a)n.has(a,d)&&b.push(d);return b};n.values=function(a){for(var b=n.keys(a),d=b.length,c=Array(d),f=0;d>f;f++)c[f]=
a[b[f]];return c};n.pairs=function(a){for(var b=n.keys(a),d=b.length,c=Array(d),f=0;d>f;f++)c[f]=[b[f],a[b[f]]];return c};n.invert=function(a){for(var b={},d=n.keys(a),c=0,f=d.length;f>c;c++)b[a[d[c]]]=d[c];return b};n.functions=n.methods=function(a){var b=[],d;for(d in a)n.isFunction(a[d])&&b.push(d);return b.sort()};n.extend=function(a){return B(c.call(arguments,1),function(b){if(b)for(var d in b)a[d]=b[d]}),a};n.pick=function(b){var d={},f=a.apply(q,c.call(arguments,1));return B(f,function(a){a in
b&&(d[a]=b[a])}),d};n.omit=function(b){var d={},f=a.apply(q,c.call(arguments,1)),l;for(l in b)n.contains(f,l)||(d[l]=b[l]);return d};n.defaults=function(a){return B(c.call(arguments,1),function(b){if(b)for(var d in b)void 0===a[d]&&(a[d]=b[d])}),a};n.clone=function(a){return n.isObject(a)?n.isArray(a)?a.slice():n.extend({},a):a};n.tap=function(a,b){return b(a),a};var ca=function(a,b,c,f){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof n&&(a=a._wrapped);b instanceof n&&
(b=b._wrapped);var l=d.call(a);if(l!=d.call(b))return!1;switch(l){case "[object String]":return a==String(b);case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var e=c.length;e--;)if(c[e]==a)return f[e]==b;var e=a.constructor,g=b.constructor;if(e!==g&&!(n.isFunction(e)&&
e instanceof e&&n.isFunction(g)&&g instanceof g)&&"constructor"in a&&"constructor"in b)return!1;c.push(a);f.push(b);e=0;g=!0;if("[object Array]"==l){if(e=a.length,g=e==b.length)for(;e--&&(g=ca(a[e],b[e],c,f)););}else{for(var h in a)if(n.has(a,h)&&(e++,!(g=n.has(b,h)&&ca(a[h],b[h],c,f))))break;if(g){for(h in b)if(n.has(b,h)&&!e--)break;g=!e}}return c.pop(),f.pop(),g};n.isEqual=function(a,b){return ca(a,b,[],[])};n.isEmpty=function(a){if(null==a)return!0;if(n.isArray(a)||n.isString(a))return 0===a.length;
for(var b in a)if(n.has(a,b))return!1;return!0};n.isElement=function(a){return!(!a||1!==a.nodeType)};n.isArray=e||function(a){return"[object Array]"==d.call(a)};n.isObject=function(a){return a===Object(a)};B("Arguments Function String Number Date RegExp".split(" "),function(a){n["is"+a]=function(b){return d.call(b)=="[object "+a+"]"}});n.isArguments(arguments)||(n.isArguments=function(a){return!(!a||!n.has(a,"callee"))});"function"!=typeof/./&&(n.isFunction=function(a){return"function"==typeof a});
n.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};n.isNaN=function(a){return n.isNumber(a)&&a!=+a};n.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==d.call(a)};n.isNull=function(a){return null===a};n.isUndefined=function(a){return void 0===a};n.has=function(a,b){return f.call(a,b)};n.noConflict=function(){return g._=p,this};n.identity=function(a){return a};n.constant=function(a){return function(){return a}};n.property=function(a){return function(b){return b[a]}};n.matches=
function(a){return function(b){if(b===a)return!0;for(var d in a)if(a[d]!==b[d])return!1;return!0}};n.times=function(a,b,d){for(var c=Array(Math.max(0,a)),f=0;a>f;f++)c[f]=b.call(d,f);return c};n.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};n.now=Date.now||function(){return(new Date).getTime()};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};N.unescape=n.invert(N.escape);var I={escape:new RegExp("["+n.keys(N.escape).join("")+"]","g"),
unescape:new RegExp("("+n.keys(N.unescape).join("|")+")","g")};n.each(["escape","unescape"],function(a){n[a]=function(b){return null==b?"":(""+b).replace(I[a],function(b){return N[a][b]})}});n.result=function(a,b){if(null!=a){var d=a[b];return n.isFunction(d)?d.call(a):d}};n.mixin=function(a){B(n.functions(a),function(d){var c=n[d]=a[d];n.prototype[d]=function(){var a=[this._wrapped];return b.apply(a,arguments),P.call(this,c.apply(n,a))}})};var t=0;n.uniqueId=function(a){var b=++t+"";return a?a+b:
b};n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var T=/(.)^/,aa={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\t|\u2028|\u2029/g;n.template=function(a,b,d){var c;d=n.defaults({},d,n.templateSettings);var f=new RegExp([(d.escape||T).source,(d.interpolate||T).source,(d.evaluate||T).source].join("|")+"|$","g"),l=0,e="__p+='";a.replace(f,function(b,d,c,f,g){return e+=a.slice(l,g).replace(U,function(a){return"\\"+
aa[a]}),d&&(e+="'+\n((__t=("+d+"))==null?'':_.escape(__t))+\n'"),c&&(e+="'+\n((__t=("+c+"))==null?'':__t)+\n'"),f&&(e+="';\n"+f+"\n__p+='"),l=g+b.length,b});e+="';\n";d.variable||(e="with(obj||{}){\n"+e+"}\n");e="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+e+"return __p;\n";try{c=new Function(d.variable||"obj","_",e)}catch(g){throw g.source=e,g;}if(b)return c(b,n);b=function(a){return c.call(this,a,n)};return b.source="function("+(d.variable||"obj")+
"){\n"+e+"}",b};n.chain=function(a){return n(a).chain()};var P=function(a){return this._chain?n(a).chain():a};n.mixin(n);B("pop push reverse shift sort splice unshift".split(" "),function(a){var b=q[a];n.prototype[a]=function(){var d=this._wrapped;return b.apply(d,arguments),"shift"!=a&&"splice"!=a||0!==d.length||delete d[0],P.call(this,d)}});B(["concat","join","slice"],function(a){var b=q[a];n.prototype[a]=function(){return P.call(this,b.apply(this._wrapped,arguments))}});n.extend(n.prototype,{chain:function(){return this._chain=
!0,this},value:function(){return this._wrapped}});"function"==typeof define&&define.amd&&define("underscore",[],function(){return n})}).call(this);var Handlebars=function(){var g=function(){function b(a){this.string=a}b.prototype.toString=function(){return""+this.string};return b}(),p=function(b){function a(a){return f[a]||"&amp;"}var d={},f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,e=/[&<>"'`]/;d.extend=function(a,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])};var g=Object.prototype.toString;d.toString=g;var h=function(a){return"function"===typeof a};h(/x/)&&(h=function(a){return"function"===
typeof a&&"[object Function]"===g.call(a)});d.isFunction=h;var q=Array.isArray||function(a){return a&&"object"===typeof a?"[object Array]"===g.call(a):!1};d.isArray=q;d.escapeExpression=function(d){if(d instanceof b)return d.toString();if(!d&&0!==d)return"";d=""+d;return e.test(d)?d.replace(l,a):d};d.isEmpty=function(a){return a||0===a?q(a)&&0===a.length?!0:!1:!0};return d}(g),h=function(){function b(d,c){var l;c&&c.firstLine&&(l=c.firstLine,d+=" - "+l+":"+c.firstColumn);for(var e=Error.prototype.constructor.call(this,
d),g=0;g<a.length;g++)this[a[g]]=e[a[g]];l&&(this.lineNumber=l,this.column=c.firstColumn)}var a="description fileName lineNumber message name number stack".split(" ");b.prototype=Error();return b}(),q=function(b,a){function d(a,b){this.helpers=a||{};this.partials=b||{};f(this)}function f(a){a.registerHelper("helperMissing",function(a){if(2!==arguments.length)throw new h("Missing helper: '"+a+"'");});a.registerHelper("blockHelperMissing",function(b,d){var c=d.inverse||function(){},f=d.fn;u(b)&&(b=
b.call(this));return!0===b?f(this):!1===b||null==b?c(this):q(b)?0<b.length?a.helpers.each(b,d):c(this):f(b)});a.registerHelper("each",function(a,b){var d=b.fn,c=b.inverse,f=0,l="",e;u(a)&&(a=a.call(this));b.data&&(e=z(b.data));if(a&&"object"===typeof a)if(q(a))for(var g=a.length;f<g;f++)e&&(e.index=f,e.first=0===f,e.last=f===a.length-1),l+=d(a[f],{data:e});else for(g in a)a.hasOwnProperty(g)&&(e&&(e.key=g,e.index=f,e.first=0===f),l+=d(a[g],{data:e}),f++);0===f&&(l=c(this));return l});a.registerHelper("if",
function(a,b){u(a)&&(a=a.call(this));return!b.hash.includeZero&&!a||g.isEmpty(a)?b.inverse(this):b.fn(this)});a.registerHelper("unless",function(b,d){return a.helpers["if"].call(this,b,{fn:d.inverse,inverse:d.fn,hash:d.hash})});a.registerHelper("with",function(a,b){u(a)&&(a=a.call(this));if(!g.isEmpty(a))return b.fn(a)});a.registerHelper("log",function(b,d){var c=d.data&&null!=d.data.level?parseInt(d.data.level,10):1;a.log(c,b)})}function l(a,b){y.log(a,b)}var e={},g=b,h=a;e.VERSION="1.3.0";e.COMPILER_REVISION=
4;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};var q=g.isArray,u=g.isFunction,p=g.toString;e.HandlebarsEnvironment=d;d.prototype={constructor:d,logger:y,log:l,registerHelper:function(a,b,d){if("[object Object]"===p.call(a)){if(d||b)throw new h("Arg not supported with multiple helpers");g.extend(this.helpers,a)}else d&&(b.not=d),this.helpers[a]=b},registerPartial:function(a,b){"[object Object]"===p.call(a)?g.extend(this.partials,a):this.partials[a]=b}};var y=
{methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(y.level<=a){var d=y.methodMap[a];"undefined"!==typeof console&&console[d]&&console[d].call(console,b)}}};e.logger=y;e.log=l;var z=function(a){var b={};g.extend(b,a);return b};e.createFrame=z;return e}(p,h),e=function(b,a,d){function f(a,b,d){var c=function(a,c){c=c||{};return b(a,c.data||d)};c.program=a;c.depth=0;return c}var e={},g=d.COMPILER_REVISION,h=d.REVISION_CHANGES;e.checkRevision=
function(b){var d=b&&b[0]||1;if(d!==g){if(d<g)throw new a("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+h[g]+") or downgrade your runtime to an older version ("+h[d]+").");throw new a("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+b[1]+").");}};e.template=function(d,e){if(!e)throw new a("No environment passed to template");
var l={escapeExpression:b.escapeExpression,invokePartial:function(b,d,c,f,l,g){var h=e.VM.invokePartial.apply(this,arguments);if(null!=h)return h;if(e.compile)return h={helpers:f,partials:l,data:g},l[d]=e.compile(b,{data:void 0!==g},e),l[d](c,h);throw new a("The partial "+d+" could not be compiled when running in runtime-only mode");},programs:[],program:function(a,b,d){var c=this.programs[a];d?c=f(a,b,d):c||(c=this.programs[a]=f(a,b));return c},merge:function(a,d){var f=a||d;a&&d&&a!==d&&(f={},b.extend(f,
d),b.extend(f,a));return f},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(a,b){b=b||{};var c=b.partial?b:e,f,g;b.partial||(f=b.helpers,g=b.partials);c=d.call(l,c,a,f,g,b.data);b.partial||e.VM.checkRevision(l.compilerInfo);return c}};e.programWithDepth=function(a,b,d){var c=Array.prototype.slice.call(arguments,3),f=function(a,f){f=f||{};return b.apply(this,[a,f.data||d].concat(c))};f.program=a;f.depth=c.length;return f};e.program=f;e.invokePartial=function(b,
d,c,f,e,l){f={partial:!0,helpers:f,partials:e,data:l};if(void 0===b)throw new a("The partial "+d+" could not be found");if(b instanceof Function)return b(c,f)};e.noop=function(){return""};return e}(p,h,q),g=function(b,a,d,f,e){var g=function(){var g=new b.HandlebarsEnvironment;f.extend(g,b);g.SafeString=a;g.Exception=d;g.Utils=f;g.VM=e;g.template=function(a){return e.template(a,g)};return g},h=g();h.create=g;return h}(q,g,h,p,e),p=function(b){function a(a){a=a||{};this.firstLine=a.first_line;this.firstColumn=
a.first_column;this.lastColumn=a.last_column;this.lastLine=a.last_line}var d={ProgramNode:function(b,c,e,g){var h;3===arguments.length?(g=e,e=null):2===arguments.length&&(g=c,c=null);a.call(this,g);this.type="program";this.statements=b;this.strip={};e?((h=e[0])?(h={first_line:h.firstLine,last_line:h.lastLine,last_column:h.lastColumn,first_column:h.firstColumn},this.inverse=new d.ProgramNode(e,c,h)):this.inverse=new d.ProgramNode(e,c),this.strip.right=c.left):c&&(this.strip.left=c.right)},MustacheNode:function(b,
c,e,g,h){a.call(this,h);this.type="mustache";this.strip=g;null!=e&&e.charAt?(e=e.charAt(3)||e.charAt(2),this.escaped="{"!==e&&"&"!==e):this.escaped=!!e;this.sexpr=b instanceof d.SexprNode?b:new d.SexprNode(b,c);this.sexpr.isRoot=!0;this.id=this.sexpr.id;this.params=this.sexpr.params;this.hash=this.sexpr.hash;this.eligibleHelper=this.sexpr.eligibleHelper;this.isHelper=this.sexpr.isHelper},SexprNode:function(b,d,c){a.call(this,c);this.type="sexpr";this.hash=d;c=this.id=b[0];b=this.params=b.slice(1);
this.isHelper=(this.eligibleHelper=c.isSimple)&&(b.length||d)},PartialNode:function(b,d,c,e){a.call(this,e);this.type="partial";this.partialName=b;this.context=d;this.strip=c},BlockNode:function(d,e,g,h,q){a.call(this,q);if(d.sexpr.id.original!==h.path.original)throw new b(d.sexpr.id.original+" doesn't match "+h.path.original,this);this.type="block";this.mustache=d;this.program=e;this.inverse=g;this.strip={left:d.strip.left,right:h.strip.right};(e||g).strip.left=d.strip.right;(g||e).strip.right=h.strip.left;
g&&!e&&(this.isInverse=!0)},ContentNode:function(b,d){a.call(this,d);this.type="content";this.string=b},HashNode:function(b,d){a.call(this,d);this.type="hash";this.pairs=b},IdNode:function(d,e){a.call(this,e);this.type="ID";for(var g="",h=[],q=0,p=0,u=d.length;p<u;p++){var C=d[p].part,g=g+((d[p].separator||"")+C);if(".."===C||"."===C||"this"===C){if(0<h.length)throw new b("Invalid path: "+g,this);".."===C?q++:this.isScoped=!0}else h.push(C)}this.original=g;this.parts=h;this.string=h.join(".");this.depth=
q;this.isSimple=1===d.length&&!this.isScoped&&0===q;this.stringModeValue=this.string},PartialNameNode:function(b,d){a.call(this,d);this.type="PARTIAL_NAME";this.name=b.original},DataNode:function(b,d){a.call(this,d);this.type="DATA";this.id=b},StringNode:function(b,d){a.call(this,d);this.type="STRING";this.original=this.string=this.stringModeValue=b},IntegerNode:function(b,d){a.call(this,d);this.type="INTEGER";this.original=this.integer=b;this.stringModeValue=Number(b)},BooleanNode:function(b,d){a.call(this,
d);this.type="BOOLEAN";this.bool=b;this.stringModeValue="true"===b},CommentNode:function(b,d){a.call(this,d);this.type="comment";this.comment=b}};return d}(h),e=function(b,a){var d={};d.parser=b;d.parse=function(d){if(d.constructor===a.ProgramNode)return d;b.yy=a;return b.parse(d)};return d}(function(){return function(){function b(a,d){return{left:"~"===a.charAt(2),right:"~"===d.charAt(0)||"~"===d.charAt(1)}}function a(){this.yy={}}var d={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,
EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,
SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,
1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(a,d,f,e,g,h,q){a=h.length-1;switch(g){case 1:return new e.ProgramNode(h[a-1],this._$);case 2:return new e.ProgramNode([],this._$);case 3:this.$=new e.ProgramNode([],h[a-1],h[a],this._$);break;case 4:this.$=new e.ProgramNode(h[a-2],h[a-1],h[a],this._$);break;case 5:this.$=new e.ProgramNode(h[a-1],h[a],[],this._$);break;
case 6:this.$=new e.ProgramNode(h[a],this._$);break;case 7:this.$=new e.ProgramNode([],this._$);break;case 8:this.$=new e.ProgramNode([],this._$);break;case 9:this.$=[h[a]];break;case 10:h[a-1].push(h[a]);this.$=h[a-1];break;case 11:this.$=new e.BlockNode(h[a-2],h[a-1].inverse,h[a-1],h[a],this._$);break;case 12:this.$=new e.BlockNode(h[a-2],h[a-1],h[a-1].inverse,h[a],this._$);break;case 13:this.$=h[a];break;case 14:this.$=h[a];break;case 15:this.$=new e.ContentNode(h[a],this._$);break;case 16:this.$=
new e.CommentNode(h[a],this._$);break;case 17:this.$=new e.MustacheNode(h[a-1],null,h[a-2],b(h[a-2],h[a]),this._$);break;case 18:this.$=new e.MustacheNode(h[a-1],null,h[a-2],b(h[a-2],h[a]),this._$);break;case 19:this.$={path:h[a-1],strip:b(h[a-2],h[a])};break;case 20:this.$=new e.MustacheNode(h[a-1],null,h[a-2],b(h[a-2],h[a]),this._$);break;case 21:this.$=new e.MustacheNode(h[a-1],null,h[a-2],b(h[a-2],h[a]),this._$);break;case 22:this.$=new e.PartialNode(h[a-2],h[a-1],b(h[a-3],h[a]),this._$);break;
case 23:this.$=b(h[a-1],h[a]);break;case 24:this.$=new e.SexprNode([h[a-2]].concat(h[a-1]),h[a],this._$);break;case 25:this.$=new e.SexprNode([h[a]],null,this._$);break;case 26:this.$=h[a];break;case 27:this.$=new e.StringNode(h[a],this._$);break;case 28:this.$=new e.IntegerNode(h[a],this._$);break;case 29:this.$=new e.BooleanNode(h[a],this._$);break;case 30:this.$=h[a];break;case 31:h[a-1].isHelper=!0;this.$=h[a-1];break;case 32:this.$=new e.HashNode(h[a],this._$);break;case 33:this.$=[h[a-2],h[a]];
break;case 34:this.$=new e.PartialNameNode(h[a],this._$);break;case 35:this.$=new e.PartialNameNode(new e.StringNode(h[a],this._$),this._$);break;case 36:this.$=new e.PartialNameNode(new e.IntegerNode(h[a],this._$));break;case 37:this.$=new e.DataNode(h[a],this._$);break;case 38:this.$=new e.IdNode(h[a],this._$);break;case 39:h[a-2].push({part:h[a],separator:h[a-1]});this.$=h[a-2];break;case 40:this.$=[{part:h[a]}];break;case 43:this.$=[];break;case 44:h[a-1].push(h[a]);break;case 47:this.$=[h[a]];
break;case 48:h[a-1].push(h[a])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,
12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,
21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,
14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,
41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,
23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},
{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,
26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,
32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],
40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(a,b){throw Error(a);},parse:function(a){var b=[0],d=[null],c=[],f=this.table,e="",g=0,h=0,q=0;this.lexer.setInput(a);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==
typeof this.lexer.yylloc&&(this.lexer.yylloc={});a=this.lexer.yylloc;c.push(a);var p=this.lexer.options&&this.lexer.options.ranges;"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var v,n,B,F,S={},Z,L;;){B=b[b.length-1];if(this.defaultActions[B])F=this.defaultActions[B];else{if(null===v||"undefined"==typeof v)v=void 0,v=this.lexer.lex()||1,"number"!==typeof v&&(v=this.symbols_[v]||v);F=f[B]&&f[B][v]}if("undefined"===typeof F||!F.length||!F[0]){var E="";if(!q){L=[];
for(Z in f[B])this.terminals_[Z]&&2<Z&&L.push("'"+this.terminals_[Z]+"'");E=this.lexer.showPosition?"Parse error on line "+(g+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+L.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(g+1)+": Unexpected "+(1==v?"end of input":"'"+(this.terminals_[v]||v)+"'");this.parseError(E,{text:this.lexer.match,token:this.terminals_[v]||v,line:this.lexer.yylineno,loc:a,expected:L})}}if(F[0]instanceof Array&&1<F.length)throw Error("Parse Error: multiple actions possible at state: "+
B+", token: "+v);switch(F[0]){case 1:b.push(v);d.push(this.lexer.yytext);c.push(this.lexer.yylloc);b.push(F[1]);v=null;n?(v=n,n=null):(h=this.lexer.yyleng,e=this.lexer.yytext,g=this.lexer.yylineno,a=this.lexer.yylloc,0<q&&q--);break;case 2:L=this.productions_[F[1]][1];S.$=d[d.length-L];S._$={first_line:c[c.length-(L||1)].first_line,last_line:c[c.length-1].last_line,first_column:c[c.length-(L||1)].first_column,last_column:c[c.length-1].last_column};p&&(S._$.range=[c[c.length-(L||1)].range[0],c[c.length-
1].range[1]]);B=this.performAction.call(S,e,h,g,this.yy,F[1],d,c);if("undefined"!==typeof B)return B;L&&(b=b.slice(0,-2*L),d=d.slice(0,-1*L),c=c.slice(0,-1*L));b.push(this.productions_[F[1]][0]);d.push(S.$);c.push(S._$);F=f[b[b.length-2]][b[b.length-1]];b.push(F);break;case 3:return!0}}return!0}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a){this._input=a;this._more=this._less=this.done=!1;this.yylineno=
this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);
return a},unput:function(a){var b=a.length,d=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b-1);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);d.length-1&&(this.yylineno-=d.length-1);var c=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:d?
(d.length===a.length?this.yylloc.first_column:0)+a[a.length-d.length].length-d[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[c[0],c[0]+this.yyleng-b]);return this},more:function(){this._more=!0;return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,
20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,d;this._more||(this.match=this.yytext="");for(var c=this._currentRules(),f=0;f<c.length&&(!(b=this._input.match(this.rules[c[f]]))||a&&!(b[0].length>a[0].length)||(a=b,d=f,this.options.flex));f++);if(a){if(b=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=
b.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:b?b[b.length-1].length-b[b.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];a=this.performAction.call(this,this.yy,
this,c[d],this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(a)return a}else return""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!==typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-
1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)},options:{},performAction:function(a,b,d,c){function f(a,d){return b.yytext=b.yytext.substr(a,b.yyleng-d)}switch(d){case 0:"\\\\"===b.yytext.slice(-2)?(f(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(f(0,1),this.begin("emu")):this.begin("mu");if(b.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return f(0,4),this.popState(),15;case 4:return 35;
case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState();this.begin("com");break;case 14:return f(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return b.yytext=f(1,2).replace(/\\"/g,'"'),32;case 24:return b.yytext=f(1,2).replace(/\\'/g,"'"),32;case 25:return 42;
case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return b.yytext=f(1,2),40;case 31:return"INVALID";case 32:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,
/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}}}}();
d.lexer=f;a.prototype=d;d.Parser=a;return new a}()}(),p),b=function(b){function a(){}var d={};d.Compiler=a;a.prototype={compiler:a,disassemble:function(){for(var a=this.opcodes,b,d=[],c,e,g=0,h=a.length;g<h;g++)if(b=a[g],"DECLARE"===b.opcode)d.push("DECLARE "+b.name+"="+b.value);else{c=[];for(var q=0;q<b.args.length;q++)e=b.args[q],"string"===typeof e&&(e='"'+e.replace("\n","\\n")+'"'),c.push(e);d.push(b.opcode+" "+c.join(" "))}return d.join("\n")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==
b)return!1;for(var d=0;d<b;d++){var c=this.opcodes[d],e=a.opcodes[d];if(c.opcode!==e.opcode||c.args.length!==e.args.length)return!1;for(var g=0;g<c.args.length;g++)if(c.args[g]!==e.args[g])return!1}b=this.children.length;if(a.children.length!==b)return!1;for(d=0;d<b;d++)if(!this.children[d].equals(a.children[d]))return!1;return!0},guid:0,compile:function(a,b){this.opcodes=[];this.children=[];this.depths={list:[]};this.options=b;var d=this.options.knownHelpers;this.options.knownHelpers={helperMissing:!0,
blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0};if(d)for(var c in d)this.options.knownHelpers[c]=d[c];return this.accept(a)},accept:function(a){var b=a.strip||{};b.left&&this.opcode("strip");a=this[a.type](a);b.right&&this.opcode("strip");return a},program:function(a){a=a.statements;for(var b=0,d=a.length;b<d;b++)this.accept(a[b]);this.isSimple=1===d;this.depths.list=this.depths.list.sort(function(a,b){return a-b});return this},compileProgram:function(a){a=(new this.compiler).compile(a,
this.options);var b=this.guid++,d;this.usePartial=this.usePartial||a.usePartial;this.children[b]=a;for(var c=0,e=a.depths.list.length;c<e;c++)d=a.depths.list[c],2>d||this.addDepth(d-1);return b},block:function(a){var b=a.mustache,d=a.program;a=a.inverse;d&&(d=this.compileProgram(d));a&&(a=this.compileProgram(a));var b=b.sexpr,c=this.classifySexpr(b);"helper"===c?this.helperSexpr(b,d,a):"simple"===c?(this.simpleSexpr(b),this.opcode("pushProgram",d),this.opcode("pushProgram",a),this.opcode("emptyHash"),
this.opcode("blockValue")):(this.ambiguousSexpr(b,d,a),this.opcode("pushProgram",d),this.opcode("pushProgram",a),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},hash:function(a){a=a.pairs;var b,d;this.opcode("pushHash");for(var c=0,e=a.length;c<e;c++)b=a[c],d=b[1],this.options.stringParams?(d.depth&&this.addDepth(d.depth),this.opcode("getContext",d.depth||0),this.opcode("pushStringParam",d.stringModeValue,d.type),"sexpr"===d.type&&this.sexpr(d)):this.accept(d),
this.opcode("assignToHash",b[0]);this.opcode("popHash")},partial:function(a){var b=a.partialName;this.usePartial=!0;a.context?this.ID(a.context):this.opcode("push","depth0");this.opcode("invokePartial",b.name);this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){this.sexpr(a.sexpr);a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(a,b,d){a=a.id;var c=a.parts[0],e=null!=b||null!=d;this.opcode("getContext",
a.depth);this.opcode("pushProgram",b);this.opcode("pushProgram",d);this.opcode("invokeAmbiguous",c,e)},simpleSexpr:function(a){a=a.id;"DATA"===a.type?this.DATA(a):a.parts.length?this.ID(a):(this.addDepth(a.depth),this.opcode("getContext",a.depth),this.opcode("pushContext"));this.opcode("resolvePossibleLambda")},helperSexpr:function(a,d,e){d=this.setupFullMustacheParams(a,d,e);e=a.id.parts[0];if(this.options.knownHelpers[e])this.opcode("invokeKnownHelper",d.length,e);else{if(this.options.knownHelpersOnly)throw new b("You specified knownHelpersOnly, but used the unknown helper "+
e,a);this.opcode("invokeHelper",d.length,e,a.isRoot)}},sexpr:function(a){var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ID:function(a){this.addDepth(a.depth);this.opcode("getContext",a.depth);a.parts[0]?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var b=1,d=a.parts.length;b<d;b++)this.opcode("lookup",a.parts[b])},DATA:function(a){this.options.data=!0;if(a.id.isScoped||a.id.depth)throw new b("Scoped data references are not supported: "+
a.original,a);this.opcode("lookupData");a=a.id.parts;for(var d=0,e=a.length;d<e;d++)this.opcode("lookup",a[d])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:"DECLARE",name:a,value:b})},addDepth:function(a){0===a||this.depths[a]||
(this.depths[a]=!0,this.depths.list.push(a))},classifySexpr:function(a){var b=a.isHelper,d=a.eligibleHelper,c=this.options;d&&!b&&(c.knownHelpers[a.id.parts[0]]?b=!0:c.knownHelpersOnly&&(d=!1));return b?"helper":d?"ambiguous":"simple"},pushParams:function(a){for(var b=a.length,d;b--;)if(d=a[b],this.options.stringParams)d.depth&&this.addDepth(d.depth),this.opcode("getContext",d.depth||0),this.opcode("pushStringParam",d.stringModeValue,d.type),"sexpr"===d.type&&this.sexpr(d);else this[d.type](d)},setupFullMustacheParams:function(a,
b,d){var c=a.params;this.pushParams(c);this.opcode("pushProgram",b);this.opcode("pushProgram",d);a.hash?this.hash(a.hash):this.opcode("emptyHash");return c}};d.precompile=function(a,d,e){if(null==a||"string"!==typeof a&&a.constructor!==e.AST.ProgramNode)throw new b("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);d=d||{};"data"in d||(d.data=!0);a=e.parse(a);a=(new e.Compiler).compile(a,d);return(new e.JavaScriptCompiler).compile(a,d)};d.compile=function(a,d,e){if(null==
a||"string"!==typeof a&&a.constructor!==e.AST.ProgramNode)throw new b("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);d=d||{};"data"in d||(d.data=!0);var g;return function(b,c){if(!g){var h=e.parse(a),h=(new e.Compiler).compile(h,d),h=(new e.JavaScriptCompiler).compile(h,d,void 0,!0);g=e.template(h)}return g.call(this,b,c)}};return d}(h),h=function(b,a){function d(a){this.value=a}function f(){}var e=b.COMPILER_REVISION,g=b.REVISION_CHANGES,h=b.log;f.prototype={nameLookup:function(a,
b){var d,c;0===a.indexOf("depth")&&(d=!0);c=/^[0-9]+$/.test(b)?a+"["+b+"]":f.isValidJavaScriptVariableName(b)?a+"."+b:a+"['"+b+"']";return d?"("+a+" && "+c+")":c},compilerInfo:function(){return"this.compilerInfo = ["+e+",'"+g[e]+"'];\n"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(b,d,c,f){this.environment=
b;this.options=d||{};h("debug",this.environment.disassemble()+"\n\n");this.name=this.environment.name;this.isChild=!!c;this.context=c||{programs:[],environments:[],aliases:{}};this.preamble();this.stackSlot=0;this.stackVars=[];this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.compileChildren(b,d);b=b.opcodes;this.i=0;for(c=b.length;this.i<c;this.i++)d=b[this.i],"DECLARE"===d.opcode?this[d.name]=d.value:this[d.opcode].apply(this,d.args),d.opcode!==this.stripNext&&
(this.stripNext=!1);this.pushSource("");if(this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new a("Compile completed with content left on stack");return this.createFunctionContext(f)},preamble:function(){var a=[];if(this.isChild)a.push("");else{var b=this.namespace,d="helpers = this.merge(helpers, "+b+".helpers);";this.environment.usePartial&&(d=d+" partials = this.merge(partials, "+b+".partials);");this.options.data&&(d+=" data = data || {};");a.push(d)}this.environment.isSimple?
a.push(""):a.push(", buffer = "+this.initializeBuffer());this.lastContext=0;this.source=a},createFunctionContext:function(a){var b=this.stackVars.concat(this.registers.list);0<b.length&&(this.source[1]=this.source[1]+", "+b.join(", "));if(!this.isChild)for(var d in this.context.aliases)this.context.aliases.hasOwnProperty(d)&&(this.source[1]=this.source[1]+", "+d+"="+this.context.aliases[d]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";");this.isChild||(this.source[1]+="\n"+
this.context.programs.join("\n")+"\n");this.environment.isSimple||this.pushSource("return buffer;");b=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];d=0;for(var c=this.environment.depths.list.length;d<c;d++)b.push("depth"+this.environment.depths.list[d]);d=this.mergeSource();this.isChild||(d=this.compilerInfo()+d);if(a)return b.push(d),Function.apply(this,b);a="function "+(this.name||"")+"("+b.join(",")+") {\n  "+d+"}";h("debug",a+"\n\n");return a},mergeSource:function(){for(var a=
"",b,d=0,c=this.source.length;d<c;d++){var f=this.source[d];f.appendToBuffer?b=b?b+"\n    + "+f.content:f.content:(b&&(a+="buffer += "+b+";\n  ",b=void 0),a+=f+"\n  ")}return a},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);this.replaceStack(function(b){a.splice(1,0,b);return"blockHelperMissing.call("+a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";
var a=["depth0"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b);this.pushSource("if (!"+this.lastHelper+") { "+b+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.pendingContent&&(a=this.pendingContent+a);this.stripNext&&(a=a.replace(/^\s+/,""));this.pendingContent=a},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,""));this.stripNext="strip"},append:function(){this.flushInline();var a=this.popStack();this.pushSource("if("+
a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }");this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression";this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup("depth"+this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+
this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"';this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a})},lookup:function(a){this.replaceStack(function(b){return b+" == null || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(a,b){this.pushStackLiteral("depth"+this.lastContext);this.pushString(b);"sexpr"!==b&&("string"===
typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(){this.pushStackLiteral("{}");this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash);this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop();this.options.stringParams&&(this.push("{"+a.contexts.join(",")+"}"),this.push("{"+a.types.join(",")+"}"));this.push("{\n    "+a.values.join(",\n    ")+"\n  }")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},
push:function(a){this.inlineStack.push(a);return a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b,d){this.context.aliases.helperMissing="helpers.helperMissing";this.useRegister("helper");a=this.lastHelper=this.setupHelper(a,b,!0);b=this.nameLookup("depth"+this.lastContext,b,"context");b="helper = "+a.name+" || "+b;a.paramsInit&&(b+=","+a.paramsInit);this.push("("+
b+",helper ? helper.call("+a.callParams+") : helperMissing.call("+a.helperMissingParams+"))");d||this.flushInline()},invokeKnownHelper:function(a,b){var d=this.setupHelper(a,b);this.push(d.name+".call("+d.callParams+")")},invokeAmbiguous:function(a,b){this.context.aliases.functionType='"function"';this.useRegister("helper");this.emptyHash();var d=this.setupHelper(0,a,b),c=this.lastHelper=this.nameLookup("helpers",a,"helper"),f=this.nameLookup("depth"+this.lastContext,a,"context"),e=this.nextStack();
d.paramsInit&&this.pushSource(d.paramsInit);this.pushSource("if (helper = "+c+") { "+e+" = helper.call("+d.callParams+"); }");this.pushSource("else { helper = "+f+"; "+e+" = typeof helper === functionType ? helper.call("+d.callParams+") : helper; }")},invokePartial:function(a){a=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&a.push("data");this.context.aliases.self="this";this.push("self.invokePartial("+a.join(", ")+")")},assignToHash:function(a){var b=
this.popStack(),d,c;this.options.stringParams&&(c=this.popStack(),d=this.popStack());var f=this.hash;d&&f.contexts.push("'"+a+"': "+d);c&&f.types.push("'"+a+"': "+c);f.values.push("'"+a+"': ("+b+")")},compiler:f,compileChildren:function(a,b){for(var d=a.children,c,f,e=0,g=d.length;e<g;e++){c=d[e];f=new this.compiler;var l=this.matchExistingProgram(c);null==l?(this.context.programs.push(""),l=this.context.programs.length,c.index=l,c.name="program"+l,this.context.programs[l]=f.compile(c,b,this.context),
this.context.environments[l]=c):(c.index=l,c.name="program"+l)}},matchExistingProgram:function(a){for(var b=0,d=this.context.environments.length;b<d;b++){var c=this.context.environments[b];if(c&&c.equals(a))return b}},programExpression:function(a){this.context.aliases.self="this";if(null==a)return"self.noop";var b=this.environment.children[a];a=b.depths.list;for(var d=[b.index,b.name,"data"],c=0,f=a.length;c<f;c++)b=a[c],1===b?d.push("depth0"):d.push("depth"+(b-1));return(0===a.length?"self.program(":
"self.programWithDepth(")+d.join(", ")+")"},register:function(a,b){this.useRegister(a);this.pushSource(a+" = "+b+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new d(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0);a&&this.source.push(a)},pushStack:function(a){this.flushInline();var b=this.incrStack();
a&&this.pushSource(b+" = "+a+";");this.compileStack.push(b);return b},replaceStack:function(a){var b="",c=this.isInline(),f,e,g;c?(f=this.popStack(!0),f instanceof d?(f=f.value,g=!0):(b=(e=!this.stackSlot)?this.incrStack():this.topStackName(),b="("+this.push(b)+" = "+f+"),",f=this.topStack())):f=this.topStack();a=a.call(this,f);c?(g||this.popStack(),e&&this.stackSlot--,this.push("("+b+a+")")):(/^stack/.test(f)||(f=this.nextStack()),this.pushSource(f+" = ("+b+a+");"));return f},nextStack:function(){return this.pushStack()},
incrStack:function(){this.stackSlot++;this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot);return this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var b=0,c=a.length;b<c;b++){var f=a[b];f instanceof d?this.compileStack.push(f):this.pushStack(f)}}},isInline:function(){return this.inlineStack.length},popStack:function(b){var c=this.isInline(),f=(c?this.inlineStack:
this.compileStack).pop();if(!b&&f instanceof d)return f.value;if(!c){if(!this.stackSlot)throw new a("Invalid stack pop");this.stackSlot--}return f},topStack:function(a){var b=this.isInline()?this.inlineStack:this.compileStack,b=b[b.length-1];return!a&&b instanceof d?b.value:b},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(a,b,d){var c=[];a=
this.setupParams(a,c,d);var f=this.nameLookup("helpers",b,"helper");return{params:c,paramsInit:a,name:f,callParams:["depth0"].concat(c).join(", "),helperMissingParams:d&&["depth0",this.quotedString(b)].concat(c).join(", ")}},setupOptions:function(a,b){var d=[],c=[],f=[],e,g;d.push("hash:"+this.popStack());this.options.stringParams&&(d.push("hashTypes:"+this.popStack()),d.push("hashContexts:"+this.popStack()));e=this.popStack();if((g=this.popStack())||e)g||(this.context.aliases.self="this",g="self.noop"),
e||(this.context.aliases.self="this",e="self.noop"),d.push("inverse:"+e),d.push("fn:"+g);for(g=0;g<a;g++)e=this.popStack(),b.push(e),this.options.stringParams&&(f.push(this.popStack()),c.push(this.popStack()));this.options.stringParams&&(d.push("contexts:["+c.join(",")+"]"),d.push("types:["+f.join(",")+"]"));this.options.data&&d.push("data:data");return d},setupParams:function(a,b,d){a="{"+this.setupOptions(a,b).join(",")+"}";if(d)return this.useRegister("options"),b.push("options"),"options="+a;
b.push(a);return""}};for(var q="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),p=f.RESERVED_WORDS={},u=0,C=q.length;u<C;u++)p[q[u]]=!0;f.isValidJavaScriptVariableName=
function(a){return!f.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)?!0:!1};return f}(q,h);return function(b,a,d,f,e){var g=d.parser,h=d.parse,q=f.Compiler,p=f.compile,u=f.precompile,C=b.create;d=function(){var b=C();b.compile=function(a,d){return p(a,d,b)};b.precompile=function(a,d){return u(a,d,b)};b.AST=a;b.Compiler=q;b.JavaScriptCompiler=e;b.Parser=g;b.parse=h;return b};b=d();b.create=d;return b}(g,p,e,b,h)}();if("undefined"==typeof jQuery)throw Error("Bootstrap's JavaScript requires jQuery");
+function(g){function p(){var g=document.createElement("bootstrap"),q={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},e;for(e in q)if(void 0!==g.style[e])return{end:q[e]};return!1}g.fn.emulateTransitionEnd=function(h){var q=!1,e=this;g(this).one("bsTransitionEnd",function(){q=!0});return setTimeout(function(){q||g(e).trigger(g.support.transition.end)},h),this};g(function(){g.support.transition=p();g.support.transition&&
(g.event.special.bsTransitionEnd={bindType:g.support.transition.end,delegateType:g.support.transition.end,handle:function(h){return g(h.target).is(this)?h.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery);
+function(g){var p=function(h){g(h).on("click",'[data-dismiss="alert"]',this.close)};p.VERSION="3.2.0";p.prototype.close=function(h){function e(){a.detach().trigger("closed.bs.alert").remove()}var b=g(this),c=b.attr("data-target");c||(c=b.attr("href"),c=c&&c.replace(/.*(?=#[^\s]*$)/,""));var a=g(c);h&&h.preventDefault();a.length||(a=b.hasClass("alert")?b:b.parent());a.trigger(h=g.Event("close.bs.alert"));h.isDefaultPrevented()||(a.removeClass("in"),g.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",
e).emulateTransitionEnd(150):e())};var h=g.fn.alert;g.fn.alert=function(h){return this.each(function(){var e=g(this),b=e.data("bs.alert");b||e.data("bs.alert",b=new p(this));"string"==typeof h&&b[h].call(e)})};g.fn.alert.Constructor=p;g.fn.alert.noConflict=function(){return g.fn.alert=h,this};g(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',p.prototype.close)}(jQuery);
+function(g){function p(e){return this.each(function(){var b=g(this),c=b.data("bs.button"),a="object"==typeof e&&e;c||b.data("bs.button",c=new h(this,a));"toggle"==e?c.toggle():e&&c.setState(e)})}var h=function(e,b){this.$element=g(e);this.options=g.extend({},h.DEFAULTS,b);this.isLoading=!1};h.VERSION="3.2.0";h.DEFAULTS={loadingText:"loading..."};h.prototype.setState=function(e){var b=this.$element,c=b.is("input")?"val":"html",a=b.data();e+="Text";null==a.resetText&&b.data("resetText",b[c]());b[c](null==
a[e]?this.options[e]:a[e]);setTimeout(g.proxy(function(){"loadingText"==e?(this.isLoading=!0,b.addClass("disabled").attr("disabled","disabled")):this.isLoading&&(this.isLoading=!1,b.removeClass("disabled").removeAttr("disabled"))},this),0)};h.prototype.toggle=function(){var e=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?e=!1:b.find(".active").removeClass("active"));
e&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var q=g.fn.button;g.fn.button=p;g.fn.button.Constructor=h;g.fn.button.noConflict=function(){return g.fn.button=q,this};g(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var b=g(e.target);b.hasClass("btn")||(b=b.closest(".btn"));p.call(b,"toggle");e.preventDefault()})}(jQuery);
+function(g){function p(e){return this.each(function(){var b=g(this),c=b.data("bs.carousel"),a=g.extend({},h.DEFAULTS,b.data(),"object"==typeof e&&e),d="string"==typeof e?e:a.slide;c||b.data("bs.carousel",c=new h(this,a));"number"==typeof e?c.to(e):d?c[d]():a.interval&&c.pause().cycle()})}var h=function(e,b){this.$element=g(e).on("keydown.bs.carousel",g.proxy(this.keydown,this));this.$indicators=this.$element.find(".carousel-indicators");this.options=b;this.paused=this.sliding=this.interval=this.$active=
this.$items=null;"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",g.proxy(this.pause,this)).on("mouseleave.bs.carousel",g.proxy(this.cycle,this))};h.VERSION="3.2.0";h.DEFAULTS={interval:5E3,pause:"hover",wrap:!0};h.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()};h.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&
(this.interval=setInterval(g.proxy(this.next,this),this.options.interval)),this};h.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)};h.prototype.to=function(e){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(e)}):c==e?this.pause().cycle():this.slide(e>c?"next":"prev",g(this.$items[e]))};h.prototype.pause=
function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&g.support.transition&&(this.$element.trigger(g.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};h.prototype.next=function(){return this.sliding?void 0:this.slide("next")};h.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")};h.prototype.slide=function(e,b){var c=this.$element.find(".item.active"),a=b||c[e](),d=this.interval,f="next"==e?"left":"right",l="next"==
e?"first":"last",h=this;if(!a.length){if(!this.options.wrap)return;a=this.$element.find(".item")[l]()}if(a.hasClass("active"))return this.sliding=!1;var l=a[0],q=g.Event("slide.bs.carousel",{relatedTarget:l,direction:f});if(this.$element.trigger(q),!q.isDefaultPrevented()){if(this.sliding=!0,d&&this.pause(),this.$indicators.length)this.$indicators.find(".active").removeClass("active"),(q=g(this.$indicators.children()[this.getItemIndex(a)]))&&q.addClass("active");var p=g.Event("slid.bs.carousel",{relatedTarget:l,
direction:f});return g.support.transition&&this.$element.hasClass("slide")?(a.addClass(e),a[0].offsetWidth,c.addClass(f),a.addClass(f),c.one("bsTransitionEnd",function(){a.removeClass([e,f].join(" ")).addClass("active");c.removeClass(["active",f].join(" "));h.sliding=!1;setTimeout(function(){h.$element.trigger(p)},0)}).emulateTransitionEnd(1E3*c.css("transition-duration").slice(0,-1))):(c.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(p)),d&&this.cycle(),this}};var q=
g.fn.carousel;g.fn.carousel=p;g.fn.carousel.Constructor=h;g.fn.carousel.noConflict=function(){return g.fn.carousel=q,this};g(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var b,c=g(this),a=g(c.attr("data-target")||(b=c.attr("href"))&&b.replace(/.*(?=#[^\s]+$)/,""));a.hasClass("carousel")&&(b=g.extend({},a.data(),c.data()),(c=c.attr("data-slide-to"))&&(b.interval=!1),p.call(a,b),c&&a.data("bs.carousel").to(c),e.preventDefault())});g(window).on("load",function(){g('[data-ride="carousel"]').each(function(){var e=
g(this);p.call(e,e.data())})})}(jQuery);
+function(g){function p(e){return this.each(function(){var b=g(this),c=b.data("bs.collapse"),a=g.extend({},h.DEFAULTS,b.data(),"object"==typeof e&&e);!c&&a.toggle&&"show"==e&&(e=!e);c||b.data("bs.collapse",c=new h(this,a));"string"==typeof e&&c[e]()})}var h=function(e,b){this.$element=g(e);this.options=g.extend({},h.DEFAULTS,b);this.transitioning=null;this.options.parent&&(this.$parent=g(this.options.parent));this.options.toggle&&this.toggle()};h.VERSION="3.2.0";h.DEFAULTS={toggle:!0};h.prototype.dimension=
function(){return this.$element.hasClass("width")?"width":"height"};h.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=g.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){if((e=this.$parent&&this.$parent.find("> .panel > .in"))&&e.length){var b=e.data("bs.collapse");if(b&&b.transitioning)return;p.call(e,"hide");b||e.data("bs.collapse",null)}var c=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[c](0);this.transitioning=
1;e=function(){this.$element.removeClass("collapsing").addClass("collapse in")[c]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!g.support.transition)return e.call(this);b=g.camelCase(["scroll",c].join("-"));this.$element.one("bsTransitionEnd",g.proxy(e,this)).emulateTransitionEnd(350)[c](this.$element[0][b])}}};h.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=g.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){e=
this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var b=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return g.support.transition?void this.$element[e](0).one("bsTransitionEnd",g.proxy(b,this)).emulateTransitionEnd(350):b.call(this)}}};h.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":
"show"]()};var q=g.fn.collapse;g.fn.collapse=p;g.fn.collapse.Constructor=h;g.fn.collapse.noConflict=function(){return g.fn.collapse=q,this};g(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var b,c=g(this);e=c.attr("data-target")||e.preventDefault()||(b=c.attr("href"))&&b.replace(/.*(?=#[^\s]+$)/,"");b=g(e);var a=(e=b.data("bs.collapse"))?"toggle":c.data(),d=c.attr("data-parent"),f=d&&g(d);e&&e.transitioning||(f&&f.find('[data-toggle="collapse"][data-parent="'+d+'"]').not(c).addClass("collapsed"),
c[b.hasClass("in")?"addClass":"removeClass"]("collapsed"));p.call(b,a)})}(jQuery);
+function(g){function p(a){a&&3===a.which||(g(q).remove(),g(e).each(function(){var b=h(g(this)),c={relatedTarget:this};b.hasClass("open")&&(b.trigger(a=g.Event("hide.bs.dropdown",c)),a.isDefaultPrevented()||b.removeClass("open").trigger("hidden.bs.dropdown",c))}))}function h(a){var b=a.attr("data-target");b||(b=a.attr("href"),b=b&&/#[A-Za-z]/.test(b)&&b.replace(/.*(?=#[^\s]*$)/,""));return(b=b&&g(b))&&b.length?b:a.parent()}var q=".dropdown-backdrop",e='[data-toggle="dropdown"]',b=function(a){g(a).on("click.bs.dropdown",
this.toggle)};b.VERSION="3.2.0";b.prototype.toggle=function(a){var b=g(this);if(!b.is(".disabled, :disabled")){var c=h(b),e=c.hasClass("open");if(p(),!e){"ontouchstart"in document.documentElement&&!c.closest(".navbar-nav").length&&g('<div class="dropdown-backdrop"/>').insertAfter(g(this)).on("click",p);e={relatedTarget:this};if(c.trigger(a=g.Event("show.bs.dropdown",e)),a.isDefaultPrevented())return;b.trigger("focus");c.toggleClass("open").trigger("shown.bs.dropdown",e)}return!1}};b.prototype.keydown=
function(a){if(/(38|40|27)/.test(a.keyCode)){var b=g(this);if(a.preventDefault(),a.stopPropagation(),!b.is(".disabled, :disabled")){var c=h(b),l=c.hasClass("open");if(!l||l&&27==a.keyCode)return 27==a.which&&c.find(e).trigger("focus"),b.trigger("click");b=c.find('[role="menu"] li:not(.divider):visible a, [role="listbox"] li:not(.divider):visible a');b.length&&(c=b.index(b.filter(":focus")),38==a.keyCode&&0<c&&c--,40==a.keyCode&&c<b.length-1&&c++,~c||(c=0),b.eq(c).trigger("focus"))}}};var c=g.fn.dropdown;
g.fn.dropdown=function(a){return this.each(function(){var d=g(this),c=d.data("bs.dropdown");c||d.data("bs.dropdown",c=new b(this));"string"==typeof a&&c[a].call(d)})};g.fn.dropdown.Constructor=b;g.fn.dropdown.noConflict=function(){return g.fn.dropdown=c,this};g(document).on("click.bs.dropdown.data-api",p).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",e,b.prototype.toggle).on("keydown.bs.dropdown.data-api",e+', [role="menu"], [role="listbox"]',
b.prototype.keydown)}(jQuery);
+function(g){function p(e,b){return this.each(function(){var c=g(this),a=c.data("bs.modal"),d=g.extend({},h.DEFAULTS,c.data(),"object"==typeof e&&e);a||c.data("bs.modal",a=new h(this,d));"string"==typeof e?a[e](b):d.show&&a.show(b)})}var h=function(e,b){this.options=b;this.$body=g(document.body);this.$element=g(e);this.$backdrop=this.isShown=null;this.scrollbarWidth=0;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,g.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};
h.VERSION="3.2.0";h.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};h.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)};h.prototype.show=function(e){var b=this,c=g.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(c);this.isShown||c.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',g.proxy(this.hide,this)),this.backdrop(function(){var a=
g.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(b.$body);b.$element.show().scrollTop(0);a&&b.$element[0].offsetWidth;b.$element.addClass("in").attr("aria-hidden",!1);b.enforceFocus();var d=g.Event("shown.bs.modal",{relatedTarget:e});a?b.$element.find(".modal-dialog").one("bsTransitionEnd",function(){b.$element.trigger("focus").trigger(d)}).emulateTransitionEnd(300):b.$element.trigger("focus").trigger(d)}))};h.prototype.hide=function(e){e&&e.preventDefault();
e=g.Event("hide.bs.modal");this.$element.trigger(e);this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),g(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),g.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",g.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())};h.prototype.enforceFocus=function(){g(document).off("focusin.bs.modal").on("focusin.bs.modal",
g.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))};h.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",g.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")};h.prototype.hideModal=function(){var e=this;this.$element.hide();this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})};h.prototype.removeBackdrop=
function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};h.prototype.backdrop=function(e){var b=this,c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=g.support.transition&&c;if(this.$backdrop=g('<div class="modal-backdrop '+c+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",g.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},
this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),e)a?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),c=function(){b.removeBackdrop();e&&e()},g.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",c).emulateTransitionEnd(150):c()):e&&e()};h.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||
this.measureScrollbar())};h.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)};h.prototype.resetScrollbar=function(){this.$body.css("padding-right","")};h.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure";this.$body.append(e);var b=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),b};var q=g.fn.modal;g.fn.modal=
p;g.fn.modal.Constructor=h;g.fn.modal.noConflict=function(){return g.fn.modal=q,this};g(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var b=g(this),c=b.attr("href"),a=g(b.attr("data-target")||c&&c.replace(/.*(?=#[^\s]+$)/,"")),c=a.data("bs.modal")?"toggle":g.extend({remote:!/#/.test(c)&&c},a.data(),b.data());b.is("a")&&e.preventDefault();a.one("show.bs.modal",function(d){d.isDefaultPrevented()||a.one("hidden.bs.modal",function(){b.is(":visible")&&b.trigger("focus")})});
p.call(a,c,this)})}(jQuery);
+function(g){var p=function(g,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",g,e)};p.VERSION="3.2.0";p.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};p.prototype.init=function(h,e,b){this.enabled=!0;this.type=h;this.$element=
g(e);this.options=this.getOptions(b);this.$viewport=this.options.viewport&&g(this.options.viewport.selector||this.options.viewport);h=this.options.trigger.split(" ");for(e=h.length;e--;)if(b=h[e],"click"==b)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=b){var c="hover"==b?"mouseleave":"focusout";this.$element.on(("hover"==b?"mouseenter":"focusin")+"."+this.type,this.options.selector,g.proxy(this.enter,this));this.$element.on(c+"."+this.type,
this.options.selector,g.proxy(this.leave,this))}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};p.prototype.getDefaults=function(){return p.DEFAULTS};p.prototype.getOptions=function(h){return h=g.extend({},this.getDefaults(),this.$element.data(),h),h.delay&&"number"==typeof h.delay&&(h.delay={show:h.delay,hide:h.delay}),h};p.prototype.getDelegateOptions=function(){var h={},e=this.getDefaults();return this._options&&g.each(this._options,
function(b,c){e[b]!=c&&(h[b]=c)}),h};p.prototype.enter=function(h){var e=h instanceof this.constructor?h:g(h.currentTarget).data("bs."+this.type);return e||(e=new this.constructor(h.currentTarget,this.getDelegateOptions()),g(h.currentTarget).data("bs."+this.type,e)),clearTimeout(e.timeout),e.hoverState="in",e.options.delay&&e.options.delay.show?void(e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)):e.show()};p.prototype.leave=function(h){var e=h instanceof this.constructor?
h:g(h.currentTarget).data("bs."+this.type);return e||(e=new this.constructor(h.currentTarget,this.getDelegateOptions()),g(h.currentTarget).data("bs."+this.type,e)),clearTimeout(e.timeout),e.hoverState="out",e.options.delay&&e.options.delay.hide?void(e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)):e.hide()};p.prototype.show=function(){var h=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(h);var e=g.contains(document.documentElement,
this.$element[0]);if(!h.isDefaultPrevented()&&e){var b=this,h=this.tip(),e=this.getUID(this.type);this.setContent();h.attr("id",e);this.$element.attr("aria-describedby",e);this.options.animation&&h.addClass("fade");var e="function"==typeof this.options.placement?this.options.placement.call(this,h[0],this.$element[0]):this.options.placement,c=/\s?auto?\s?/i,a=c.test(e);a&&(e=e.replace(c,"")||"top");h.detach().css({top:0,left:0,display:"block"}).addClass(e).data("bs."+this.type,this);this.options.container?
h.appendTo(this.options.container):h.insertAfter(this.$element);var c=this.getPosition(),d=h[0].offsetWidth,f=h[0].offsetHeight;if(a){var a=e,l=this.$element.parent(),l=this.getPosition(l),e="bottom"==e&&c.top+c.height+f-l.scroll>l.height?"top":"top"==e&&0>c.top-l.scroll-f?"bottom":"right"==e&&c.right+d>l.width?"left":"left"==e&&c.left-d<l.left?"right":e;h.removeClass(a).addClass(e)}c=this.getCalculatedOffset(e,c,d,f);this.applyPlacement(c,e);e=function(){b.$element.trigger("shown.bs."+b.type);b.hoverState=
null};g.support.transition&&this.$tip.hasClass("fade")?h.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}}};p.prototype.applyPlacement=function(h,e){var b=this.tip(),c=b[0].offsetWidth,a=b[0].offsetHeight,d=parseInt(b.css("margin-top"),10),f=parseInt(b.css("margin-left"),10);isNaN(d)&&(d=0);isNaN(f)&&(f=0);h.top+=d;h.left+=f;g.offset.setOffset(b[0],g.extend({using:function(a){b.css({top:Math.round(a.top),left:Math.round(a.left)})}},h),0);b.addClass("in");var f=b[0].offsetWidth,l=b[0].offsetHeight;
"top"==e&&l!=a&&(h.top=h.top+a-l);d=this.getViewportAdjustedDelta(e,h,f,l);d.left?h.left+=d.left:h.top+=d.top;c=d.left?2*d.left-c+f:2*d.top-a+l;a=d.left?"left":"top";d=d.left?"offsetWidth":"offsetHeight";b.offset(h);this.replaceArrow(c,b[0][d],a)};p.prototype.replaceArrow=function(g,e,b){this.arrow().css(b,g?50*(1-g/e)+"%":"")};p.prototype.setContent=function(){var g=this.tip(),e=this.getTitle();g.find(".tooltip-inner")[this.options.html?"html":"text"](e);g.removeClass("fade in top bottom left right")};
p.prototype.hide=function(){function h(){"in"!=e.hoverState&&b.detach();e.$element.trigger("hidden.bs."+e.type)}var e=this,b=this.tip(),c=g.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(c),c.isDefaultPrevented()?void 0:(b.removeClass("in"),g.support.transition&&this.$tip.hasClass("fade")?b.one("bsTransitionEnd",h).emulateTransitionEnd(150):h(),this.hoverState=null,this)};p.prototype.fixTitle=function(){var g=this.$element;(g.attr("title")||"string"!=
typeof g.attr("data-original-title"))&&g.attr("data-original-title",g.attr("title")||"").attr("title","")};p.prototype.hasContent=function(){return this.getTitle()};p.prototype.getPosition=function(h){h=h||this.$element;var e=h[0],b="BODY"==e.tagName;return g.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():null,{scroll:b?document.documentElement.scrollTop||document.body.scrollTop:h.scrollTop(),width:b?g(window).width():h.outerWidth(),height:b?g(window).height():h.outerHeight()},
b?{top:0,left:0}:h.offset())};p.prototype.getCalculatedOffset=function(g,e,b,c){return"bottom"==g?{top:e.top+e.height,left:e.left+e.width/2-b/2}:"top"==g?{top:e.top-c,left:e.left+e.width/2-b/2}:"left"==g?{top:e.top+e.height/2-c/2,left:e.left-b}:{top:e.top+e.height/2-c/2,left:e.left+e.width}};p.prototype.getViewportAdjustedDelta=function(g,e,b,c){var a={top:0,left:0};if(!this.$viewport)return a;var d=this.options.viewport&&this.options.viewport.padding||0,f=this.getPosition(this.$viewport);/right|left/.test(g)?
(b=e.top-d-f.scroll,e=e.top+d-f.scroll+c,b<f.top?a.top=f.top-b:e>f.top+f.height&&(a.top=f.top+f.height-e)):(c=e.left-d,e=e.left+d+b,c<f.left?a.left=f.left-c:e>f.width&&(a.left=f.left+f.width-e));return a};p.prototype.getTitle=function(){var g=this.$element,e=this.options;return g.attr("data-original-title")||("function"==typeof e.title?e.title.call(g[0]):e.title)};p.prototype.getUID=function(g){do g+=~~(1E6*Math.random());while(document.getElementById(g));return g};p.prototype.tip=function(){return this.$tip=
this.$tip||g(this.options.template)};p.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};p.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)};p.prototype.enable=function(){this.enabled=!0};p.prototype.disable=function(){this.enabled=!1};p.prototype.toggleEnabled=function(){this.enabled=!this.enabled};p.prototype.toggle=function(h){var e=this;h&&(e=g(h.currentTarget).data("bs."+this.type),e||(e=
new this.constructor(h.currentTarget,this.getDelegateOptions()),g(h.currentTarget).data("bs."+this.type,e)));e.tip().hasClass("in")?e.leave(e):e.enter(e)};p.prototype.destroy=function(){clearTimeout(this.timeout);this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var h=g.fn.tooltip;g.fn.tooltip=function(h){return this.each(function(){var e=g(this),b=e.data("bs.tooltip"),c="object"==typeof h&&h;(b||"destroy"!=h)&&(b||e.data("bs.tooltip",b=new p(this,c)),"string"==typeof h&&b[h]())})};
g.fn.tooltip.Constructor=p;g.fn.tooltip.noConflict=function(){return g.fn.tooltip=h,this}}(jQuery);
+function(g){var p=function(g,e){this.init("popover",g,e)};if(!g.fn.tooltip)throw Error("Popover requires tooltip.js");p.VERSION="3.2.0";p.DEFAULTS=g.extend({},g.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});p.prototype=g.extend({},g.fn.tooltip.Constructor.prototype);p.prototype.constructor=p;p.prototype.getDefaults=function(){return p.DEFAULTS};
p.prototype.setContent=function(){var g=this.tip(),e=this.getTitle(),b=this.getContent();g.find(".popover-title")[this.options.html?"html":"text"](e);g.find(".popover-content").empty()[this.options.html?"string"==typeof b?"html":"append":"text"](b);g.removeClass("fade top bottom left right in");g.find(".popover-title").html()||g.find(".popover-title").hide()};p.prototype.hasContent=function(){return this.getTitle()||this.getContent()};p.prototype.getContent=function(){var g=this.$element,e=this.options;
return g.attr("data-content")||("function"==typeof e.content?e.content.call(g[0]):e.content)};p.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};p.prototype.tip=function(){return this.$tip||(this.$tip=g(this.options.template)),this.$tip};var h=g.fn.popover;g.fn.popover=function(h){return this.each(function(){var e=g(this),b=e.data("bs.popover"),c="object"==typeof h&&h;(b||"destroy"!=h)&&(b||e.data("bs.popover",b=new p(this,c)),"string"==typeof h&&b[h]())})};g.fn.popover.Constructor=
p;g.fn.popover.noConflict=function(){return g.fn.popover=h,this}}(jQuery);
+function(g){function p(e,b){var c=g.proxy(this.process,this);this.$body=g("body");this.$scrollElement=g(g(e).is("body")?window:e);this.options=g.extend({},p.DEFAULTS,b);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",c);this.refresh();this.process()}function h(e){return this.each(function(){var b=g(this),c=b.data("bs.scrollspy"),a="object"==typeof e&&e;c||b.data("bs.scrollspy",
c=new p(this,a));"string"==typeof e&&c[e]()})}p.VERSION="3.2.0";p.DEFAULTS={offset:10};p.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};p.prototype.refresh=function(){var e="offset",b=0;g.isWindow(this.$scrollElement[0])||(e="position",b=this.$scrollElement.scrollTop());this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();var c=this;this.$body.find(this.selector).map(function(){var a=
g(this),a=a.data("target")||a.attr("href"),d=/^#./.test(a)&&g(a);return d&&d.length&&d.is(":visible")&&[[d[e]().top+b,a]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]);c.targets.push(this[1])})};p.prototype.process=function(){var e,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),a=this.options.offset+c-this.$scrollElement.height(),d=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=a)return g!=
(e=f[f.length-1])&&this.activate(e);if(g&&b<=d[0])return g!=(e=f[0])&&this.activate(e);for(e=d.length;e--;)g!=f[e]&&b>=d[e]&&(!d[e+1]||b<=d[e+1])&&this.activate(f[e])};p.prototype.activate=function(e){this.activeTarget=e;g(this.selector).parentsUntil(this.options.target,".active").removeClass("active");e=g(this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]').parents("li").addClass("active");e.parent(".dropdown-menu").length&&(e=e.closest("li.dropdown").addClass("active"));e.trigger("activate.bs.scrollspy")};
var q=g.fn.scrollspy;g.fn.scrollspy=h;g.fn.scrollspy.Constructor=p;g.fn.scrollspy.noConflict=function(){return g.fn.scrollspy=q,this};g(window).on("load.bs.scrollspy.data-api",function(){g('[data-spy="scroll"]').each(function(){var e=g(this);h.call(e,e.data())})})}(jQuery);
+function(g){function p(e){return this.each(function(){var b=g(this),c=b.data("bs.tab");c||b.data("bs.tab",c=new h(this));"string"==typeof e&&c[e]()})}var h=function(e){this.element=g(e)};h.VERSION="3.2.0";h.prototype.show=function(){var e=this.element,b=e.closest("ul:not(.dropdown-menu)"),c=e.data("target");if(c||(c=e.attr("href"),c=c&&c.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var a=b.find(".active:last a")[0],d=g.Event("show.bs.tab",{relatedTarget:a});(e.trigger(d),d.isDefaultPrevented())||
(c=g(c),this.activate(e.closest("li"),b),this.activate(c,c.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:a})}))}};h.prototype.activate=function(e,b,c){function a(){d.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");e.addClass("active");f?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade");e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active");c&&c()}var d=b.find("> .active"),f=c&&g.support.transition&&d.hasClass("fade");f?d.one("bsTransitionEnd",
a).emulateTransitionEnd(150):a();d.removeClass("in")};var q=g.fn.tab;g.fn.tab=p;g.fn.tab.Constructor=h;g.fn.tab.noConflict=function(){return g.fn.tab=q,this};g(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault();p.call(g(this),"show")})}(jQuery);
+function(g){function p(e){return this.each(function(){var b=g(this),c=b.data("bs.affix"),a="object"==typeof e&&e;c||b.data("bs.affix",c=new h(this,a));"string"==typeof e&&c[e]()})}var h=function(e,b){this.options=g.extend({},h.DEFAULTS,b);this.$target=g(this.options.target).on("scroll.bs.affix.data-api",g.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",g.proxy(this.checkPositionWithEventLoop,this));this.$element=g(e);this.affixed=this.unpin=this.pinnedOffset=null;this.checkPosition()};
h.VERSION="3.2.0";h.RESET="affix affix-top affix-bottom";h.DEFAULTS={offset:0,target:window};h.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(h.RESET).addClass("affix");var e=this.$target.scrollTop();return this.pinnedOffset=this.$element.offset().top-e};h.prototype.checkPositionWithEventLoop=function(){setTimeout(g.proxy(this.checkPosition,this),1)};h.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=g(document).height(),
b=this.$target.scrollTop(),c=this.$element.offset(),a=this.options.offset,d=a.top,f=a.bottom;"object"!=typeof a&&(f=d=a);"function"==typeof d&&(d=a.top(this.$element));"function"==typeof f&&(f=a.bottom(this.$element));b=null!=this.unpin&&b+this.unpin<=c.top?!1:null!=f&&c.top+this.$element.height()>=e-f?"bottom":null!=d&&d>=b?"top":!1;this.affixed!==b&&(null!=this.unpin&&this.$element.css("top",""),c="affix"+(b?"-"+b:""),a=g.Event(c+".bs.affix"),this.$element.trigger(a),a.isDefaultPrevented()||(this.affixed=
b,this.unpin="bottom"==b?this.getPinnedOffset():null,this.$element.removeClass(h.RESET).addClass(c).trigger(g.Event(c.replace("affix","affixed"))),"bottom"==b&&this.$element.offset({top:e-this.$element.height()-f})))}};var q=g.fn.affix;g.fn.affix=p;g.fn.affix.Constructor=h;g.fn.affix.noConflict=function(){return g.fn.affix=q,this};g(window).on("load",function(){g('[data-spy="affix"]').each(function(){var e=g(this),b=e.data();b.offset=b.offset||{};b.offsetBottom&&(b.offset.bottom=b.offsetBottom);b.offsetTop&&
(b.offset.top=b.offsetTop);p.call(e,b)})})}(jQuery);(function(g,p){if("function"===typeof define&&define.amd)define(["underscore","jquery","exports"],function(h,e,b){g.Backbone=p(g,b,h,e)});else if("undefined"!==typeof exports){var h=require("underscore");p(g,exports,h)}else g.Backbone=p(g,{},g._,g.jQuery||g.Zepto||g.ender||g.$)})(this,function(g,p,h,q){var e=g.Backbone,b=[].slice;p.VERSION="1.1.2";p.$=q;p.noConflict=function(){g.Backbone=e;return this};p.emulateHTTP=!1;p.emulateJSON=!1;var c=p.Events={on:function(a,b,c){if(!d(this,"on",a,[b,c])||
!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,ctx:c||this});return this},once:function(a,b,c){if(!d(this,"once",a,[b,c])||!b)return this;var f=this,e=h.once(function(){f.off(a,e);b.apply(this,arguments)});e._callback=b;return this.on(a,e,c)},off:function(a,b,c){var f,e,g,l,n,p,s,q;if(!this._events||!d(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events=void 0,this;l=a?[a]:h.keys(this._events);n=0;for(p=l.length;n<p;n++)if(a=
l[n],g=this._events[a]){this._events[a]=f=[];if(b||c)for(s=0,q=g.length;s<q;s++)e=g[s],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&f.push(e);f.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var c=b.call(arguments,1);if(!d(this,"trigger",a,c))return this;var e=this._events[a],g=this._events.all;e&&f(e,c);g&&f(g,arguments);return this},stopListening:function(a,b,d){var c=this._listeningTo;if(!c)return this;var f=!b&&!d;d||"object"!==
typeof b||(d=this);a&&((c={})[a._listenId]=a);for(var e in c)a=c[e],a.off(b,d,this),(f||h.isEmpty(a._events))&&delete this._listeningTo[e];return this}},a=/\s+/,d=function(b,d,c,f){if(!c)return!0;if("object"===typeof c){for(var e in c)b[d].apply(b,[e,c[e]].concat(f));return!1}if(a.test(c)){c=c.split(a);e=0;for(var g=c.length;e<g;e++)b[d].apply(b,[c[e]].concat(f));return!1}return!0},f=function(a,b){var d,c=-1,f=a.length,e=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++c<f;)(d=a[c]).callback.call(d.ctx);
break;case 1:for(;++c<f;)(d=a[c]).callback.call(d.ctx,e);break;case 2:for(;++c<f;)(d=a[c]).callback.call(d.ctx,e,g);break;case 3:for(;++c<f;)(d=a[c]).callback.call(d.ctx,e,g,h);break;default:for(;++c<f;)(d=a[c]).callback.apply(d.ctx,b)}};h.each({listenTo:"on",listenToOnce:"once"},function(a,b){c[b]=function(b,d,c){var f=this._listeningTo||(this._listeningTo={}),e=b._listenId||(b._listenId=h.uniqueId("l"));f[e]=b;c||"object"!==typeof d||(c=this);b[a](d,c,this);return this}});c.bind=c.on;c.unbind=c.off;
h.extend(p,c);var l=p.Model=function(a,b){var d=a||{};b||(b={});this.cid=h.uniqueId("c");this.attributes={};b.collection&&(this.collection=b.collection);b.parse&&(d=this.parse(d,b)||{});d=h.defaults({},d,h.result(this,"defaults"));this.set(d,b);this.changed={};this.initialize.apply(this,arguments)};h.extend(l.prototype,c,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return h.clone(this.attributes)},sync:function(){return p.sync.apply(this,arguments)},
get:function(a){return this.attributes[a]},escape:function(a){return h.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,d){var c,f,e,g,l,n,p;if(null==a)return this;"object"===typeof a?(f=a,d=b):(f={})[a]=b;d||(d={});if(!this._validate(f,d))return!1;e=d.unset;g=d.silent;a=[];l=this._changing;this._changing=!0;l||(this._previousAttributes=h.clone(this.attributes),this.changed={});p=this.attributes;n=this._previousAttributes;this.idAttribute in f&&(this.id=f[this.idAttribute]);
for(c in f)b=f[c],h.isEqual(p[c],b)||a.push(c),h.isEqual(n[c],b)?delete this.changed[c]:this.changed[c]=b,e?delete p[c]:p[c]=b;if(!g)for(a.length&&(this._pending=d),b=0,c=a.length;b<c;b++)this.trigger("change:"+a[b],this,p[a[b]],d);if(l)return this;if(!g)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,h.extend({},b,{unset:!0}))},clear:function(a){var b={},d;for(d in this.attributes)b[d]=
void 0;return this.set(b,h.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!h.isEmpty(this.changed):h.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?h.clone(this.changed):!1;var b,d=!1,c=this._changing?this._previousAttributes:this.attributes,f;for(f in a)h.isEqual(c[f],b=a[f])||((d||(d={}))[f]=b);return d},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return h.clone(this._previousAttributes)},
fetch:function(a){a=a?h.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,d=a.success;a.success=function(c){if(!b.set(b.parse(c,a),a))return!1;d&&d(b,c,a);b.trigger("sync",b,c,a)};I(this,a);return this.sync("read",this,a)},save:function(a,b,d){var c,f=this.attributes;null==a||"object"===typeof a?(c=a,d=b):(c={})[a]=b;d=h.extend({validate:!0},d);if(c&&!d.wait){if(!this.set(c,d))return!1}else if(!this._validate(c,d))return!1;c&&d.wait&&(this.attributes=h.extend({},f,c));void 0===d.parse&&(d.parse=
!0);var e=this,g=d.success;d.success=function(a){e.attributes=f;var b=e.parse(a,d);d.wait&&(b=h.extend(c||{},b));if(h.isObject(b)&&!e.set(b,d))return!1;g&&g(e,a,d);e.trigger("sync",e,a,d)};I(this,d);a=this.isNew()?"create":d.patch?"patch":"update";"patch"===a&&(d.attrs=c);a=this.sync(a,this,d);c&&d.wait&&(this.attributes=f);return a},destroy:function(a){a=a?h.clone(a):{};var b=this,d=a.success,c=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(f){(a.wait||b.isNew())&&c();d&&d(b,
f,a);b.isNew()||b.trigger("sync",b,f,a)};if(this.isNew())return a.success(),!1;I(this,a);var f=this.sync("delete",this,a);a.wait||c();return f},url:function(){var a=h.result(this,"urlRoot")||h.result(this.collection,"url")||N();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},h.extend(a||
{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=h.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;if(!d)return!0;this.trigger("invalid",this,d,h.extend(b,{validationError:d}));return!1}});h.each("keys values pairs invert pick omit".split(" "),function(a){l.prototype[a]=function(){var d=b.call(arguments);d.unshift(this.attributes);return h[a].apply(h,d)}});var s=p.Collection=function(a,b){b||(b={});b.model&&(this.model=b.model);
void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,h.extend({silent:!0},b))},w={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1};h.extend(s.prototype,c,{model:l,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return p.sync.apply(this,arguments)},add:function(a,b){return this.set(a,h.extend({merge:!1},b,x))},remove:function(a,b){var d=!h.isArray(a);a=d?[a]:h.clone(a);b||
(b={});var c,f,e,g;c=0;for(f=a.length;c<f;c++)if(g=a[c]=this.get(a[c]))delete this._byId[g.id],delete this._byId[g.cid],e=this.indexOf(g),this.models.splice(e,1),this.length--,b.silent||(b.index=e,g.trigger("remove",g,this,b)),this._removeReference(g,b);return d?a[0]:a},set:function(a,b){b=h.defaults({},b,w);b.parse&&(a=this.parse(a,b));var d=!h.isArray(a);a=d?a?[a]:[]:h.clone(a);var c,f,e,g,n,p,s=b.at,q=this.model,x=this.comparator&&null==s&&!1!==b.sort,u=h.isString(this.comparator)?this.comparator:
null,z=[],N=[],v={},M=b.add,k=b.merge,ca=b.remove,I=!x&&M&&ca?[]:!1;c=0;for(f=a.length;c<f;c++){n=a[c]||{};e=n instanceof l?g=n:n[q.prototype.idAttribute||"id"];if(e=this.get(e))ca&&(v[e.cid]=!0),k&&(n=n===g?g.attributes:n,b.parse&&(n=e.parse(n,b)),e.set(n,b),x&&!p&&e.hasChanged(u)&&(p=!0)),a[c]=e;else if(M){g=a[c]=this._prepareModel(n,b);if(!g)continue;z.push(g);this._addReference(g,b)}g=e||g;!I||!g.isNew()&&v[g.id]||I.push(g);v[g.id]=!0}if(ca){c=0;for(f=this.length;c<f;++c)v[(g=this.models[c]).cid]||
N.push(g);N.length&&this.remove(N,b)}if(z.length||I&&I.length)if(x&&(p=!0),this.length+=z.length,null!=s)for(c=0,f=z.length;c<f;c++)this.models.splice(s+c,0,z[c]);else for(I&&(this.models.length=0),n=I||z,c=0,f=n.length;c<f;c++)this.models.push(n[c]);p&&this.sort({silent:!0});if(!b.silent){c=0;for(f=z.length;c<f;c++)(g=z[c]).trigger("add",g,this,b);(p||I&&I.length)&&this.trigger("sort",this,b)}return d?a[0]:a},reset:function(a,b){b||(b={});for(var d=0,c=this.models.length;d<c;d++)this._removeReference(this.models[d],
b);b.previousModels=this.models;this._reset();a=this.add(a,h.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return a},push:function(a,b){return this.add(a,h.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){return this.add(a,h.extend({at:0},b))},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(){return b.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a]||
this._byId[a.id]||this._byId[a.cid]},at:function(a){return this.models[a]},where:function(a,b){return h.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var d in a)if(a[d]!==b.get(d))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});h.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(h.bind(this.comparator,
this));a.silent||this.trigger("sort",this,a);return this},pluck:function(a){return h.invoke(this.models,"get",a)},fetch:function(a){a=a?h.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success,d=this;a.success=function(c){d[a.reset?"reset":"set"](c,a);b&&b(d,c,a);d.trigger("sync",d,c,a)};I(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?h.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var d=this,c=b.success;b.success=function(a,f){b.wait&&d.add(a,
b);c&&c(a,f,b)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(a instanceof l)return a;b=b?h.clone(b):{};b.collection=this;var d=new this.model(a,b);if(!d.validationError)return d;this.trigger("invalid",this,d.validationError,b);return!1},_addReference:function(a,b){this._byId[a.cid]=a;null!=a.id&&(this._byId[a.id]=a);a.collection||(a.collection=
this);a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,d,c){if("add"!==a&&"remove"!==a||d===this)"destroy"===a&&this.remove(b,c),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments)}});h.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without difference indexOf shuffle lastIndexOf isEmpty chain sample".split(" "),
function(a){s.prototype[a]=function(){var d=b.call(arguments);d.unshift(this.models);return h[a].apply(h,d)}});h.each(["groupBy","countBy","sortBy","indexBy"],function(a){s.prototype[a]=function(b,d){var c=h.isFunction(b)?b:function(a){return a.get(b)};return h[a](this.models,c,d)}});q=p.View=function(a){this.cid=h.uniqueId("view");a||(a={});h.extend(this,h.pick(a,u));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var M=/^(\S+)\s*(.*)$/,u="model collection el id attributes className tagName events".split(" ");
h.extend(q.prototype,c,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof p.$?a:p.$(a);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=h.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var d=a[b];h.isFunction(d)||
(d=this[a[b]]);if(d){var c=b.match(M),f=c[1],c=c[2],d=h.bind(d,this),f=f+(".delegateEvents"+this.cid);if(""===c)this.$el.on(f,d);else this.$el.on(f,c,d)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(this.el)this.setElement(h.result(this,"el"),!1);else{var a=h.extend({},h.result(this,"attributes"));this.id&&(a.id=h.result(this,"id"));this.className&&(a["class"]=h.result(this,"className"));a=p.$("<"+h.result(this,"tagName")+
">").attr(a);this.setElement(a,!1)}}});p.sync=function(a,b,d){var c=y[a];h.defaults(d||(d={}),{emulateHTTP:p.emulateHTTP,emulateJSON:p.emulateJSON});var f={type:c,dataType:"json"};d.url||(f.url=h.result(b,"url")||N());null!=d.data||!b||"create"!==a&&"update"!==a&&"patch"!==a||(f.contentType="application/json",f.data=JSON.stringify(d.attrs||b.toJSON(d)));d.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{model:f.data}:{});if(d.emulateHTTP&&("PUT"===c||"DELETE"===c||"PATCH"===
c)){f.type="POST";d.emulateJSON&&(f.data._method=c);var e=d.beforeSend;d.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",c);if(e)return e.apply(this,arguments)}}"GET"===f.type||d.emulateJSON||(f.processData=!1);"PATCH"===f.type&&C&&(f.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});a=d.xhr=p.ajax(h.extend(f,d));b.trigger("request",b,a,d);return a};var C="undefined"!==typeof window&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),
y={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};p.ajax=function(){return p.$.ajax.apply(p.$,arguments)};var z=p.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},G=/\((.*?)\)/g,v=/(\(\?)?:\w+/g,n=/\*\w+/g,B=/[\-{}\[\]+?.,\\\^$|#\s]/g;h.extend(z.prototype,c,{initialize:function(){},route:function(a,b,d){h.isRegExp(a)||(a=this._routeToRegExp(a));h.isFunction(b)&&(d=b,b="");d||(d=this[b]);var c=this;p.history.route(a,
function(f){f=c._extractParameters(a,f);c.execute(d,f);c.trigger.apply(c,["route:"+b].concat(f));c.trigger("route",b,f);p.history.trigger("route",c,b,f)});return this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,b){p.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=h.result(this,"routes");for(var a,b=h.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(B,"\\$&").replace(G,"(?:$1)?").replace(v,
function(a,b){return b?a:"([^/?]+)"}).replace(n,"([^?]*?)");return new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return h.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var F=p.History=function(){this.handlers=[];h.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},S=/^[#\/]|\s+$/g,Z=/^\/+|\/+$/g,L=/msie [\w.]+/,E=/\/$/,ca=/#.*$/;F.started=!1;h.extend(F.prototype,
c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=decodeURI(this.location.pathname+this.location.search);var d=this.root.replace(E,"");a.indexOf(d)||(a=a.slice(d.length))}else a=this.getHash();return a.replace(S,"")},start:function(a){if(F.started)throw Error("Backbone.history has already been started");
F.started=!0;this.options=h.extend({root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);a=this.getFragment();var b=document.documentMode,b=L.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b);this.root=("/"+this.root+"/").replace(Z,"/");b&&this._wantsHashChange&&(this.iframe=p.$('<iframe src="javascript:0" tabindex="-1">').hide().appendTo("body")[0].contentWindow,
this.navigate(a));if(this._hasPushState)p.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!b)p.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&
this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(S,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){p.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);this._checkUrlInterval&&clearInterval(this._checkUrlInterval);F.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));
if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()},loadUrl:function(a){a=this.fragment=this.getFragment(a);return h.any(this.handlers,function(b){if(b.route.test(a))return b.callback(a),!0})},navigate:function(a,b){if(!F.started)return!1;b&&!0!==b||(b={trigger:!!b});var d=this.root+(a=this.getFragment(a||""));a=a.replace(ca,"");if(this.fragment!==a){this.fragment=a;""===a&&"/"!==d&&(d=d.slice(0,-1));if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},
document.title,d);else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(d);if(b.trigger)return this.loadUrl(a)}},_updateHash:function(a,b,d){d?(d=a.href.replace(/(javascript:|#).*$/,""),a.replace(d+"#"+b)):a.hash="#"+b}});p.history=new F;l.extend=s.extend=z.extend=q.extend=F.extend=function(a,
b){var d=this,c;c=a&&h.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)};h.extend(c,d,b);var f=function(){this.constructor=c};f.prototype=d.prototype;c.prototype=new f;a&&h.extend(c.prototype,a);c.__super__=d.prototype;return c};var N=function(){throw Error('A "url" property or function must be specified');},I=function(a,b){var d=b.error;b.error=function(c){d&&d(a,c,b);a.trigger("error",a,c,b)}};return p});(function(g,p){if("function"===typeof define&&define.amd)define(["backbone","underscore"],function(e,b){return g.Marionette=p(g,e,b)});else if("undefined"!==typeof exports){var h=require("backbone"),q=require("underscore");module.exports=p(g,h,q)}else g.Marionette=p(g,g.Backbone,g._)})(this,function(g,p,h){function q(a,b){var c=Error(a);c.name=b||"Error";throw c;}(function(a,b){var c=a.ChildViewContainer;a.ChildViewContainer=function(a,b){var d=function(a){this._views={};this._indexByModel={};this._indexByCustom=
{};this._updateLength();b.each(a,this.add,this)};b.extend(d.prototype,{add:function(a,b){var d=a.cid;this._views[d]=a;a.model&&(this._indexByModel[a.model.cid]=d);b&&(this._indexByCustom[b]=d);this._updateLength();return this},findByModel:function(a){return this.findByModelCid(a.cid)},findByModelCid:function(a){return this.findByCid(this._indexByModel[a])},findByCustom:function(a){return this.findByCid(this._indexByCustom[a])},findByIndex:function(a){return b.values(this._views)[a]},findByCid:function(a){return this._views[a]},
remove:function(a){var d=a.cid;a.model&&delete this._indexByModel[a.model.cid];b.any(this._indexByCustom,function(a,b){if(a===d)return delete this._indexByCustom[b],!0},this);delete this._views[d];this._updateLength();return this},call:function(a){this.apply(a,b.tail(arguments))},apply:function(a,d){b.each(this._views,function(c){b.isFunction(c[a])&&c[a].apply(c,d||[])})},_updateLength:function(){this.length=b.size(this._views)}});b.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),
function(a){d.prototype[a]=function(){var d=[b.values(this._views)].concat(b.toArray(arguments));return b[a].apply(b,d)}});return d}(a,b);a.ChildViewContainer.VERSION="0.1.4";a.ChildViewContainer.noConflict=function(){a.ChildViewContainer=c;return this};return a.ChildViewContainer})(p,h);(function(a,b){var c=a.Wreqr,e=a.Wreqr={};a.Wreqr.VERSION="1.3.1";a.Wreqr.noConflict=function(){a.Wreqr=c;return this};e.Handlers=function(a,b){var d=function(a){this.options=a;this._wreqrHandlers={};b.isFunction(this.initialize)&&
this.initialize(a)};d.extend=a.Model.extend;b.extend(d.prototype,a.Events,{setHandlers:function(a){b.each(a,function(a,d){var c=null;b.isObject(a)&&!b.isFunction(a)&&(c=a.context,a=a.callback);this.setHandler(d,a,c)},this)},setHandler:function(a,b,d){this._wreqrHandlers[a]={callback:b,context:d};this.trigger("handler:add",a,b,d)},hasHandler:function(a){return!!this._wreqrHandlers[a]},getHandler:function(a){var b=this._wreqrHandlers[a];if(b)return function(){var a=Array.prototype.slice.apply(arguments);
return b.callback.apply(b.context,a)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers={}}});return d}(a,b);e.CommandStorage=function(){var c=function(a){this.options=a;this._commands={};b.isFunction(this.initialize)&&this.initialize(a)};b.extend(c.prototype,a.Events,{getCommands:function(a){var b=this._commands[a];b||(b={command:a,instances:[]},this._commands[a]=b);return b},addCommand:function(a,b){this.getCommands(a).instances.push(b)},
clearCommands:function(a){this.getCommands(a).instances=[]}});return c}();e.Commands=function(a){return a.Handlers.extend({storageType:a.CommandStorage,constructor:function(b){this.options=b||{};this._initializeStorage(this.options);this.on("handler:add",this._executeCommands,this);var d=Array.prototype.slice.call(arguments);a.Handlers.prototype.constructor.apply(this,d)},execute:function(a,b){a=arguments[0];b=Array.prototype.slice.call(arguments,1);this.hasHandler(a)?this.getHandler(a).apply(this,
b):this.storage.addCommand(a,b)},_executeCommands:function(a,c,f){var e=this.storage.getCommands(a);b.each(e.instances,function(a){c.apply(f,a)});this.storage.clearCommands(a)},_initializeStorage:function(a){a=a.storageType||this.storageType;this.storage=b.isFunction(a)?new a:a}})}(e);e.RequestResponse=function(a){return a.Handlers.extend({request:function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);if(this.hasHandler(a))return this.getHandler(a).apply(this,b)}})}(e);e.EventAggregator=
function(a,b){var d=function(){};d.extend=a.Model.extend;b.extend(d.prototype,a.Events);return d}(a,b);e.Channel=function(c){c=function(b){this.vent=new a.Wreqr.EventAggregator;this.reqres=new a.Wreqr.RequestResponse;this.commands=new a.Wreqr.Commands;this.channelName=b};b.extend(c.prototype,{reset:function(){this.vent.off();this.vent.stopListening();this.reqres.removeAllHandlers();this.commands.removeAllHandlers();return this},connectEvents:function(a,b){this._connect("vent",a,b);return this},connectCommands:function(a,
b){this._connect("commands",a,b);return this},connectRequests:function(a,b){this._connect("reqres",a,b);return this},_connect:function(a,c,f){if(c){f=f||this;var e="vent"===a?"on":"setHandler";b.each(c,function(c,g){this[a][e](g,b.bind(c,f))},this)}}});return c}(e);e.radio=function(a){var c=function(){this._channels={};this.vent={};this.commands={};this.reqres={};this._proxyMethods()};b.extend(c.prototype,{channel:function(a){if(!a)throw Error("Channel must receive a name");return this._getChannel(a)},
_getChannel:function(b){var d=this._channels[b];d||(d=new a.Channel(b),this._channels[b]=d);return d},_proxyMethods:function(){b.each(["vent","commands","reqres"],function(a){b.each(f[a],function(b){this[a][b]=e(this,a,b)},this)},this)}});var f={vent:"on off trigger once stopListening listenTo listenToOnce".split(" "),commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},e=function(a,b,
d){return function(c){var f=a._getChannel(c)[b],e=Array.prototype.slice.call(arguments,1);return f[d].apply(f,e)}};return new c}(e);return a.Wreqr})(p,h);var e=g.Marionette,b=p.Marionette={};b.VERSION="2.1.0";b.noConflict=function(){g.Marionette=e;return this};p.Marionette=b;b.Deferred=p.$.Deferred;var c=Array.prototype.slice;b.extend=p.Model.extend;b.getOption=function(a,b){if(a&&b)return a.options&&void 0!==a.options[b]?a.options[b]:a[b]};b.proxyGetOption=function(a){return b.getOption(this,a)};
b.normalizeMethods=function(a){var b={};h.each(a,function(a,c){h.isFunction(a)||(a=this[a]);a&&(b[c]=a)},this);return b};b.normalizeUIKeys=function(a,b){if("undefined"!==typeof a)return h.each(h.keys(a),function(c){var e=/@ui\.[a-zA-Z_$0-9]*/g;c.match(e)&&(a[c.replace(e,function(a){return b[a.slice(4)]})]=a[c],delete a[c])}),a};b.actAsCollection=function(a,b){h.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),
function(c){a[c]=function(){var a=[h.values(h.result(this,b))].concat(h.toArray(arguments));return h[c].apply(h,a)}})};b.triggerMethod=function(){function a(a,b,d){return d.toUpperCase()}var b=/(^|:)(\w)/gi;return function(c){var e=this["on"+c.replace(b,a)],g;h.isFunction(e)&&(g=e.apply(this,h.tail(arguments)));h.isFunction(this.trigger)&&this.trigger.apply(this,arguments);return g}}();b.MonitorDOMRefresh=function(a){function b(d){d._isShown&&d._isRendered&&p.$.contains(a,d.el)&&h.isFunction(d.triggerMethod)&&
d.triggerMethod("dom:refresh")}return function(a){a.listenTo(a,"show",function(){a._isShown=!0;b(a)});a.listenTo(a,"render",function(){a._isRendered=!0;b(a)})}}(document.documentElement);(function(a){function b(a,d,c,f){f=f.split(/\s+/);h.each(f,function(b){var f=a[b];f||q('Method "'+b+'" was configured as an event handler, but does not exist.');a.listenTo(d,c,f)})}function c(a,b,d,f){a.listenTo(b,d,f)}function e(a,b,d,c){c=c.split(/\s+/);h.each(c,function(c){a.stopListening(b,d,a[c])})}function g(a,
b,d,c){a.stopListening(b,d,c)}function p(a,b,d,c,f){b&&d&&(h.isFunction(d)&&(d=d.call(a)),h.each(d,function(d,e){h.isFunction(d)?c(a,b,e,d):f(a,b,e,d)}))}a.bindEntityEvents=function(a,e,g){p(a,e,g,c,b)};a.unbindEntityEvents=function(a,b,d){p(a,b,d,g,e)};a.proxyBindEntityEvents=function(b,d){return a.bindEntityEvents(this,b,d)};a.proxyUnbindEntityEvents=function(b,d){return a.unbindEntityEvents(this,b,d)}})(b);b.Callbacks=function(){this._deferred=b.Deferred();this._callbacks=[]};h.extend(b.Callbacks.prototype,
{add:function(a,b){var c=h.result(this._deferred,"promise");this._callbacks.push({cb:a,ctx:b});c.then(function(c){b&&(c.context=b);a.call(c.context,c.options)})},run:function(a,b){this._deferred.resolve({options:a,context:b})},reset:function(){var a=this._callbacks;this._deferred=b.Deferred();this._callbacks=[];h.each(a,function(a){this.add(a.cb,a.ctx)},this)}});b.Controller=function(a){this.options=a||{};h.isFunction(this.initialize)&&this.initialize(this.options)};b.Controller.extend=b.extend;h.extend(b.Controller.prototype,
p.Events,{destroy:function(){var a=c.call(arguments);this.triggerMethod.apply(this,["before:destroy"].concat(a));this.triggerMethod.apply(this,["destroy"].concat(a));this.stopListening();this.off();return this},triggerMethod:b.triggerMethod,getOption:b.proxyGetOption});b.Object=function(a){this.options=h.extend({},h.result(this,"options"),a);this.initialize(this.options)};b.Object.extend=b.extend;h.extend(b.Object.prototype,{initialize:function(){},destroy:function(){this.triggerMethod("before:destroy");
this.triggerMethod("destroy");this.stopListening()},triggerMethod:b.triggerMethod,getOption:b.proxyGetOption,bindEntityEvents:b.proxyBindEntityEvents,unbindEntityEvents:b.proxyUnbindEntityEvents});h.extend(b.Object.prototype,p.Events);b.Region=function(a){this.options=a||{};this.el=this.getOption("el");(this.el=this.el instanceof p.$?this.el[0]:this.el)||q('An "el" must be specified for a region.',"NoElError");this.$el=this.getEl(this.el);if(this.initialize){var b=c.apply(arguments);this.initialize.apply(this,
b)}};h.extend(b.Region,{buildRegion:function(a,b){if(h.isString(a))return this._buildRegionFromSelector(a,b);if(a.selector||a.el||a.regionClass)return this._buildRegionFromObject(a,b);if(h.isFunction(a))return this._buildRegionFromRegionClass(a);q("Improper region configuration type. Please refer to http://marionettejs.com/docs/marionette.region.html#region-configuration-types")},_buildRegionFromSelector:function(a,b){return new b({el:a})},_buildRegionFromObject:function(a,b){var c=a.regionClass||
b,e=h.omit(a,"selector","regionClass");a.selector&&!e.el&&(e.el=a.selector);c=new c(e);a.parentEl&&(c.getEl=function(b){if(h.isObject(b))return p.$(b);var d=a.parentEl;h.isFunction(d)&&(d=d());return d.find(b)});return c},_buildRegionFromRegionClass:function(a){return new a}});h.extend(b.Region.prototype,p.Events,{show:function(a,b){this._ensureElement();var c=b||{},e=a!==this.currentView,g=!!c.forceShow,p=!!this.currentView;!c.preventDestroy&&e&&this.empty();if(e||g)a.once("destroy",h.bind(this.empty,
this)),a.render(),p&&this.triggerMethod("before:swap",a),this.triggerMethod("before:show",a),h.isFunction(a.triggerMethod)?a.triggerMethod("before:show"):this.triggerMethod.call(a,"before:show"),this.attachHtml(a),this.currentView=a,p&&this.triggerMethod("swap",a),this.triggerMethod("show",a),h.isFunction(a.triggerMethod)?a.triggerMethod("show"):this.triggerMethod.call(a,"show");return this},_ensureElement:function(){h.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]);this.$el&&
0!==this.$el.length||q('An "el" '+this.$el.selector+" must exist in DOM")},getEl:function(a){return p.$(a)},attachHtml:function(a){this.el.innerHTML="";this.el.appendChild(a.el)},empty:function(){var a=this.currentView;if(a)return this.triggerMethod("before:empty",a),this._destroyView(),this.triggerMethod("empty",a),delete this.currentView,this},_destroyView:function(){var a=this.currentView;a.destroy&&!a.isDestroyed?a.destroy():a.remove&&a.remove()},attachView:function(a){this.currentView=a;return this},
hasView:function(){return!!this.currentView},reset:function(){this.empty();this.$el&&(this.el=this.$el.selector);delete this.$el;return this},getOption:b.proxyGetOption,triggerMethod:b.triggerMethod});b.Region.extend=b.extend;b.RegionManager=function(a){var b=a.Controller.extend({constructor:function(b){this._regions={};a.Controller.call(this,b)},addRegions:function(a,b){h.isFunction(a)&&(a=a.apply(this,arguments));var d={};h.each(a,function(a,c){h.isString(a)&&(a={selector:a});a.selector&&(a=h.defaults({},
a,b));var e=this.addRegion(c,a);d[c]=e},this);return d},addRegion:function(b,d){var c;c=h.isObject(d);var e=h.isString(d),g=!!d.selector;c=e||c&&g?a.Region.buildRegion(d,a.Region):h.isFunction(d)?a.Region.buildRegion(d,a.Region):d;this.triggerMethod("before:add:region",b,c);this._store(b,c);this.triggerMethod("add:region",b,c);return c},get:function(a){return this._regions[a]},getRegions:function(){return h.clone(this._regions)},removeRegion:function(a){var b=this._regions[a];this._remove(a,b);return b},
removeRegions:function(){var a=this.getRegions();h.each(this._regions,function(a,b){this._remove(b,a)},this);return a},emptyRegions:function(){var a=this.getRegions();h.each(a,function(a){a.empty()},this);return a},destroy:function(){this.removeRegions();return a.Controller.prototype.destroy.apply(this,arguments)},_store:function(a,b){this._regions[a]=b;this._setLength()},_remove:function(a,b){this.triggerMethod("before:remove:region",a,b);b.empty();b.stopListening();delete this._regions[a];this._setLength();
this.triggerMethod("remove:region",a,b)},_setLength:function(){this.length=h.size(this._regions)}});a.actAsCollection(b.prototype,"_regions");return b}(b);b.TemplateCache=function(a){this.templateId=a};h.extend(b.TemplateCache,{templateCaches:{},get:function(a){var d=this.templateCaches[a];d||(d=new b.TemplateCache(a),this.templateCaches[a]=d);return d.load()},clear:function(){var a,b=c.call(arguments),e=b.length;if(0<e)for(a=0;a<e;a++)delete this.templateCaches[b[a]];else this.templateCaches={}}});
h.extend(b.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var a=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(a)},loadTemplate:function(a){var b=p.$(a).html();b&&0!==b.length||q('Could not find template: "'+a+'"',"NoTemplateError");return b},compileTemplate:function(a){return h.template(a)}});b.Renderer={render:function(a,d){a||q("Cannot render the template since its false, null or undefined.","TemplateNotFoundError");
return("function"===typeof a?a:b.TemplateCache.get(a))(d)}};b.View=p.View.extend({constructor:function(a){h.bindAll(this,"render");this.options=h.extend({},h.result(this,"options"),h.isFunction(a)?a.call(this):a);this.events=this.normalizeUIKeys(h.result(this,"events"));h.isObject(this.behaviors)&&new b.Behaviors(this);p.View.apply(this,arguments);b.MonitorDOMRefresh(this);this.listenTo(this,"show",this.onShowCalled)},getTemplate:function(){return this.getOption("template")},serializeModel:function(a){return a.toJSON.apply(a,
c.call(arguments,1))},mixinTemplateHelpers:function(a){a=a||{};var b=this.getOption("templateHelpers");h.isFunction(b)&&(b=b.call(this));return h.extend(a,b)},normalizeUIKeys:function(a){var d=h.result(this,"ui"),c=h.result(this,"_uiBindings");return b.normalizeUIKeys(a,c||d)},configureTriggers:function(){if(this.triggers){var a={},b=this.normalizeUIKeys(h.result(this,"triggers"));h.each(b,function(b,d){var c=h.isObject(b),e=c?b.event:b;a[d]=function(a){if(a){var d=a.preventDefault,g=a.stopPropagation,
h=c?b.stopPropagation:g;(c?b.preventDefault:d)&&d&&d.apply(a);h&&g&&g.apply(a)}this.triggerMethod(e,{view:this,model:this.model,collection:this.collection})}},this);return a}},delegateEvents:function(a){this._delegateDOMEvents(a);this.bindEntityEvents(this.model,this.getOption("modelEvents"));this.bindEntityEvents(this.collection,this.getOption("collectionEvents"));return this},_delegateDOMEvents:function(a){a=a||this.events;h.isFunction(a)&&(a=a.call(this));a=this.normalizeUIKeys(a);var b={},c=h.result(this,
"behaviorEvents")||{},e=this.configureTriggers();h.extend(b,c,a,e);p.View.prototype.delegateEvents.call(this,b)},undelegateEvents:function(){var a=c.call(arguments);p.View.prototype.undelegateEvents.apply(this,a);this.unbindEntityEvents(this.model,this.getOption("modelEvents"));this.unbindEntityEvents(this.collection,this.getOption("collectionEvents"));return this},onShowCalled:function(){},_ensureViewIsIntact:function(){if(this.isDestroyed){var a=Error("Cannot use a view thats already been destroyed.");
a.name="ViewDestroyedError";throw a;}},destroy:function(){if(!this.isDestroyed){var a=c.call(arguments);this.triggerMethod.apply(this,["before:destroy"].concat(a));this.isDestroyed=!0;this.triggerMethod.apply(this,["destroy"].concat(a));this.unbindUIElements();this.remove();return this}},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var a=h.result(this,"_uiBindings");this.ui={};h.each(h.keys(a),function(b){this.ui[b]=this.$(a[b])},this)}},unbindUIElements:function(){this.ui&&
this._uiBindings&&(h.each(this.ui,function(a,b){delete this.ui[b]},this),this.ui=this._uiBindings,delete this._uiBindings)},triggerMethod:b.triggerMethod,normalizeMethods:b.normalizeMethods,getOption:b.proxyGetOption,bindEntityEvents:b.proxyBindEntityEvents,unbindEntityEvents:b.proxyUnbindEntityEvents});b.ItemView=b.View.extend({constructor:function(){b.View.apply(this,arguments)},serializeData:function(){var a={};this.model?a=h.partial(this.serializeModel,this.model).apply(this,arguments):this.collection&&
(a={items:h.partial(this.serializeCollection,this.collection).apply(this,arguments)});return a},serializeCollection:function(a){return a.toJSON.apply(a,c.call(arguments,1))},render:function(){this._ensureViewIsIntact();this.triggerMethod("before:render",this);this._renderTemplate();this.bindUIElements();this.triggerMethod("render",this);return this},_renderTemplate:function(){var a=this.getTemplate();if(!1!==a){a||q("Cannot render the template since it is null or undefined.","UndefinedTemplateError");
var d=this.serializeData(),d=this.mixinTemplateHelpers(d),a=b.Renderer.render(a,d,this);this.attachElContent(a);return this}},attachElContent:function(a){this.$el.html(a);return this},destroy:function(){if(!this.isDestroyed)return b.View.prototype.destroy.apply(this,arguments)}});b.CollectionView=b.View.extend({childViewEventPrefix:"childview",constructor:function(a){var d=a||{};this.sort=h.isUndefined(d.sort)?!0:d.sort;this._initChildViewStorage();b.View.apply(this,arguments);this._initialEvents();
this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment();this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer();this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1;this._triggerBeforeShowBufferedChildren();this.attachBuffer(this,this.elBuffer);this._triggerShowBufferedChildren();this.initRenderBuffer()},_triggerBeforeShowBufferedChildren:function(){this._isShown&&h.invoke(this._bufferedChildren,"triggerMethod","before:show")},
_triggerShowBufferedChildren:function(){this._isShown&&(h.each(this._bufferedChildren,function(a){h.isFunction(a.triggerMethod)?a.triggerMethod("show"):b.triggerMethod.call(a,"show")}),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(a){this.destroyEmptyView();
var b=this.getChildView(a),c=this.collection.indexOf(a);this.addChild(a,b,c)},_onCollectionRemove:function(a){a=this.children.findByModel(a);this.removeChildView(a);this.checkEmpty()},onShowCalled:function(){this.children.each(function(a){h.isFunction(a.triggerMethod)?a.triggerMethod("show"):b.triggerMethod.call(a,"show")})},render:function(){this._ensureViewIsIntact();this.triggerMethod("before:render",this);this._renderChildren();this.triggerMethod("render",this);return this},resortView:function(){this.render()},
_sortViews:function(){this.collection.find(function(a,b){var c=this.children.findByModel(a);return!c||c._index!==b},this)&&this.resortView()},_renderChildren:function(){this.destroyEmptyView();this.destroyChildren();this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this))},showCollection:function(){var a;this.collection.each(function(b,c){a=this.getChildView(b);
this.addChild(b,a,c)},this)},showEmptyView:function(){var a=this.getEmptyView();if(a&&!this._showingEmptyView){this.triggerMethod("before:render:empty");this._showingEmptyView=!0;var b=new p.Model;this.addEmptyView(b,a);this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.destroyChildren(),delete this._showingEmptyView)},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(a,b){var c=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");
h.isFunction(c)&&(c=c.call(this));c=this.buildChildView(a,b,c);this._isShown&&this.triggerMethod.call(c,"before:show");this.children.add(c);this.renderChildView(c,-1);this._isShown&&this.triggerMethod.call(c,"show")},getChildView:function(a){(a=this.getOption("childView"))||q('A "childView" must be specified',"NoChildViewError");return a},addChild:function(a,b,c){var e=this.getOption("childViewOptions");h.isFunction(e)&&(e=e.call(this,a,c));a=this.buildChildView(a,b,e);this._updateIndices(a,!0,c);
this._addChildView(a,c);return a},_updateIndices:function(a,b,c){this.sort&&(b?(a._index=c,this.children.each(function(b){b._index>=a._index&&b._index++})):this.children.each(function(b){b._index>=a._index&&b._index--}))},_addChildView:function(a,d){this.proxyChildEvents(a);this.triggerMethod("before:add:child",a);this.children.add(a);this.renderChildView(a,d);this._isShown&&!this.isBuffering&&(h.isFunction(a.triggerMethod)?a.triggerMethod("show"):b.triggerMethod.call(a,"show"));this.triggerMethod("add:child",
a)},renderChildView:function(a,b){a.render();this.attachHtml(this,a,b);return a},buildChildView:function(a,b,c){a=h.extend({model:a},c);return new b(a)},removeChildView:function(a){a&&(this.triggerMethod("before:remove:child",a),a.destroy?a.destroy():a.remove&&a.remove(),this.stopListening(a),this.children.remove(a),this.triggerMethod("remove:child",a),this._updateIndices(a,!1));return a},isEmpty:function(a){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&
this.showEmptyView()},attachBuffer:function(a,b){a.$el.append(b)},attachHtml:function(a,b,c){a.isBuffering?(a.elBuffer.appendChild(b.el),a._bufferedChildren.push(b)):a._insertBefore(b,c)||a._insertAfter(b)},_insertBefore:function(a,b){var c;this.sort&&b<this.children.length-1&&(c=this.children.find(function(a){return a._index===b+1}));return c?(c.$el.before(a.el),!0):!1},_insertAfter:function(a){this.$el.append(a.el)},_initChildViewStorage:function(){this.children=new p.ChildViewContainer},destroy:function(){if(!this.isDestroyed)return this.triggerMethod("before:destroy:collection"),
this.destroyChildren(),this.triggerMethod("destroy:collection"),b.View.prototype.destroy.apply(this,arguments)},destroyChildren:function(){var a=this.children.map(h.identity);this.children.each(this.removeChildView,this);this.checkEmpty();return a},proxyChildEvents:function(a){var b=this.getOption("childViewEventPrefix");this.listenTo(a,"all",function(){var e=c.call(arguments),g=e[0],p=this.normalizeMethods(h.result(this,"childEvents"));e[0]=b+":"+g;e.splice(1,0,a);"undefined"!==typeof p&&h.isFunction(p[g])&&
p[g].apply(this,e.slice(1));this.triggerMethod.apply(this,e)},this)}});b.CompositeView=b.CollectionView.extend({constructor:function(){b.CollectionView.apply(this,arguments)},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))})},
getChildView:function(a){(a=this.getOption("childView")||this.constructor)||q('A "childView" must be specified',"NoChildViewError");return a},serializeData:function(){var a={};this.model&&(a=h.partial(this.serializeModel,this.model).apply(this,arguments));return a},render:function(){this._ensureViewIsIntact();this.isRendered=!0;this.resetChildViewContainer();this.triggerMethod("before:render",this);this._renderTemplate();this._renderChildren();this.triggerMethod("render",this);return this},_renderChildren:function(){this.isRendered&&
b.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var a={},a=this.serializeData(),a=this.mixinTemplateHelpers(a);this.triggerMethod("before:render:template");var d=this.getTemplate(),a=b.Renderer.render(d,a,this);this.attachElContent(a);this.bindUIElements();this.triggerMethod("render:template")},attachElContent:function(a){this.$el.html(a);return this},attachBuffer:function(a,b){this.getChildViewContainer(a).append(b)},_insertAfter:function(a){this.getChildViewContainer(this).append(a.el)},
getChildViewContainer:function(a){if("$childViewContainer"in a)return a.$childViewContainer;var d;(d=b.getOption(a,"childViewContainer"))?(d=h.isFunction(d)?d.call(a):d,d="@"===d.charAt(0)&&a.ui?a.ui[d.substr(4)]:a.$(d),0>=d.length&&q('The specified "childViewContainer" was not found: '+a.childViewContainer,"ChildViewContainerMissingError")):d=a.$el;return a.$childViewContainer=d},resetChildViewContainer:function(){this.$childViewContainer&&delete this.$childViewContainer}});b.LayoutView=b.ItemView.extend({regionClass:b.Region,
constructor:function(a){a=a||{};this._firstRender=!0;this._initializeRegions(a);b.ItemView.call(this,a)},render:function(){this._ensureViewIsIntact();this._firstRender?this._firstRender=!1:this._reInitializeRegions();return b.ItemView.prototype.render.apply(this,arguments)},destroy:function(){if(this.isDestroyed)return this;this.regionManager.destroy();return b.ItemView.prototype.destroy.apply(this,arguments)},addRegion:function(a,b){this.triggerMethod("before:region:add",a);var c={};c[a]=b;return this._buildRegions(c)[a]},
addRegions:function(a){this.regions=h.extend({},this.regions,a);return this._buildRegions(a)},removeRegion:function(a){this.triggerMethod("before:region:remove",a);delete this.regions[a];return this.regionManager.removeRegion(a)},getRegion:function(a){return this.regionManager.get(a)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(a){var b=this,c={regionClass:this.getOption("regionClass"),parentEl:function(){return b.$el}};return this.regionManager.addRegions(a,
c)},_initializeRegions:function(a){var b;this._initRegionManager();b=h.isFunction(this.regions)?this.regions(a):this.regions||{};var c=this.getOption.call(a,"regions");h.isFunction(c)&&(c=c.call(this,a));h.extend(b,c);this.addRegions(b)},_reInitializeRegions:function(){this.regionManager.emptyRegions();this.regionManager.each(function(a){a.reset()})},getRegionManager:function(){return new b.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager();this.listenTo(this.regionManager,
"before:add:region",function(a){this.triggerMethod("before:add:region",a)});this.listenTo(this.regionManager,"add:region",function(a,b){this[a]=b;this.triggerMethod("add:region",a,b)});this.listenTo(this.regionManager,"before:remove:region",function(a){this.triggerMethod("before:remove:region",a)});this.listenTo(this.regionManager,"remove:region",function(a,b){delete this[a];this.triggerMethod("remove:region",a,b)})}});b.Behavior=function(a,d){function c(b,d){this.view=d;this.defaults=a.result(this,
"defaults")||{};this.options=a.extend({},this.defaults,b);this.$=function(){return this.view.$.apply(this.view,arguments)};this.initialize.apply(this,arguments)}a.extend(c.prototype,d.Events,{initialize:function(){},destroy:function(){this.stopListening()},triggerMethod:b.triggerMethod,getOption:b.proxyGetOption,bindEntityEvents:b.proxyBindEntityEvents,unbindEntityEvents:b.proxyUnbindEntityEvents});c.extend=b.extend;return c}(h,p);b.Behaviors=function(a,b){function c(a,g){g=c.parseBehaviors(a,g||
b.result(a,"behaviors"));c.wrap(a,g,b.keys(e))}var e={setElement:function(a,c){a.apply(this,b.tail(arguments,2));b.each(c,function(a){a.$el=this.$el;a.el=this.el},this);return this},destroy:function(a,c){var e=b.tail(arguments,2);a.apply(this,e);b.invoke(c,"destroy",e);return this},bindUIElements:function(a,c){a.apply(this);b.invoke(c,a)},unbindUIElements:function(a,c){a.apply(this);b.invoke(c,a)},triggerMethod:function(a,c){var e=b.tail(arguments,2);a.apply(this,e);b.each(c,function(b){a.apply(b,
e)})},delegateEvents:function(c,e){var f=b.tail(arguments,2);c.apply(this,f);b.each(e,function(b){a.bindEntityEvents(b,this.model,a.getOption(b,"modelEvents"));a.bindEntityEvents(b,this.collection,a.getOption(b,"collectionEvents"))},this);return this},undelegateEvents:function(c,e){var f=b.tail(arguments,2);c.apply(this,f);b.each(e,function(b){a.unbindEntityEvents(b,this.model,a.getOption(b,"modelEvents"));a.unbindEntityEvents(b,this.collection,a.getOption(b,"collectionEvents"))},this);return this},
behaviorEvents:function(c,e){var f={},g=b.result(this,"ui");b.each(e,function(c,e){var h={},l=b.clone(b.result(c,"events"))||{},p=b.result(c,"ui"),p=b.extend({},g,p),l=a.normalizeUIKeys(l,p);b.each(b.keys(l),function(a){var f=Array(e+2).join(" "),f=a+f;a=b.isFunction(l[a])?l[a]:c[l[a]];h[f]=b.bind(a,c)});f=b.extend(f,h)});return f}};b.extend(c,{behaviorsLookup:function(){throw Error("You must define where your behaviors are stored.See https://github.com/marionettejs/backbone.marionette/blob/master/docs/marionette.behaviors.md#behaviorslookup");
},getBehaviorClass:function(a,e){return a.behaviorClass?a.behaviorClass:b.isFunction(c.behaviorsLookup)?c.behaviorsLookup.apply(this,arguments)[e]:c.behaviorsLookup[e]},parseBehaviors:function(a,e){return b.chain(e).map(function(e,g){var h=new (c.getBehaviorClass(e,g))(e,a),l=c.parseBehaviors(a,b.result(h,"behaviors"));return[h].concat(l)}).flatten().value()},wrap:function(a,c,f){b.each(f,function(f){a[f]=b.partial(e[f],a[f],c)})}});return c}(b,h);b.AppRouter=p.Router.extend({constructor:function(a){p.Router.apply(this,
arguments);this.options=a||{};var b=this.getOption("appRoutes"),c=this._getController();this.processAppRoutes(c,b);this.on("route",this._processOnRoute,this)},appRoute:function(a,b){var c=this._getController();this._addAppRoute(c,a,b)},_processOnRoute:function(a,b){var c=h.invert(this.getOption("appRoutes"))[a];if(h.isFunction(this.onRoute))this.onRoute(a,c,b)},processAppRoutes:function(a,b){if(b){var c=h.keys(b).reverse();h.each(c,function(c){this._addAppRoute(a,c,b[c])},this)}},_getController:function(){return this.getOption("controller")},
_addAppRoute:function(a,b,c){var e=a[c];e||q('Method "'+c+'" was not found on the controller');this.route(b,c,h.bind(e,a))},getOption:b.proxyGetOption});b.Application=function(a){this._initializeRegions(a);this._initCallbacks=new b.Callbacks;this.submodules={};h.extend(this,a);this._initChannel()};h.extend(b.Application.prototype,p.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(a){this._initCallbacks.add(a)},
start:function(a){this.triggerMethod("before:start",a);this._initCallbacks.run(a,this);this.triggerMethod("start",a)},addRegions:function(a){return this._regionManager.addRegions(a)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(a){return this._regionManager.removeRegion(a)},getRegion:function(a){return this._regionManager.get(a)},getRegions:function(){return this._regionManager.getRegions()},module:function(a,d){var e=b.Module.getClass(d),g=c.call(arguments);
g.unshift(this);return e.create.apply(e,g)},getRegionManager:function(){return new b.RegionManager},_initializeRegions:function(a){var d=h.isFunction(this.regions)?this.regions(a):this.regions||{};this._initRegionManager();var c=b.getOption(a,"regions");h.isFunction(c)&&(c=c.call(this,a));h.extend(d,c);this.addRegions(d);return this},_initRegionManager:function(){this._regionManager=this.getRegionManager();this.listenTo(this._regionManager,"before:add:region",function(a){this.triggerMethod("before:add:region",
a)});this.listenTo(this._regionManager,"add:region",function(a,b){this[a]=b;this.triggerMethod("add:region",a,b)});this.listenTo(this._regionManager,"before:remove:region",function(a){this.triggerMethod("before:remove:region",a)});this.listenTo(this._regionManager,"remove:region",function(a,b){delete this[a];this.triggerMethod("remove:region",a,b)})},_initChannel:function(){this.channelName=h.result(this,"channelName")||"global";this.channel=h.result(this,"channel")||p.Wreqr.radio.channel(this.channelName);
this.vent=h.result(this,"vent")||this.channel.vent;this.commands=h.result(this,"commands")||this.channel.commands;this.reqres=h.result(this,"reqres")||this.channel.reqres},triggerMethod:b.triggerMethod,getOption:b.proxyGetOption});b.Application.extend=b.extend;b.Module=function(a,b,c){this.moduleName=a;this.options=h.extend({},this.options,c);this.initialize=c.initialize||this.initialize;this.submodules={};this._setupInitializersAndFinalizers();this.app=b;this.startWithParent=!0;h.isFunction(this.initialize)&&
this.initialize(a,b,this.options)};b.Module.extend=b.extend;h.extend(b.Module.prototype,p.Events,{initialize:function(){},addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(a){this._isInitialized||(h.each(this.submodules,function(b){b.startWithParent&&b.start(a)}),this.triggerMethod("before:start",a),this._initializerCallbacks.run(a,this),this._isInitialized=!0,this.triggerMethod("start",a))},stop:function(){this._isInitialized&&
(this._isInitialized=!1,this.triggerMethod("before:stop"),h.each(this.submodules,function(a){a.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(a,b){this._runModuleDefinition(a,b)},_runModuleDefinition:function(a,c){if(a){var e=h.flatten([this,this.app,p,b,p.$,h,c]);a.apply(this,e)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new b.Callbacks;this._finalizerCallbacks=
new b.Callbacks},triggerMethod:b.triggerMethod});h.extend(b.Module,{create:function(a,b,e){var g=a,p=c.call(arguments);p.splice(0,3);b=b.split(".");var q=[];q[b.length-1]=e;h.each(b,function(b,c){var d=g;g=this._getModule(d,b,a,e);this._addModuleDefinition(d,g,q[c],p)},this);return g},_getModule:function(a,b,c,e,g){g=h.extend({},e);e=this.getClass(e);var p=a[b];p||(p=new e(b,c,g),a[b]=p,a.submodules[b]=p);return p},getClass:function(a){var c=b.Module;return a?a.prototype instanceof c?a:a.moduleClass||
c:c},_addModuleDefinition:function(a,b,c,e){var g=this._getDefine(c);c=this._getStartWithParent(c,b);g&&b.addDefinition(g,e);this._addStartWithParent(a,b,c)},_getStartWithParent:function(a,c){var e;return h.isFunction(a)&&a.prototype instanceof b.Module?(e=c.constructor.prototype.startWithParent,h.isUndefined(e)?!0:e):h.isObject(a)?(e=a.startWithParent,h.isUndefined(e)?!0:e):!0},_getDefine:function(a){return!h.isFunction(a)||a.prototype instanceof b.Module?h.isObject(a)?a.define:null:a},_addStartWithParent:function(a,
b,c){b.startWithParent=b.startWithParent&&c;b.startWithParent&&!b.startWithParentIsConfigured&&(b.startWithParentIsConfigured=!0,a.addInitializer(function(a){b.startWithParent&&b.start(a)}))}});return b});(function(){var g,p,h;(function(q){function e(a,b){var c=b&&b.split("/"),d=x.map,e=d&&d["*"]||{},f,g,h,l,p,q;if(a&&"."===a.charAt(0)&&b){c=c.slice(0,c.length-1);a=c.concat(a.split("/"));for(p=0;f=a[p];p++)if("."===f)a.splice(p,1),p-=1;else if(".."===f){if(1===p&&(".."===a[2]||".."===a[0]))return!0;0<p&&(a.splice(p-1,2),p-=2)}a=a.join("/")}if((c||e)&&d)for(f=a.split("/"),p=f.length;0<p;p-=1){g=f.slice(0,p).join("/");if(c)for(q=c.length;0<q;q-=1)if(h=d[c.slice(0,q).join("/")])if(h=h[g]){l=h;break}if(l=
l||e[g]){f.splice(0,p,l);a=f.join("/");break}}return a}function b(a,b){return function(){return y.apply(q,u.call(arguments,0).concat([a,b]))}}function c(a){return function(b){return e(b,a)}}function a(a){return function(b){s[a]=b}}function d(a){if(w.hasOwnProperty(a)){var b=w[a];delete w[a];M[a]=!0;C.apply(q,b)}if(!s.hasOwnProperty(a))throw Error("No "+a);return s[a]}function f(a,b){var f,g,h=a.indexOf("!");return-1!==h?(f=e(a.slice(0,h),b),a=a.slice(h+1),g=d(f),g&&g.normalize?a=g.normalize(a,c(b)):
a=e(a,b)):a=e(a,b),{f:f?f+"!"+a:a,n:a,p:g}}function l(a){return function(){return x&&x.config&&x.config[a]||{}}}var s={},w={},x={},M={},u=[].slice,C,y;C=function(c,e,g,n){var p=[],u,x,y,C,E;n=n||c;"string"==typeof g&&(g=h(c,g));if("function"==typeof g){e=!e.length&&g.length?["require","exports","module"]:e;for(E=0;E<e.length;E++)if(C=f(e[E],n),y=C.f,"require"===y)p[E]=b(c);else if("exports"===y)p[E]=s[c]={},u=!0;else if("module"===y)x=p[E]={id:c,uri:"",exports:s[c],config:l(c)};else if(s.hasOwnProperty(y)||
w.hasOwnProperty(y))p[E]=d(y);else if(C.p)C.p.load(C.n,b(n,!0),a(y),{}),p[E]=s[y];else if(!M[y])throw Error(c+" missing "+y);e=g.apply(s[c],p);c&&(x&&x.exports!==q&&x.exports!==s[c]?s[c]=x.exports:e===q&&u||(s[c]=e))}else c&&(s[c]=g)};g=y=function(a,b,c,e){return"string"==typeof a?d(f(a,b).f):(a.splice||(x=a,b.splice?(a=b,b=c,c=null):a=q),b=b||function(){},e?C(q,a,b,c):setTimeout(function(){C(q,a,b,c)},15),y)};y.config=function(a){return x=a,y};p=function(a,b,c){b.splice||(c=b,b=[]);w[a]=[a,b,c]};
p.amd={jQuery:!0}})();h=function(g,e){return eval(["r = function(a,b,c){","\n};\n//@ sourceURL="+g+"\n"].join(e)),void 0};p("lib/api/events",["require","exports","module"],function(g,e,b){e.api={LOAD_PROGRESS:"loadProgress",PLAY_PROGRESS:"playProgress",PLAY:"play",PAUSE:"pause",FINISH:"finish",SEEK:"seek",READY:"ready",OPEN_SHARE_PANEL:"sharePanelOpened",CLICK_DOWNLOAD:"downloadClicked",CLICK_BUY:"buyClicked",ERROR:"error"};e.bridge={REMOVE_LISTENER:"removeEventListener",ADD_LISTENER:"addEventListener"}});
p("lib/api/getters",["require","exports","module"],function(g,e,b){b.exports={GET_VOLUME:"getVolume",GET_DURATION:"getDuration",GET_POSITION:"getPosition",GET_SOUNDS:"getSounds",GET_CURRENT_SOUND:"getCurrentSound",GET_CURRENT_SOUND_INDEX:"getCurrentSoundIndex",IS_PAUSED:"isPaused"}});p("lib/api/setters",["require","exports","module"],function(g,e,b){b.exports={PLAY:"play",PAUSE:"pause",TOGGLE:"toggle",SEEK_TO:"seekTo",SET_VOLUME:"setVolume",NEXT:"next",PREV:"prev",SKIP:"skip"}});p("lib/api/api","require exports module lib/api/events lib/api/getters lib/api/setters".split(" "),
function(g,e,b){function c(a){var b,c,d;b=0;for(c=F.length;b<c&&(d=a(F[b]),!1!==d);b++);}function a(a){return a.contentWindow?a.contentWindow:a.contentDocument&&"parentWindow"in a.contentDocument?a.contentDocument.parentWindow:null}function d(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b}function f(a,b,c){c.callbacks[a]=c.callbacks[a]||[];c.callbacks[a].push(b)}function h(a,b){var d=!0,e;return b.callbacks[a]=[],c(function(b){e=b.callbacks[a]||[];if(e.length)return d=!1,!1}),
d}function p(b,c,d){var e=a(d);if(!e.postMessage)return!1;d=d.getAttribute("src").split("?")[0];b=JSON.stringify({method:b,value:c});"//"===d.substr(0,2)&&(d=window.location.protocol+d);d=d.replace(/http:\/\/(w|wt).soundcloud.com/,"https://$1.soundcloud.com");e.postMessage(b,d)}function w(a){var b;return c(function(c){if(c.instance===a)return b=c,!1}),b}function x(b){var d;return c(function(c){if(a(c.element)===b)return d=c,!1}),d}function M(a,b){return function(c){var d=!!(c&&c.constructor&&c.call&&
c.apply),e=w(this),g=!d&&b?c:null;c=d&&!b?c:null;return c&&f(a,c,e),p(a,g,e.element),this}}function u(a,b,c){var d,e,f;d=0;for(e=b.length;d<e;d++)f=b[d],a[f]=M(f,c)}function C(a){var b,c,d=[];for(b in a)a.hasOwnProperty(b)&&(c=a[b],d.push(b+"="+("start_track"===b?parseInt(c,10):c?"true":"false")));return d.join("&")}function y(a,b,c){var d=a.callbacks[b]||[],e,f;e=0;for(f=d.length;e<f;e++)d[e].apply(a.instance,c);c=!1;for(var g in G)if(G.hasOwnProperty(g)&&G[g]===b){c=!0;break}if(c||b===v.READY)a.callbacks[b]=
[]}function z(a){var b,c,d;try{c=JSON.parse(a.data)}catch(e){return!1}b=x(a.source);d=c.method;c=c.value;if(b&&a.origin.replace(Z,"")!==b.domain.replace(Z,""))return!1;if(!b)return d===v.READY&&B.push(a.source),!1;d===v.READY&&(b.isReady=!0,y(b,S),h(S,b));d===v.PLAY&&!b.playEventFired&&(b.playEventFired=!0);d===v.PLAY_PROGRESS&&!b.playEventFired&&(b.playEventFired=!0,y(b,v.PLAY,[c]));a=[];void 0!==c&&a.push(c);y(b,d,a)}e=g("lib/api/events");var G=g("lib/api/getters");g=g("lib/api/setters");var v=
e.api,n=e.bridge,B=[],F=[],S="__LATE_BINDING__",Z=/^http(?:s?)/,L,E;window.addEventListener?window.addEventListener("message",z,!1):window.attachEvent("onmessage",z);b.exports=b=function(b,c,d){(""===b||b&&b.charCodeAt&&b.substr)&&(b=document.getElementById(b));if(!b||1!==b.nodeType||"IFRAME"!==b.nodeName.toUpperCase())throw Error("SC.Widget function should be given either iframe element or a string specifying id attribute of iframe element.");c&&(d=d||{},b.src="http://wt.soundcloud.dev:9200/?url="+
c+"&"+C(d));c=x(a(b));var e,f;return c&&c.instance?c.instance:(e=-1<B.indexOf(a(b)),f=new L(b),F.push(new E(f,b,e)),f)};b.Events=v;window.SC=window.SC||{};window.SC.Widget=b;E=function(a,b,c){this.instance=a;this.element=b;b=b.getAttribute("src");a="";var d,e;"//"===b.substr(0,2)&&(b=window.location.protocol+b);e=b.split("/");b=0;for(d=e.length;b<d&&3>b;b++)a+=e[b],2>b&&(a+="/");this.domain=a;this.isReady=!!c;this.callbacks={}};L=function(){};L.prototype={constructor:L,load:function(a,b){if(a){b=
b||{};var c=this,d=w(this),e=d.element,f=e.src,f=f.substr(0,f.indexOf("?"));d.isReady=!1;d.playEventFired=!1;e.onload=function(){c.bind(v.READY,function(){var a,c=d.callbacks;for(a in c)c.hasOwnProperty(a)&&a!==v.READY&&p(n.ADD_LISTENER,a,d.element);b.callback&&b.callback()})};e.src=f+"?url="+a+"&"+C(b)}},bind:function(a,b){var c=this,d=w(this);return d&&d.element&&(a===v.READY&&d.isReady?setTimeout(b,1):d.isReady?(f(a,b,d),p(n.ADD_LISTENER,a,d.element)):f(S,function(){c.bind(a,b)},d)),this},unbind:function(a){var b=
w(this),c;b&&b.element&&(c=h(a,b),a!==v.READY&&c&&p(n.REMOVE_LISTENER,a,b.element))}};u(L.prototype,d(G));u(L.prototype,d(g),!0)});window.SC=window.SC||{};window.SC.Widget=g("lib/api/api")})();var Artists=Backbone.Collection.extend(),artists=new Artists([{name:"Ethan Miller",mix:"https://soundcloud.com/djethan",photo:"https://i1.sndcdn.com/avatars-000038731944-1lqeu7-t500x500.jpg",col:1,row:1},{name:"Chipper Guy",mix:"https://soundcloud.com/chipper-guy",photo:"https://i1.sndcdn.com/avatars-000023321689-cqclvs-t500x500.jpg",col:1,row:3},{name:"Joshuah Vincent",mix:"https://soundcloud.com/joshuahv",photo:"https://i1.sndcdn.com/avatars-000070791708-kp5nsn-t500x500.jpg",col:2,row:2},{name:"Tiesto",
mix:"https://soundcloud.com/tiesto",photo:"https://i1.sndcdn.com/avatars-000080089386-wy50vf-t500x500.jpg",col:1,row:4},{name:"Alixr",mix:"https://soundcloud.com/djalixr",photo:"https://i1.sndcdn.com/avatars-000086799753-oqfeor-t500x500.jpg",col:1,row:2},{name:"Influence",mix:"https://soundcloud.com/influence-2",photo:"https://i1.sndcdn.com/avatars-000041124403-fxrbrz-t500x500.jpg?e76cf77",col:2,row:1},{name:"Kelee Silva",mix:"https://soundcloud.com/djkeleesilva",photo:"https://i1.sndcdn.com/avatars-000003531961-f3fid3-t500x500.jpg",
col:2,row:3},{name:"Paul Oakenfold",mix:"https://soundcloud.com/pauloakenfold",photo:"https://i1.sndcdn.com/avatars-000084720176-mq6noe-t500x500.jpg",col:2,row:4}]),app=new Backbone.Marionette.Application;app.addRegions({appRegion:"#studio54underground"});
app.module("App",function(g,p,h,q,e,b){g.AppLayoutView=q.LayoutView.extend({tagName:"div",id:"studio54underground",template:"#layout-template",regions:{Content:"#content"},events:{"click #nav-presales":"showPresales","click #nav-lineup":"showLineup","click #nav-directions":"showDirections","click #nav-artshow":"showArtShow"},initialize:function(){},checkBrowserWidth:function(b){var a=e(window);b=this.$("#error-message");a=a.width();1380>a?b.html('<p>Site looks best at <span class="silver">1380px</span> wide, you\'re at <span class="silver">'+
a+"</span>.</p>"):b.html("")},updateNav:function(b){b&&(this.$(".navbar-nav > li").removeClass("active"),e(b.currentTarget).addClass("active"))},positionLogo:function(b){this.$logo||(this.$logo=e("#logo"));var a=this.$logo.attr("class");b!==a&&(this.$logo.hide(),this.$logo.removeClass(a),this.$logo.addClass(b),"hide"!==b&&this.$logo.fadeIn())},showLineup:function(b){this.updateNav(b);this.positionLogo("hide");this.$("#lineup").fadeIn(2E3);this.$(".soundcloud-widget").fadeIn()},showPresales:function(b){this.updateNav(b);
this.positionLogo("presales");this.$("#lineup").hide();this.positionLogo("presales")},showArtShow:function(b){this.updateNav(b);this.positionLogo("lineup");this.$("#lineup").hide();this.$("#artshow").fadeIn()},showDirections:function(b){this.updateNav(b);this.positionLogo("lineup");this.$("#lineup").hide();this.$("#artshow").hide();this.$("#directions").fadeIn()},renderPresales:function(b){var a=new g.PresalesLayoutView;this.Content.show(a);this.updateNav(b)},renderLineup:function(b){b=new g.LineupLayoutView;
this.Content.show(b)},renderDirections:function(b){var a=new g.DirectionsLayoutView;this.Content.show(a);this.updateNav(b)},renderArtShow:function(b){var a=new g.DirectionsLayoutView;this.Content.show(a);this.updateNav(b)},onRender:function(){h.History.started||h.history.start()},onShow:function(){this.renderLineup()}});g.LineupLayoutView=q.LayoutView.extend({tagName:"div",id:"LineupLayoutView",className:"content",template:"#lineup-template",events:{},initialize:function(){},initGridster:function(){gridster=
e("#lineup").gridster({widget_selector:".dj-superstar",widget_margins:[20,24],widget_base_dimensions:[500,130],extra_rows:4,max_size_x:2,avoid_overlapped_widgets:!0,autogenerate_stylesheet:!0}).data("gridster");gridster.disable()},renderGridster:function(){b.each(artists.models,function(b,a){var d=e("#dj-template").html(),d=Handlebars.compile(d)(b.toJSON()),f=b.get("col");row=b.get("row");gridster.add_widget(d,1,1,f,row)})},eventsGridster:function(){var c,a,d,f,g,h=this;gridster.$el.on("mouseenter",
"> .dj-superstar",function(){c=e(this);d=gridster.dom_to_coords(c);f=b.clone(d);g={col:1,row:d.row,size_x:2,size_y:2};2===d.col?gridster.mutate_widget_in_gridmap(c,d,g):gridster.resize_widget(c,2,2);a=c.find(".soundcloud-widget");h.bigSoundCloud(a)}).on("mouseleave","> .dj-superstar",function(){2===f.col?gridster.mutate_widget_in_gridmap(c,d,f):gridster.resize_widget(c,1,1);h.smallSoundcloud(a)})},smallSoundcloud:function(b){b.hide();b.css("height","122px");b.css("width","365px");b.fadeIn(100)},bigSoundCloud:function(b){b.hide();
b.css("height","300px");b.css("width","728px");b.fadeIn(1200)},onRender:function(){console.log("Lineup: onRender")},onShow:function(){this.initGridster();this.renderGridster();this.eventsGridster()}});g.addInitializer(function(){var b=new g.AppLayoutView;app.appRegion.show(b)})});$(document).ready(function(){app.start()});